---
title: コードエディタ
layout: usermanual-page.hbs
position: 2
---

コードエディタは、スクリプトアセットやJSON、HTML、CSSなどのテキストベースのアセットを編集できる、オンラインリアルタイムコラボレーションエディタです。

## コードエディタの開き方

[PlayCanvas Editor][2]内でCtrl + Iを押すことで、コードエディタを開くことができます。また、ツールバーアイコンをクリックすることでも開くことができます。

![Code Editor Toolbar][1]

テキストベースのアセット(スクリプトなど)をダブルクリックすることでも、そのアセットに焦点を当てたコードエディタを開くことができます。

## インターフェース

![Code Editor][3]

### メニュー

メニューには、すべてのツールとオプションが含まれています。それぞれのキーボードショートカットも表示されています。

### ファイル

ここでは、コードエディタで編集可能なすべてのアセットが表示されます。アセットを選択することで、テキストエディタで編集することができます。

アセットを単一クリックすると、プレビューモードで開かれます。これは、他のアセットを開いた場合、同じタブに表示されるということを意味します。アセットを永久に開きたい場合は、ダブルクリックするか編集を開始してください。

アセットを右クリックすると、コンテキストメニューが表示され、さまざまなアセット関連のオプションが表示されます。また、アセットをフォルダにドラッグ&ドロップすることもできます。

### タブ

各開いているアセットには、対応するタブがあります。タブをドラッグして並べ替えることができ、タブ上にマウスカーソルを置くとXボタンが表示され、タブを閉じることができます。タブを右クリックすると、タブ関連のオプションが表示されます。

### テキストエディタ

ここでは、アセットの内容を実際に編集できます。エディタには[Monaco][4]が使用されており、これはVisual Studio Codeで使用されているテキストエディタライブラリと同じです。

さらに、エディタはオートコンプリートをサポートしています。文字を入力するか、Ctrl + Spaceを押すと、オートコンプリート候補のリストが表示されます。

また、エディタはJavaScriptのコードをリントします。つまり、コードを入力すると、エディタは可能なエラーや不審な使用を検出するためにコードをスキャンします。これは[JSHint][13]の支援によって行われます。JSHintは、挙動を制御する特別なコメントもサポートしています。これらの特別なコメントのリストについては、[ドキュメント][14]を参照してください。

### コラボレータ

エディタは、コードを編集する権限を持つすべてのユーザーによるリアルタイムの共同編集をサポートしています。ここには他のユーザーのアバターが表示されます。

### ステータスバー

コードエディタを操作している間に、さまざまなヘルプメッセージを表示できます。

## 保存と元に戻す

コードエディタはコラボレーションをサポートしているため、エディタでドキュメントを開いているすべてのユーザーは、他の開発者が行った変更がリアルタイムで表示されます。ただし、変更は自動的に保存されず、エディタからアプリケーションが実行されると保存されたバージョンがロードされます。つまり、アプリケーションで使用する変更をどの時点でコミットするか選択できます。ユーザーはいつでもドキュメントを保存することができます。

未保存の変更がある場合、ファイルメニューの「元に戻す」オプションを使用すると、これらの変更がキャンセルされ、ドキュメントが保存されたバージョンに復元されます。すべてのユーザーがドキュメントを保存せずに終了した場合、未保存の変更はドキュメントが自動的に保存されたバージョンに戻るまで一時的に保存されます。したがって、ドキュメントを終了する前に作業を保存する必要があります。

## コマンドパレット

テキスト編集機能は、コマンドパレットを使用して見つけることができます。WindowsではCtrl + Shift + P、MacではCmd + Shift + Pを使用します。

![][command-palette]

## ホットキー

エディタは、コードを編集する際に役立つさまざまなショートカットをサポートしています。これらのオプションは、メニューやコマンドパレットで見つけることができます。最も一般的なものは以下の通りです。

| コマンド                         | PC                       | Mac                        |
|---------------------------------|--------------------------|----------------------------|
| 保存                            | Ctrl + S                 | Cmd + S                    |
| 元に戻す                            | Ctrl + Z                 | Cmd + Z                    |
| やり直し                            | Ctrl + Y                 | Cmd + Shift + ZまたはCmd + Y |
| ファイル内検索                    | Ctrl + F                 | Cmd + F                    |
| 次の一致を検索                 | F3                       | Cmd + G                    |
| 前の一致を検索             | Shift + F3               | Cmd + Shift + G            |
| 置換                         | Ctrl + H                 | Cmd + Alt + F              |
| ファイル内検索                   | Ctrl + Shift + F         | Cmd + Shift + F            |
| 行または選択のコメント       | Ctrl + /                 | Cmd + /                    |
| ブロックコメント行または選択 | Alt + Shift + A          | Alt + Shift + A            |
| 行または選択のインデント        | Tab                      | Tab                        |
| 行または選択のインデントを解除     | Shift + Tab              | Shift + Tab                |
| 宣言にジャンプ             | Ctrl + F12               | Cmd + F12                  |
| オートコンプリート表示               | Ctrl + SpaceまたはCtrl + I | Ctrl + SpaceまたはCmd + I    |

## 検索

ファイル内のテキストを検索するには、WindowsではCtrl + F、MacではCmd + Fを押します。これにより、右上に検索パネルが表示されます。

![][monaco-find-panel]

ここに検索語句を入力し、Enterキーを押します。Enterを連続的に押すことで、一致項目間を移動することができます(後方に移動するにはShift + Enter)。

ファイルで検索

### すべてのアセットを検索することで用語を見つけることもできます。これを行うには、Ctrl + Shift + Fキーを押して、下部にあるファイルで検索パネルを表示します。検索語を入力してEnterキーを押します。検索結果が表示する新しいタブが開きます:

入力フィールドの左側には、さまざまな検索オプションがあります。これらを使用すると、正規表現から検索したり、大文字小文字を区別して検索、また、単語全体を検索することができます。regexについて学ぶには、[RegExr][10]をご確認ください。正規表現をテストするためのチートシート、サンプル、オンラインエディタを備えた素晴らしいサイトです。

![ファイルで検索][6]

検索結果の行をダブルクリックすると、その特定の行をアセットに移動できます。

クイックオープン

## Ctrl + P(Macの場合はCmd + P)を押すと、アセットを名前から検索できるパネルが開きます。アセットの名前の入力を開始すると、パネルは探しているアセットを見つけるためにファジー検索を実行します。選択したアセットを開くにはEnterキーを押します。

![任意の場所に移動][11]

設定

## Edit - > Preferencesをクリックして、環境設定を編集できます。テキストエディタのフォントサイズを変更したり、他のエディタ関連のオプションを編集することができます。

![設定][12]

ヒント

## クイック検索

### コードエディタで単語をハイライトすると、ファイル内の他のすべてのマッチがハイライトされ、変数や関数の使用場所を簡単に確認できます。

![クイック検索][7]

複数の選択肢の編集

### ALTを押し、左マウスボタンをクリックすると、エディターに別のカーソルが追加されます。これにより、ファイルの複数の領域で同じ変更を迅速に行うことができます。
![Multiple Selection Editing][8]

長方形の選択

Alt + Shiftを押し続けて左マウスボタンをドラッグすると、テキストの列の選択と編集に役立つ長方形の選択が作成されます。
![長方形選択][9]

### command-palette

monaco-find-panel

![長方形選択][9]

[1]: /images/user-manual/scripting/code-editor-toolbar.png
[2]: /user-manual/designer/
[3]: /images/user-manual/scripting/code-editor.png
[4]: https://github.com/Microsoft/monaco-editor
[6]: /images/user-manual/scripting/find-in-files-results.png
[7]: /images/user-manual/scripting/code-editor-quick-searching.gif
[8]: /images/user-manual/scripting/code-editor-multiple-selection.gif
[9]: /images/user-manual/scripting/code-editor-rectangular-selection.gif
[10]: https://regexr.com/
[11]: /images/user-manual/scripting/go-to-anything.gif
[12]: /images/user-manual/scripting/preferences.png
[13]: https://jshint.com/
[14]: https://jshint.com/docs/
[command-palette]: /images/user-manual/scripting/command-palette.png
[monaco-find-panel]: /images/user-manual/scripting/monaco-find-panel.png
