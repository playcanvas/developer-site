---
title: シンプルなゲームの作成 - パート1
layout: tutorial-page.hbs
tags: games
thumb: "https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/406050/LIJTDO-image-75.jpg"
---

<iframe loading="lazy" src="https://playcanv.as/p/KH37bnOk/?overlay=false" title="シンプルなゲームの作り方 - パート1"></iframe>

*フルプロジェクトは[こちら][3]からアクセスできます*

このシリーズでは、PlayCanvasを使って完全なゲームを作成する方法を紹介します。簡単な「キーピーアップ」ゲームを作成し、サッカーボールをクリックまたはタップして空中を保つことが目的です。

以下のトピックを扱います。

1. **シーンと階層**
1. 材質のセットアップ
1. ゲームスクリプト
1. ボールの物理と入力
1. 音響効果
1. ユーザーインターフェイス

この文章は、ステップ・バイ・ステップのガイドではありませんが、スクリプト全般について話し、それぞれの部分の動作原理を説明します。プロジェクトをフォークして、自分のアカウントにコピーして、一緒に進めることをお勧めします。 

## パート1: シーンと階層

PlayCanvasでは、シーンはエンティティのツリー構造で表現されます。エンティティは、アプリケーション内の「もの」であり、常にID、名前、および変換を持ちます。変換は、エンティティの位置、回転、および拡大を定義する行列です。シーンを構築するには、エンティティを作成し、ツリー構造に配置していきます。ツリー構造により、親エンティティが子エンティティに影響を与えることができます。たとえば、すべての子エンティティは、親の位置、回転、および拡大を継承します。また、親エンティティを無効にすると、子エンティティも無効になります。

「キーピーアップ」のシーンには、上位7つのエンティティがあります。

![Hierarchy][1]

### カメラエンティティ

カメラは、アプリケーションが実行されている間にシーンが表示される場所です。このゲームでは、1つのカメラのみがあり、固定されています。

### ディレクショナルライトエンティティ

ライトは、シーン中の3Dモデルを照らします。同時にアクティブなライトが多いほど、シーンのレンダリングに要する時間が長くなり、フレームレートが低下する可能性があるため、できる限り少数のライトにしましょう。このゲームでは、単一の静止ディレクショナルライトがあります。

### サッカーボールエンティティ

サッカーボールは、シーン中のメインの動的エンティティです。サッカーボールエンティティには3つのコンポーネントが付属しています。サッカーボールを選択して、エディターの右側にある属性パネルを表示すると、コンポーネントが表示されます。3つのコンポーネントは次のとおりです。

#### Soundコンポーネント

Soundコンポーネントでは、音声ファイルを再生することができます。各Soundコンポーネントには、音声ファイルごとにスロットがあります。ループするか、ボリュームやピッチなどの再生設定を選択できます。サッカーボールには、ボールが跳ねたときの音を出すために1つのスロットがあります。

#### Modelコンポーネント

Modelコンポーネントは、3Dモデルアセットをエンティティにアタッチするために使用されます。エンティティに有効なModelコンポーネントがある場合、3Dモデルは、3D空間のエンティティの位置にレンダリングされます。この場合、サッカーボールモデルをアタッチしています。

#### Scriptコンポーネント

Scriptコンポーネントでは、JavaScriptファイルをエンティティにアタッチすることができます。各エンティティは、JavaScriptファイル内のスクリプトのインスタンスを作成します。このようにして、エンティティの動作をカスタマイズできます。詳細については、第3部で解説します。

### 背景

背景エンティティには、さらに1つのModelコンポーネントがあります。今回は、ゲームの背景となる平面の背面を形成するマテリアルアセットのスタジアムのテクスチャを内蔵プレーンエンティティタイプに適用して作成しています。マテリアルのEmissiveスロットを使用して、背景が明るく、ライトとサッカーボールの影響を受けないようにしています。この効果は、昔の映画で使用されたマットペインティングに似ています。

### 衝撃効果エンティティ

衝撃効果エンティティは、ボールが跳ねたときに再生されるパーティクル効果です。第4部で詳しく説明します。

### オーディオ

オーディオエンティティには、さらに多数のSoundコンポーネントが付属しています。このエンティティを使用して、音楽およびゲームオーバーの効果音を再生します。

### ユーザーインターフェイス(UI)

UIエンティティは、ゲームのユーザーインターフェイスの各画面に1つのエンティティを持つ親エンティティです。第5部でUIエンティティについて説明します。

[パート2][2]では、メインのゲームスクリプトについて説明します。

[1]: /images/tutorials/beginner/keepyup-part-one/hierarchy.jpg
[2]: /tutorials/keepyup-part-two/
[3]: https://playcanvas.com/project/406050
