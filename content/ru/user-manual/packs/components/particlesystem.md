---
title: Система частиц
layout: usermanual-page.hbs
position: 12
---

Компонент Particle System определяет источник частиц в 3D-пространстве.

Компонент Particle System можно включить или отключить с помощью переключателя в верхнем правом углу панели компонента. Если включено, система частиц будет добавлена в сцену и отображена.

![Компонент системы частиц][1]

## Свойства

| Свойство        | Описание |
|-----------------|-------------|
| Auto Play       | Если установлено, система частиц будет воспроизводиться сразу после создания. Если этот параметр не установлен, вам нужно будет вызвать функцию воспроизведения компонента системы частиц из скрипта. |
| Particle Count  | Максимальное количество частиц, управляемых этой системой частиц. |
| Lifetime        | Время в секундах между рождением частицы и ее смертью. |
| Emission Rate   | Нижняя граница временного диапазона, определяющего интервал между рождениями частиц. Время для следующего выброса частиц будет выбрано случайным образом между 'Emission Rate' и 'Emission Rate 2'. |
| Emission Rate2  | Верхняя граница временного диапазона, определяющего интервал между рождениями частиц. Время для следующего выброса частиц будет выбрано случайным образом между 'Emission Rate' и 'Emission Rate 2'. |
| Start Angle     | Нижняя граница начального угла вращения частицы, указанного в градусах. Для каждой частицы этот угол выбирается случайным образом между 'Start Angle' и 'Start Angle 2'. |
| Start Angle2    | Верхняя граница начального угла вращения частицы, указанного в градусах. Для каждой частицы этот угол выбирается случайным образом между 'Start Angle' и 'Start Angle 2'. |
| Loop            | Если установлено, система частиц будет испускать частицы бесконечно. В противном случае она будет испускать количество частиц, указанное в свойстве 'Particle Count', а затем остановится. |
| Pre Warm        | Если включено, система частиц будет инициализирована так, как будто она уже завершила полный цикл. Этот параметр доступен только для зацикленных систем частиц. |
| Lighting        | Если установлено, частицы будут освещены направленным и окружающим светом на сцене. В некоторых случаях может быть целесообразно установить нормальную карту на систему частиц для достижения более реалистичного освещения. |
| Half-Lambert    | Включение освещения Half Lambert позволяет избежать слишком плоского вида частиц, когда свет кажется направленным на задние стороны частиц. Это совершенно нереалистичная модель освещения, но она может дать более приятные визуальные результаты. Этот параметр доступен только при включенном освещении. |
| Color Intensity | Масштабирует цвет частиц, позволяя им иметь произвольную яркость. |
| Depth Test      | Если установлено, частицы будут записывать информацию о глубине в буфер глубины. Если снять флажок, буфер глубины останется неизменным, и частицы гарантированно будут перезаписывать друг друга в порядке, в котором они отображаются. |
| Depth Softening | Это переменное значение определяет, насколько частицы исчезают при приближении к другой поверхности. Это позволяет избежать ситуации, когда частицы, кажется, врезаются в поверхности. Установка этого значения на ноль фактически отключает смягчение глубины. Установка значения больше нуля требует отображения сцены на целевую глубину для выполнения сравнений глубины. Это может существенно сказаться на производительности, увеличивая общее количество вызовов отрисовки на каждый кадр. |
| Sorting Mode    | Режим сортировки позволяет контролировать порядок, в котором отображаются частицы. Варианты: <ul><li>None: Частицы отображаются в произвольном порядке. При выборе этого параметра система частиц моделируется на GPU (если базовое оборудование поддерживает текстуры с плавающей точкой), и рекомендуется использовать этот параметр для достижения наилучшей производительности.</li><li>Camera Distance: Частицы сортируются на CPU и отображаются в порядке от заднего плана к переднему (в терминах глубины камеры z).</li><li>Newer First: Частицы сортируются на CPU и отображаются в порядке возраста, сначала молодые.</li><li>Older First: Частицы сортируются на CPU и отображаются в порядке возраста, сначала старые.</li></ul> |
| Blending Mode   | Режим смешивания определяет, как частицы объединяются при записи в кадровый буфер. Допустим, Prgb - это цвет RGB пикселя частицы, Pa - его альфа-значение, а Drgb - цвет RGB, уже находящийся в кадровом буфере. Варианты смешивания: <ul><li>Аддитивный: Prgb + Drgb</li><li>Альфа: Prgb x Pa + Drgb x (1 - Pa)</li><li>Умножение: Prgb * Drgb</li></ul> |
| Stretch         | Значение в мировых единицах, которое контролирует степень растяжения частиц на основе их скорости. Частицы растягиваются от своего центра к предыдущей позиции. |
| Align To Motion | Ориентировать частицы в направлении их движения. |
| Spawn Bounds    | Половина размеров ограничивающего параллелепипеда в локальной системе координат, в пределах которого частицы создаются в случайных позициях. |
| Wrap            | Включает границы обертки. |
| Wrap Bounds     | Объем AABB в мировой системе координат, центрированный на позиции сущности-владельца. Если частица пересекает границу одной стороны объема, она телепортируется на противоположную сторону. Вы можете использовать это для создания эффектов окружающей среды, таких как дождь, перемещая сущность-владельца обернутого излучателя. |
| Color Map       | Текстура цветовой карты, которую нужно применить ко всем частицам в системе. Если текстурный ассет не назначен, используется текстура-заплатка по умолчанию. |
| Normal Map      | Текстура нормальной карты, которую нужно применить ко всем частицам в системе. Применение нормальной карты может сделать частицы-билборды более согласованными с освещением сцены. |
| Particle Mesh   | Актив модели. Первая найденная сетка в модели используется для представления всех частиц, а не плоского билборда. |
| Local Velocity  | Кривая, определяющая, как изменяется скорость каждой частицы относительно локальной системы координат системы частиц со временем. Если в редакторе кривых указаны две кривые, локальная скорость будет случайной интерполяцией между обеими кривыми. |
| Velocity        | Кривая, определяющая, как изменяется скорость каждой частицы относительно мировой системы координат со временем. Если в редакторе кривых указаны две кривые, скорость будет случайной интерполяцией между обеими кривыми. |
| Rotation Speed  | Кривая, определяющая, как изменяется угловая скорость каждой частицы со временем. Если в редакторе кривых указаны две кривые, угловая скорость будет случайной интерполяцией между обеими кривыми. |
| Scale           | Кривая, определяющая, как изменяется масштаб каждой частицы со временем. По умолчанию частица имеет ширину и высоту 1 единицы. Если в редакторе кривых указаны две кривые, масштаб будет случайной интерполяцией между обеими кривыми. |
| Color           | Кривая, определяющая, как изменяется цвет каждой частицы со временем. |
| Lifetime        | Кривая, определяющая, как изменяется непрозрачность каждой частицы со временем. Если в редакторе кривых указаны две кривые, непрозрачность будет случайной интерполяцией между обеими кривыми. |

## Интерфейс сценариев

Вы можете управлять свойствами компонента системы частиц с помощью [компонента сценария][2]. Интерфейс сценариев компонента системы частиц находится [здесь][3].

[1]: /images/user-manual/scenes/components/component-particle-system.png
[2]: /user-manual/packs/components/script
[3]: /api/pc.ParticleSystemComponent.html
