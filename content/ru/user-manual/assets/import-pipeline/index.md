---
title: Конвейер импорта ассетов
layout: usermanual-page.hbs
position: 2
---

Некоторые ассеты загружаются в исходном формате и должны быть преобразованы в "целевой" формат, прежде чем они смогут быть использованы в игре во время выполнения. Этот процесс называется *Импортирование*. Например, 3D-модель может быть загружена в виде файла FBX, но должна быть преобразована в совместимый с PlayCanvas файл модели, прежде чем она сможет быть загружена в игру.

Некоторые ассеты не нуждаются в импорте, прежде чем они смогут быть использованы. Например, изображение в формате PNG может быть использовано в качестве текстуры сразу.

## Задачи ассетов

Когда загружается исходный ассет, PlayCanvas запускает задачу ассетов для выполнения этого процесса импорта на нашем сервере.

Существует множество параметров, доступных для настройки поведения конвейера импорта в соответствии с вашими потребностями.

<img loading="lazy" src="/images/user-manual/assets/import-pipeline/asset-tasks.png" width="480">

### Поиск связанных ассетов

Когда вы обновляете исходный ассет, загружая новую версию файла, существует два возможных поведения для обновления целевых ассетов, созданных конвейером импорта.

* Если включен параметр **Поиск связанных ассетов**, конвейер будет обновлять целевые ассеты, независимо от того, в какой папке они находятся.
* Если параметр **Поиск связанных ассетов** не включен, конвейер будет искать целевые ассеты только в той же папке, что и исходный ассет.

Таким образом, если вы оставите этот параметр включенным, вы сможете организовать свои исходные и целевые ассеты в папках и быть уверенными, что при обновлении исходных ассетов будут обновлены все связанные ассеты.

### Ассеты по умолчанию для предзагрузки

Новые созданные ассеты автоматически будут установлены на [предзагрузку][2] или нет, в зависимости от того, включен ли этот параметр или нет. Исключение составляют файлы JavaScript-скриптов, которые всегда будут установлены на предзагрузку при создании.

## Настройки импорта текстур

Эти параметры влияют только на импорт изображений и текстур.

### Текстура POT (степень двойки)

Когда этот параметр включен, текстуры, которые не являются степенью двойки, будут преобразованы в ближайшее разрешение степени двойки при импорте.

### Создание атласов

Загруженные изображения будут импортированы в виде атласа текстур, а не обычного ассета текстуры. Это полезный экономитель времени при загрузке множества спрайтов или пользовательских ассетов.

## Настройки импорта моделей

Эти параметры влияют только на импорт файлов моделей или сцен (например, FBX, Collada, obj и т. д.)

### Сохранение сопоставлений материалов

Когда файл модели обновляется или повторно импортируется, редактор будет пытаться сохранить сопоставления материалов, установленные на нем.

### Перезапись моделей

Когда файл модели обновляется или повторно импортируется, этот параметр определяет, будет ли перезаписан целевой файл модели или нет. Поведение по умолчанию - перезаписать новой моделью.

### Перезапись анимаций

Когда файл модели обновляется или повторно импортируется, этот параметр определяет, будут ли перезаписаны анимации, созданные из модели или нет. Поведение по умолчанию - перезаписать новыми анимациями.

### Перезапись материалов

Когда файл модели обновляется или повторно импортируется, этот параметр определяет, будут ли перезаписаны материалы, созданные из модели или нет. Поведение по умолчанию - оставить существующие материалы.

### Перезапись текстур

Когда файл модели обновляется или повторно импортируется, этот параметр определяет, будут ли перезаписаны текстуры, созданные из модели или нет. Поведение по умолчанию - перезаписать новыми текстурами.

### Конвертировать в GLB

Включено по умолчанию для новых проектов, импортированные модели и анимации будут создавать ассеты моделей и анимаций GLB вместо устаревшего формата JSON.

### Импорт иерархии

Доступно только при использовании опции [Конвертировать в GLB](#convert-to-glb). Когда файл модели импортируется, создается ассет шаблона, содержащий полную иерархию модели в виде сущностей, что позволяет вам манипулировать ими непосредственно в редакторе. Подробнее об этой функции см. [здесь][3].

### Сжатие сетки

Доступно только при использовании опции [Конвертировать в GLB](#convert-to-glb). Установка этого параметра в формат сжатия автоматически сжимает данные сетки при импорте или повторном импорте файлов моделей. Это может значительно сократить размер файлов GLB за счет некоторых затрат на декомпрессию во время выполнения.

Если вы используете сжатие Draco, не забудьте импортировать модуль Draco WASM в проект, иначе модели не загрузятся.

<img loading="lazy" src="/images/user-manual/assets/import-pipeline/draco-import-button.png" width="480">

### Создание папки FBX

При импорте файла модели (например, GLB или FBX), редактор создаст папку для созданных при импорте ассетов, таких как ассеты отображения, шаблоны и материалы.

Если в текущей папке уже есть файл модели (источника) или папка с таким же именем, как у импортируемого файла, он перезапишет существующие ассеты, а не создаст новую папку.

## Настройки импорта анимации

Пожалуйста, обратитесь к [разделу анимации][4] для получения дополнительной информации.

[2]: /user-manual/assets/preloading-and-streaming/
[3]: /user-manual/assets/import-pipeline/import-hierarchy/
[4]: /user-manual/assets/animation/
