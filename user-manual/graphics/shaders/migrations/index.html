<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-user-manual/graphics/shaders/migrations" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Shader Chunk Migrations | PlayCanvas Developer Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.playcanvas.com/img/playcanvas-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developer.playcanvas.com/img/playcanvas-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developer.playcanvas.com/user-manual/graphics/shaders/migrations/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Shader Chunk Migrations | PlayCanvas Developer Site"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://developer.playcanvas.com/user-manual/graphics/shaders/migrations/"><link data-rh="true" rel="alternate" href="https://developer.playcanvas.com/user-manual/graphics/shaders/migrations/" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.playcanvas.com/ja/user-manual/graphics/shaders/migrations/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://developer.playcanvas.com/user-manual/graphics/shaders/migrations/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://69QRBNV3NH-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Graphics","item":"https://developer.playcanvas.com/user-manual/graphics/"},{"@type":"ListItem","position":2,"name":"Shaders","item":"https://developer.playcanvas.com/user-manual/graphics/shaders/"},{"@type":"ListItem","position":3,"name":"Shader Chunk Migrations","item":"https://developer.playcanvas.com/user-manual/graphics/shaders/migrations"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="PlayCanvas Developer Site" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.3e3c6243.css">
<script src="/assets/js/runtime~main.ab24e4d8.js" defer="defer"></script>
<script src="/assets/js/main.11e6f0b2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/playcanvas.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/playcanvas.png" alt="PlayCanvas Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/playcanvas.png" alt="PlayCanvas Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">PlayCanvas Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" path="/user-manual" href="/user-manual/">User Manual</a><a class="navbar__item navbar__link" href="/tutorials/">Tutorials</a><a href="https://api.playcanvas.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/user-manual/graphics/shaders/migrations/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/ja/user-manual/graphics/shaders/migrations/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li></ul></div><a href="https://discord.gg/RSaMRzg" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--discord-link" aria-label="Discord Invite"></a><a href="https://github.com/playcanvas/engine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--github-link" aria-label="GitHub Repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-section-header">Introduction</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/user-manual/">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/account-management/">Account Management</a><button aria-label="Expand sidebar category &#x27;Account Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-section-header">Core Products</div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/engine/">PlayCanvas Engine</a><button aria-label="Expand sidebar category &#x27;PlayCanvas Engine&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/web-components/">PlayCanvas Web Components</a><button aria-label="Expand sidebar category &#x27;PlayCanvas Web Components&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/playcanvas-react/">PlayCanvas React</a><button aria-label="Expand sidebar category &#x27;PlayCanvas React&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/editor/">PlayCanvas Editor</a><button aria-label="Expand sidebar category &#x27;PlayCanvas Editor&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar-section-header">Common Topics</div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/scenes/">Scenes</a><button aria-label="Expand sidebar category &#x27;Scenes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/assets/">Assets</a><button aria-label="Expand sidebar category &#x27;Assets&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/scripting/">Scripting</a><button aria-label="Expand sidebar category &#x27;Scripting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/user-manual/graphics/">Graphics</a><button aria-label="Collapse sidebar category &#x27;Graphics&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/user-manual/graphics/cameras/">Cameras</a><button aria-label="Expand sidebar category &#x27;Cameras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/user-manual/graphics/lighting/">Lighting</a><button aria-label="Expand sidebar category &#x27;Lighting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/user-manual/graphics/physical-rendering/">Physically Based Rendering</a><button aria-label="Expand sidebar category &#x27;Physically Based Rendering&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/user-manual/graphics/linear-workflow/">Linear Workflow</a><button aria-label="Expand sidebar category &#x27;Linear Workflow&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/user-manual/graphics/shaders/">Shaders</a><button aria-label="Collapse sidebar category &#x27;Shaders&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/user-manual/graphics/shaders/glsl-specifics/">GLSL Specifics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/user-manual/graphics/shaders/wgsl-specifics/">WGSL Specifics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/user-manual/graphics/shaders/migrations/">Shader Chunk Migrations</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/user-manual/graphics/posteffects/">Post Effects</a><button aria-label="Expand sidebar category &#x27;Post Effects&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/user-manual/graphics/particles/">Particles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/user-manual/graphics/layers/">Layers</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/user-manual/graphics/advanced-rendering/">Advanced Rendering</a><button aria-label="Expand sidebar category &#x27;Advanced Rendering&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/gaussian-splatting/">Gaussian Splatting</a><button aria-label="Expand sidebar category &#x27;Gaussian Splatting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/animation/">Animation</a><button aria-label="Expand sidebar category &#x27;Animation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/physics/">Physics</a><button aria-label="Expand sidebar category &#x27;Physics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/2D/">2D</a><button aria-label="Expand sidebar category &#x27;2D&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/user-interface/">User Interface</a><button aria-label="Expand sidebar category &#x27;User Interface&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/xr/">XR</a><button aria-label="Expand sidebar category &#x27;XR&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/optimization/">Optimization</a><button aria-label="Expand sidebar category &#x27;Optimization&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/api/">REST API</a><button aria-label="Expand sidebar category &#x27;REST API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user-manual/pcui/">PCUI</a><button aria-label="Expand sidebar category &#x27;PCUI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/user-manual/faq/">Common Questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/user-manual/glossary/">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/user-manual/press-pack/">Press Pack</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/user-manual/graphics/"><span>Graphics</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/user-manual/graphics/shaders/"><span>Shaders</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Shader Chunk Migrations</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Shader Chunk Migrations</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>The PlayCanvas Engine&#x27;s material shader chunk system is undergoing substantial changes in order to support a more flexible material system. Please see <a href="https://github.com/playcanvas/engine/issues/4250" target="_blank" rel="noopener noreferrer">this page</a> for more context.</p>
<p>In order to help users migrate their existing custom shader chunks, this page lists the changes made to chunks and organizes them by engine release (starting v1.51).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chunk-api-versions">Chunk API Versions<a href="#chunk-api-versions" class="hash-link" aria-label="Direct link to Chunk API Versions" title="Direct link to Chunk API Versions">​</a></h2>
<p>The debug version of the Engine will report any API changes to the runtime console when it detects overridden chunks. For example:</p>
<p><img decoding="async" loading="lazy" alt="Console output" src="/assets/images/console-warning-62f8d3ce4cbe0b77de71109d1bcb0e12.png" width="1592" height="52" class="img_ev3q"></p>
<p>Once an application&#x27;s chunks have been updated to the latest API they must be flagged as such. For example, after updating a material&#x27;s custom chunks to the latest engine release (say v2.8), specify this in the chunks object as follows:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> materialChunksGLSL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> material</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getShaderChunks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">SHADERLANGUAGE_GLSL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">materialChunksGLSL</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;diffusePS&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;...&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">material</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">shaderChunksVersion</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2.8&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>By doing this you will no longer see warning messages in the console.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chunk-changes">Chunk changes<a href="#chunk-changes" class="hash-link" aria-label="Direct link to Chunk changes" title="Direct link to Chunk changes">​</a></h2>
<p>The following tables break down the chunk changes by Engine release.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="engine-v26"><em>Engine v2.6</em><a href="#engine-v26" class="hash-link" aria-label="Direct link to engine-v26" title="Direct link to engine-v26">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="internal-engine-chunks">Internal engine chunks<a href="#internal-engine-chunks" class="hash-link" aria-label="Direct link to Internal engine chunks" title="Direct link to Internal engine chunks">​</a></h4>
<p>The following vertex shader chunks were removed and replaced by a single <code>litMainVS</code> chunk:</p>
<ul>
<li><code>endVS</code></li>
<li><code>startVS</code></li>
<li><code>baseVS</code></li>
<li><code>viewNormalVS</code></li>
<li><code>baseNineSlicedVS</code></li>
</ul>
<p><code>lightmapDirAddPS</code> chunk has been removed, and its functionality integrated into <code>lightmapAddPS</code> chunk.</p>
<p><code>TBNderivativePS</code> and <code>TBNObjectSpacePS</code> chunks were removed, and their functionality integrated into <code>TBNPS</code> chunk.</p>
<p><code>startPS</code> chunk has been removed, and a replacement larger chunk will be added at a later stage.</p>
<p><code>outputAlphaOpaquePS</code> and <code>outputAlphaPremulPS</code> chunks were merged into <code>outputAlphaPS</code> chunk.</p>
<p><code>cubeMapProjectBoxPS</code> and <code>cubeMapProjectNonePS</code> chunks were merged into <code>cubeMapProjectPS</code> chunk.</p>
<p><code>envMultiplyPS</code> and <code>envConstPS</code> were merged into <code>envProcPS</code> chunk.</p>
<p><code>aoSpecOccSimplePS</code>, <code>aoSpecOccConstSimplePS</code>, <code>aoSpecOccPS</code> and <code>aoSpecOccConstPS</code> chunks were merged into <code>aoSpecOccPS</code> chunk.</p>
<p><code>shadowSampleCoordPS</code> chunk has been removed, and its content is now part of <code>lightFunctionPS</code> chunk.</p>
<p>The following reflection related chunks had a slight change in how the texture decode function is provided. <code>$DECODE</code> is now <code>{reflectionDecode}</code> and <code>$DECODE_CUBEMAP</code> is now <code>{reflectionCubemapDecode}</code>. These chunks were affected:</p>
<ul>
<li><code>reflectionEnvPS</code></li>
<li><code>reflectionEnvHQPS</code></li>
<li><code>reflectionCubePS</code></li>
<li><code>reflectionSpherePS</code></li>
</ul>
<p>The following ambient lighting related chunks had been removed, and merged into a single <code>ambientPS</code> chunk:</p>
<ul>
<li><code>ambientConstantPS</code></li>
<li><code>ambientEnvPS</code></li>
<li><code>ambientSHPS</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="engine-v25"><em>Engine v2.5</em><a href="#engine-v25" class="hash-link" aria-label="Direct link to engine-v25" title="Direct link to engine-v25">​</a></h3>
<p>The following chunks were removed and replaced by a single <code>fogPS</code> chunk:</p>
<ul>
<li><code>fogExpPS</code></li>
<li><code>fogExp2PS</code></li>
<li><code>fogLinearPS</code></li>
<li><code>fogNonePS</code></li>
</ul>
<p>The following chunks were removed and replaced by a single <code>gammaPS</code> chunk:</p>
<ul>
<li><code>gamma1_0PS</code></li>
<li><code>gamma2_2PS</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="engine-v170"><em>Engine v1.70</em><a href="#engine-v170" class="hash-link" aria-label="Direct link to engine-v170" title="Direct link to engine-v170">​</a></h3>
<table><thead><tr><th>Chunk</th><th>Changes</th></tr></thead><tbody><tr><td><code>refractionDynamicPS</code></td><td><ul><li>Now accepts additional parameter <code>float dispersion</code>.</li></ul></td></tr><tr><td><code>refractionCubePS</code></td><td><ul><li>Now accepts additional parameter <code>float dispersion</code>.</li></ul></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="engine-v165"><em>Engine v1.65</em><a href="#engine-v165" class="hash-link" aria-label="Direct link to engine-v165" title="Direct link to engine-v165">​</a></h3>
<p>In 1.62, global variables used to pass the values between the front end back end chunks were grouped into structures LitShaderArguments, IridescenceArgs, ClearcoatArgs and SheenArgs. Those were causing multiple compatibility issues on Android devices, and so in 1.65, these are being converted back to global variables. For example <code>litShaderArgs.albedo</code> is now <code>litArgs_albedo</code>.</p>
<p>These are the new global variables:</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Surface albedo absorbance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> litArgs_albedo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Transparency</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_opacity</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Emission color</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> litArgs_emission</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Normal direction in world space</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> litArgs_worldNormal</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Ambient occlusion amount, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_ao</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Light map color</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> litArgs_lightmap</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Light map direction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> litArgs_lightmapDir</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Surface metalness factor, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_metalness</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The f0 specularity factor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> litArgs_specularity</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Specularity intensity factor, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_specularityFactor</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The microfacet glossiness factor, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_gloss</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Glossiness of the sheen layer, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_sheen_gloss</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The color of the f0 specularity factor for the sheen layer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> litArgs_sheen_specularity</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Transmission factor (refraction), range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_transmission</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Uniform thickness of medium, used by transmission, range [0..inf]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_thickness</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Index of refraction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_ior</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Iridescence effect intensity, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_iridescence_intensity</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Thickness of the iridescent microfilm layer, value is in nanometers, range [0..1000]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_iridescence_thickness</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The normal used for the clearcoat layer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> litArgs_clearcoat_worldNormal</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Intensity of the clearcoat layer, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_clearcoat_specularity</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Glossiness of clearcoat layer, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> litArgs_clearcoat_gloss</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>These are the chunk that had their signature changed to accept individual members, instead of the whole structures:</p>
<ul>
<li>endPS</li>
<li>metalnessModulatePS</li>
<li>outputAlphaPS</li>
<li>outputAlphaPremulPS</li>
<li>fresnelSchlickPS</li>
<li>iridescenceDiffractionPS</li>
<li>lightmapAddPS</li>
<li>lightmapDirAddPS</li>
<li>refractionCubePS</li>
<li>refractionDynamicPS</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="engine-v162"><em>Engine v1.62</em><a href="#engine-v162" class="hash-link" aria-label="Direct link to engine-v162" title="Direct link to engine-v162">​</a></h3>
<p>In PlayCanvas, we have two sets of shader chunks, one set we refer to as the shader frontend, which provide values for the arguments passed to our lighting algorithm, also called the shader backend.</p>
<p>With 1.62, we are creating a clearer distinction between these two, such that the values passed to the backend are well defined and known in advance, not automatically generated. This allows for writing a fully custom shader that can interface with our lighting code just like how our native materials do.</p>
<p>As a result of that, almost all backend chunks have been changed to accommodate for the split. This means that any custom backend shader chunks must move away from using globals to using the arguments passed to them by the lighting backend.</p>
<p>This change also makes some chunks, such as the clearcoat specific ones, redundant, as their functions have become reusable when their no longer reliant on global values.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changes">Changes<a href="#changes" class="hash-link" aria-label="Direct link to Changes" title="Direct link to Changes">​</a></h4>
<p>This release breaks most lit/frag chunks. Most of these chunks have had their signatures changed to accept the various values they need, instead of relying on globals. With that said, most globals are still set in the shader. An example of this change is:</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">combineColor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dAlbedo </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> dDiffuseLight</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Is now expressed:</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">combineColor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> albedo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> sheenSpecularity</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> clearcoatSpecularity</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> albedo </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> dDiffuseLight</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Where we previously had globals, in 1.62 they are packed into structs, these structs are the primary LitShaderArgs which is defined as such:</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">LitShaderArguments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Transparency</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> opacity</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Normal direction in world space</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> worldNormal</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Surface albedo absorbance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> albedo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Transmission factor (refraction), range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> transmission</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Uniform thickness of medium, used by transmission, range [0..inf]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> thickness</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// The f0 specularity factor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> specularity</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// The microfacet glossiness factor, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> gloss</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Surface metalness factor, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> metalness</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Specularity intensity factor, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> specularityFactor</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Ambient occlusion amount, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> ao</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Emission color</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> emission</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Light map color</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> lightmap</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Light map direction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> lightmapDir</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Iridescence extension arguments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    IridescenceArgs iridescence</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Clearcoat extension arguments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ClearcoatArgs clearcoat</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Sheen extension arguments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SheenArgs sheen</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>The last three arguments are our shading extensions. IridescenceArgs is defined as such:</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">IridescenceArgs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Iridescence effect intensity, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> intensity</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Thickness of the iridescent microfilm layer, value is in nanometers, range [0..1000]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> thickness</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>ClearcoatArgs:</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">ClearcoatArgs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Intensity of the clearcoat layer, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> specularity</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Glossiness of clearcoat layer, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> gloss</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// The normal used for the clearcoat layer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> worldNormal</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>SheenArgs:</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">SheenArgs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Glossiness of the sheen layer, range [0..1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> gloss</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// The color of the f0 specularity factor for the sheen layer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">vec3</span><span class="token plain"> specularity</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Chunk</th><th>Changes</th></tr></thead><tbody><tr><td><code>ambient(Constant/Env/SH)</code></td><td><ul><li>Accepts a vec3 for the world normal instead of using <code>dNormalW</code></li></ul></td></tr><tr><td><code>aoDiffuseOcc</code></td><td><ul><li>Accepts a float value for the AO, instead of using <code>dAO</code></li></ul></td></tr><tr><td><code>aoSpec(Occ/OccConst/OccConstSimple/OccSimple)</code></td><td><ul><li>Accepts float gloss, float ao, a vec3 world normal and a vec3 view direction instead of using <code>dGlossiness</code>, <code>dAo</code>, <code>dNormalW</code> and <code>dViewDirW</code></li></ul></td></tr><tr><td><code>combine</code></td><td><ul><li>Accepts vec3 for albedo, sheen specularity and a float for clearcoat specularity instead of using <code>dAlbedo</code>, <code>sSpecularity</code> and <code>ccSpecularity</code></li></ul></td></tr><tr><td><code>clusteredLight</code></td><td><ul><li>Reliance on globals have been reduced to only <code>dLightPosW</code>, <code>dLightDirW</code>, <code>dLightDirNormW</code> and <code>dShadowCoord</code> which is initialized per light</li></ul></td></tr><tr><td><code>clusteredLightShadow</code></td><td><ul><li>For omni lights, generates a local variable instead of relying on <code>dShadowCoord</code>. For spot lights, accepts the shadow coordinate instead of using <code>dShadowCoord</code> as before</li></ul></td></tr><tr><td><code>combine</code></td><td><ul><li>Accepts vec3 albedo, vec3 sheen specularity and float clearcoat specularity instead of using <code>dAlbedo</code>, <code>sSpecularity</code> and <code>ccSpecularity</code></li></ul></td></tr><tr><td><code>end</code></td><td><ul><li>Passes albedo, sheen specularity and clearcoat specularity to combine using <code>litShaderArgs</code>, uses <code>litShaderArgs.emission</code> instead of relying on <code>dEmission</code></li></ul></td></tr><tr><td><code>fallOff(InvSquared/Linear)</code></td><td><ul><li>Accepts a float light radius and a vec3 light direction instead of using <code>dLightDirW</code></li></ul></td></tr><tr><td><code>fresnelSchlick</code></td><td><ul><li>Accepts gloss and <code>IridescenceArgs</code> instead of relying on <code>dGlossiness</code>, <code>dIridescenceFresnel</code> and <code>dIridescence</code></li></ul></td></tr><tr><td><code>iridescenceDiffraction</code></td><td><ul><li>Accepts a float as iridescence thickness instead of using <code>dIridescenceThickness</code></li></ul></td></tr><tr><td><code>lightDiffuseLambert</code></td><td><ul><li>Accepts vec3 world normal, a vec3 view direction, a vec3 light direction and a vec3 normalized light direction instead of using <code>dNormalW</code>, <code>dViewDirW</code>, <code>dLightDirW</code> and <code>dLightDirNormW</code></li></ul></td></tr><tr><td><code>lightSheen</code></td><td><ul><li>Accepts a vec3 half vector, a vec3 world normal, a vec3 view direction, a vec3 normalized light direction and a float gloss instead of relying on <code>dNormalW</code>, <code>dViewDirW</code>, <code>dLightDirNormW</code> and <code>dGlossiness</code></li></ul></td></tr><tr><td><code>lightSpecular(AnisoGGX/Blinn/Phong)</code></td><td><ul><li>Accepts a vec3 half vector for the reflection, a vec3 reflection direction (used by Phong only), a vec3 world normal, a vec3 view dir, a float gloss value and a 3x3 matrix for the TBN, instead of relying on <code>dReflDirW</code>, <code>dNormalW</code>, <code>dViewDirW</code>, <code>dGlossiness/ccGlossiness</code> and <code>dTBN</code></li></ul></td></tr><tr><td><code>lightmap(DirAdd/Add)</code></td><td><ul><li>Accepts a vec3 lightmap value, a vec3 lightmap direction, a vec3 world normal, a vec3 view direction, float gloss, vec3 specularity, a read-write vec3 normalized light direction, a vec3 geometric normal and IridescenceArgs instead of relying on <code>dLightMap</code>, <code>dLightmapDir</code>, <code>dNormalW</code>, <code>dViewDirW</code>, <code>dGlossiness</code>, <code>dVertexNormalW</code> and <code>dSpecularity</code></li></ul></td></tr><tr><td><code>ltc</code></td><td><ul><li>No longer uses <code>dViewDirW</code>, <code>dNormalW</code>, <code>dGlossiness</code>, <code>dSpecularity</code>, <code>ccGlossiness</code>, <code>ccSpecularity</code> and <code>dLightDirW</code>, but instead relies on their values being passed as arguments</li></ul></td></tr><tr><td><code>metalnessModulate</code></td><td><ul><li>Accepts a <code>LitShaderArguments</code> struct which is updated by the chunk. Removes the reliance on <code>dSpecularity</code>, <code>dMetalness</code> and <code>dAlbedo</code></li></ul></td></tr><tr><td><code>output(Alpha/AlphaPremul)</code></td><td><ul><li>Uses <code>litShaderArgs.opacity</code> instead of <code>dAlpha</code></li></ul></td></tr><tr><td><code>reflDir(Aniso)</code></td><td><ul><li>Accepts a vec3 world normal, a vec3 view direction, a float value for gloss and 3x3 matrix for the TBN, instead of using <code>dGlossiness</code>, <code>dViewDirW</code>, <code>dNormalW</code> and <code>dTBN</code></li></ul></td></tr><tr><td><code>reflection(CC/Cube/Env/EnvHQ/Sphere/SphereLow)</code></td><td><ul><li>Accepts a vec3 reflection direction and a float gloss value instead of using <code>dReflDirW</code>/<code>ccReflDirW</code> and <code>dGlossiness</code></li></ul></td></tr><tr><td><code>reflectionSheen</code></td><td><ul><li>Accepts a vec3 world normal, a vec3 view direction and a float gloss value instead of using <code>dNormalW</code>, <code>dViewDirW</code> and <code>sGlossiness</code></li></ul></td></tr><tr><td><code>refraction(Cube/Dynamic)</code></td><td><ul><li>Accepts a vec3 world normal, float thickness, float gloss, vec3 specularity, vec3 albedo, float transmission and <code>IridescenceArgs</code> instead of using <code>dNormalW</code>, <code>dAlbedo</code>, <code>dTransmission</code>, <code>dThickness</code>, <code>dGlossiness</code>, <code>dSpecularity</code> and passes the iridescence arguments to the fresnel function</li></ul></td></tr><tr><td><code>shadow(Common/Coord/CoordPerspZBuffer</code></td><td><ul><li>Accepts a permutation of a vec3 light direction, a vec3 light position, a vec3 normalized light direction and a vec3 geometric normal instead of using <code>dLightDirW</code>, <code>dLightPosW</code>, <code>dLightDirNormW</code> and <code>dVertexNormalW</code> and instead accepts them as arguments. The permutation depends on the requirements for the different shadow coordinate functions</li></ul></td></tr><tr><td><code>shadow(EVSM/EVSMn/Standard/StandardGL2/VSM8)</code></td><td><ul><li>Accepts a vec3 shadow sample coordinate instead of using <code>dShadowCoord</code></li></ul></td></tr><tr><td><code>spot</code></td><td><ul><li>Accepts a vec3 normalized light direction instead of using <code>dLightDirNormW</code></li></ul></td></tr><tr><td><code>TBN(-/ObjectSpace/derivative/fast)</code></td><td><ul><li>Accepts a vec3 tangent, binormal and normal instead of using <code>dTangentW</code>, <code>dBinormalW</code> and <code>dNormalW</code></li></ul></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="engine-v160">Engine v1.60<a href="#engine-v160" class="hash-link" aria-label="Direct link to Engine v1.60" title="Direct link to Engine v1.60">​</a></h3>
<table><thead><tr><th>Chunk</th><th>Changes</th></tr></thead><tbody><tr><td><code>clearCoatGlossPS</code></td><td><ul><li>Renamed uniform <code>material_clearCoatGlossiness</code> to <code>material_clearCoatGloss</code>.</li></ul></td></tr><tr><td><code>glossPS</code></td><td><ul><li>Renamed uniform <code>material_glossiness</code> to <code>material_gloss</code>.</li></ul></td></tr><tr><td><code>sheenGlossPS</code></td><td><ul><li>Renamed uniform <code>material_sheenGlossiness</code> to <code>material_sheenGloss</code>.</li></ul></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="engine-v157">Engine v1.57<a href="#engine-v157" class="hash-link" aria-label="Direct link to Engine v1.57" title="Direct link to Engine v1.57">​</a></h3>
<p>In 1.57, almost all front-end chunks have been changed to minimize the amount of samplers used by the shader. This is an optional feature, however it&#x27;s recommended to follow the same coding style to reduce the amount of samplers used by the shader. The following chunks are affected by it:</p>
<table><thead><tr><th>Chunk</th></tr></thead><tbody><tr><td><code>aoPS</code></td></tr><tr><td><code>clearCoatPS</code></td></tr><tr><td><code>clearCoatGlossPS</code></td></tr><tr><td><code>clearCoatNormalPS</code></td></tr><tr><td><code>diffusePS</code></td></tr><tr><td><code>diffuseDetailMapPS</code></td></tr><tr><td><code>emissivePS</code></td></tr><tr><td><code>metalnessPS</code></td></tr><tr><td><code>normalMapPS</code></td></tr><tr><td><code>normalDetailMapPS</code></td></tr><tr><td><code>opacityPS</code></td></tr><tr><td><code>parallaxPS</code></td></tr><tr><td><code>sheenPS</code></td></tr><tr><td><code>sheenGlossPS</code></td></tr><tr><td><code>specularPS</code></td></tr><tr><td><code>specularityFactorPS</code></td></tr><tr><td><code>thicknessPS</code></td></tr><tr><td><code>transmissionPS</code></td></tr></tbody></table>
<p>This is also supported in custom front-end chunks, given that your chunk piggybacks on the pre-existing material samplers. To support this method in your chunks, what you&#x27;d need to do is:</p>
<ul>
<li>Remove the sampler uniform declaration from the chunk</li>
<li>Replace the sampler name with the <code>$SAMPLER</code> macro</li>
</ul>
<p>For example:</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">uniform</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sampler2D</span><span class="token plain"> texture_aoMap</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getAO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dAo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">ifdef</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">MAPTEXTURE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dAo </span><span class="token operator" style="color:#393A34">*=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">texture2DBias</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">texture_aoMap</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> $UV</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> textureBias</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">$CH</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">ifdef</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">MAPVERTEX</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dAo </span><span class="token operator" style="color:#393A34">*=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">saturate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vVertexColor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">$VC</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Would be converted to:</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getAO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dAo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">ifdef</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">MAPTEXTURE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dAo </span><span class="token operator" style="color:#393A34">*=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">texture2DBias</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$SAMPLER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> $UV</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> textureBias</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">$CH</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">ifdef</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">MAPVERTEX</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dAo </span><span class="token operator" style="color:#393A34">*=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">saturate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vVertexColor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">$VC</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>This allows the engine to automatically pick the sampler uniform to use, thus potentially reducing the total number of samplers. But note, this is only supported for front-end chunks.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="engine-v156">Engine v1.56<a href="#engine-v156" class="hash-link" aria-label="Direct link to Engine v1.56" title="Direct link to Engine v1.56">​</a></h3>
<table><thead><tr><th>Chunk</th><th>Changes</th></tr></thead><tbody><tr><td><code>combineXXXX</code></td><td><ul><li>all combine chunks except for <code>combinePS</code> have been deleted.</li><li>instead, combinePS is controlled with a handful of preprocessor defines.</li></ul></td></tr><tr><td><code>refractionPS</code></td><td><ul><li>split into two new chunks, <code>refractionCubePS</code> and <code>refractionDynamicPS</code>.</li></ul></td></tr><tr><td><code>refractionCubePS</code></td><td><ul><li>the old <code>refractionPS</code> is identical to this one, uses a cube map for refractions.</li></ul></td></tr><tr><td><code>refractionDynamicPS</code></td><td><ul><li>new chunk which supports dynamic refractions by using the grab pass, needs <code>requestSceneColorMap(true);</code> to be set on the camera to work.</li></ul></td></tr><tr><td><code>sheenPS</code></td><td><ul><li>new chunk to provide sheen (fabric) color.</li></ul></td></tr><tr><td><code>sheenGlossPS</code></td><td><ul><li>new chunk to provide sheen (fabric) glossiness.</li></ul></td></tr><tr><td><code>reflectionEnvHQPS</code></td><td><ul><li>new chunk to provide a high quality specular environment map for reflections and refractions.</li></ul></td></tr><tr><td><code>thicknessPS</code></td><td><ul><li>new chunk to provide thickness which modifies attenuation color for transmissive (transparent/refractive) materials.</li></ul></td></tr><tr><td><code>bakeDirLmEndPs</code></td><td><ul><li>moved to <code>chunks-lightmapper.js</code>.</li></ul></td></tr><tr><td><code>bakeLmEndPS</code></td><td><ul><li>moved to <code>chunks-lightmapper.js</code>.</li></ul></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="engine-v155">Engine v1.55<a href="#engine-v155" class="hash-link" aria-label="Direct link to Engine v1.55" title="Direct link to Engine v1.55">​</a></h3>
<table><thead><tr><th>Chunk</th><th>Changes</th></tr></thead><tbody><tr><td><code>clearCoatNormalPS</code></td><td><ul><li>refrain from generating world CC reflection, now done on the backend instead</li><li>normalize final world space normal</li></ul></td></tr><tr><td><code>clusteredLightPS</code></td><td><ul><li>remove dead code.</li><li>the <code>CLUSTER_XXX</code> macros have been renamed to <code>LIT_XXX</code>.</li><li>each light calculates fresnel</li></ul></td></tr><tr><td><code>combinePS</code></td><td><ul><li>new chunk to replace all the other combine chunks.</li></ul></td></tr><tr><td><code>combineXXXX</code></td><td><ul><li>combine chunk variations have been made deprecated and replaced with a single chunk.</li></ul></td></tr><tr><td><code>diffusePS</code></td><td><ul><li>fix gamma handling relative to albedo detail</li></ul></td></tr><tr><td><code>diffuseDetailMapPS</code></td><td><ul><li>gamma correct detail map before combining with base albedo</li></ul></td></tr><tr><td><code>endPS</code></td><td><ul><li>combine emissive with <code>dEmissive</code> instead of a call to <code>getEmission()</code></li><li><code>CLEARCOAT</code> macro is now <code>LIT_CLEARCOAT</code>.</li></ul></td></tr><tr><td><code>emissivePS</code></td><td><ul><li>set <code>dEmission</code> global instead of returning the value in order to bring it in line with the other frontend components</li></ul></td></tr><tr><td><code>fresnelSchlickPS</code></td><td><ul><li>fresnel effect now reacts to index of refraction.</li><li>no longer changes specularity global, but returns value to be used per-light and for the environment</li></ul></td></tr><tr><td><code>lightmapSingleVert.js</code></td><td><ul><li>removed (unused)</li></ul></td></tr><tr><td><code>lightmapDirPS</code>, <code>lightmapSinglePS</code></td><td><ul><li>renamed the lightmap function to <code>getLightMap()</code> instead of <code>addLightMap()</code></li><li>changed the implementation to write <code>dLightmap</code> and <code>dLightmapDir</code> global instead of updating <code>dDiffuseLight</code> and <code>dSpecularLight</code> directly</li><li>backend now handles combining lightmap in <code>lightmapAddPS</code> and <code>lightmapDirAddPS</code></li></ul></td></tr><tr><td><code>lightmapAddPS</code>, <code>lightmapDirAddPS</code></td><td><ul><li>new chunks for adding the lightmap values passed in from the backend</li><li><code>CLEARCOAT</code> macro replaced with <code>LIT_CLEARCOAT</code>.</li></ul></td></tr><tr><td><code>lightSpecularAnisoGGXPS</code></td><td><ul><li><code>CLEARCOAT</code> define replaced with <code>LIT_CLEARCOAT</code></li></ul></td></tr><tr><td><code>lightSpecularBlinnPS</code>, <code>lightSpecularPhongPS</code></td><td><ul><li>added clear coat <code>#define</code>, removed call to <code>antiAliasGlossiness()</code></li></ul></td></tr><tr><td><code>ltcPS</code></td><td><ul><li><code>CLEARCOAT</code> macro replaced with <code>LIT_CLEARCOAT</code>.</li></ul></td></tr><tr><td><code>normalMapFastPS</code></td><td><ul><li>removed</li></ul></td></tr><tr><td><code>normalMapPS</code></td><td><ul><li>added <code>MAPTEXTURE</code> #define like the other chunks</li><li>normalize final normal</li><li>when normal texture isn&#x27;t defined, calculate normal from geometry normal instead</li></ul></td></tr><tr><td><code>normalDetailMapPS</code></td><td><ul><li>remove two (mostly) unnecessary calls to <code>normalize</code> - final normal is normalized instead</li></ul></td></tr><tr><td><code>normalVertexPS</code></td><td><ul><li>removed chunk, moved functionality to <code>normalMapPS</code> frontend chunk</li></ul></td></tr><tr><td><code>metalnessPS</code></td><td><ul><li>now controls metalness in front end and is not exclusive of <code>specularPS</code></li></ul></td></tr><tr><td><code>metalnessModulatePS</code></td><td><ul><li>new chunk to control how specular color is modulated based on specular color and albedo with regards to metalness</li></ul></td></tr><tr><td><code>reflectionCC</code></td><td><ul><li><code>CLEARCOAT</code> define replaced with <code>LIT_CLEARCOAT</code>.</li></ul></td></tr><tr><td><code>specularAaNonePS</code>, <code>specularAaToksvigPS</code>, <code>specularAaToksvigFastPS</code></td><td><ul><li>removed</li></ul></td></tr><tr><td><code>startPS</code></td><td><ul><li>removed global declarations, generate them on demand instead</li><li><code>CLEARCOAT</code> macro replaced with <code>LIT_CLEARCOAT</code>.</li></ul></td></tr><tr><td><code>specularPS</code></td><td><ul><li>only provides specular color, metalness modulation is now done in backend.</li></ul></td></tr><tr><td><code>specularityFactorPS</code></td><td><ul><li>new chunk to control specular intensity for metalness workflow.</li></ul></td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/graphics/shaders/migrations.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/user-manual/graphics/shaders/wgsl-specifics/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">WGSL Specifics</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/user-manual/graphics/posteffects/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Post Effects</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#chunk-api-versions" class="table-of-contents__link toc-highlight">Chunk API Versions</a></li><li><a href="#chunk-changes" class="table-of-contents__link toc-highlight">Chunk changes</a><ul><li><a href="#engine-v26" class="table-of-contents__link toc-highlight"><em>Engine v2.6</em></a></li><li><a href="#engine-v25" class="table-of-contents__link toc-highlight"><em>Engine v2.5</em></a></li><li><a href="#engine-v170" class="table-of-contents__link toc-highlight"><em>Engine v1.70</em></a></li><li><a href="#engine-v165" class="table-of-contents__link toc-highlight"><em>Engine v1.65</em></a></li><li><a href="#engine-v162" class="table-of-contents__link toc-highlight"><em>Engine v1.62</em></a></li><li><a href="#engine-v160" class="table-of-contents__link toc-highlight">Engine v1.60</a></li><li><a href="#engine-v157" class="table-of-contents__link toc-highlight">Engine v1.57</a></li><li><a href="#engine-v156" class="table-of-contents__link toc-highlight">Engine v1.56</a></li><li><a href="#engine-v155" class="table-of-contents__link toc-highlight">Engine v1.55</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/user-manual/">User Manual</a></li><li class="footer__item"><a class="footer__link-item" href="/tutorials/">Tutorials</a></li><li class="footer__item"><a href="https://api.playcanvas.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">API Reference<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/playcanvas" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter / X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/playcanvas" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/playcanvas" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forum.playcanvas.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/RSaMRzg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/playcanvas" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.playcanvas.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/playcanvas" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@playcanvas" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 PlayCanvas Ltd.</div></div></div></footer></div>
</body>
</html>