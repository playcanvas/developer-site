"use strict";(globalThis.webpackChunkdeveloper_playcanvas_com=globalThis.webpackChunkdeveloper_playcanvas_com||[]).push([[52404],{7184:(e,t,n)=>{n.d(t,{C:()=>R,G:()=>S});var o=n(11470),i=n(19365),s=n(59849),a=n(96540),r=n(95293),l=n(58640),d=n(18676),c=n(58817),p=n(19748),h=n(83395),u=n(43025),m=n(10977),y=n(7306),b=n(55937),x=n(78692),g=n(8939),f=n(40050),v=n(93953),j=n(27351),w=n(74848);const C="// \u2191 imports hidden",S=({code:e,label:t,filename:n,language:r="jsx",showDemo:d=!1,showViewSourceButton:c=!0,showControls:p=!0,children:h})=>{const[u,m]=(0,a.useState)(0);if(!h||!e)return console.error("CodeExample: code and children are required"),null;return(0,w.jsxs)(o.A,{defaultValue:u>0?"Code":d?"Demo":"Code",children:[(0,w.jsx)(i.A,{value:"Demo",children:(0,w.jsxs)("div",{className:"code-example-demo",children:[h,c&&(0,w.jsxs)("div",{className:"code-example-demo-footer",children:[t," - ",(0,w.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),m(e=>e+1)},children:"View Code"})]}),(0,w.jsx)("div",{className:"code-example-controls",children:(0,w.jsx)(l.XA,{fill:!0,hidden:!1===p})})]})}),(0,w.jsx)(i.A,{value:"Code",children:(0,w.jsx)(s.A,{language:r,title:n,children:e.includes(C)?C+e.split(C)[1]:e})})]},u)},D=e=>{const{width:t=8,depth:n=8,intensity:o=.75}=e,i=(0,a.useMemo)(()=>new v.e(t,1,n),[t,n]);return(0,w.jsxs)(d.w,{children:[(0,w.jsx)(p.v,{type:"directional",castShadows:!0,normalOffsetBias:0,shadowBias:0,shadowDistance:16,shadowResolution:1024,shadowType:j.au1,shadowUpdateMode:j.M5l,vsmBlurSize:8,shadowIntensity:o,intensity:0}),(0,w.jsx)(h.e,{script:g.X,intensity:o,scale:i})]})},R=({children:e,useLight:t=!0,useControls:n=!1,useGrid:o=!1,useShadow:i=!1,camera:s=[0,0,10],sceneOffset:l=[0,-.501,0],exposure:p=1})=>{const{colorMode:g}=(0,r.G)(),v=(0,m.n)(),{asset:j}=(0,y.yj)("/assets/helipad.png"),C="dark"===g?"#2a2a2a":"#e4e0e0",[S,R]=(0,a.useState)(!1),[k,A]=(0,a.useState)(!1),E=(0,a.useCallback)(()=>R(!0),[]),N=(0,a.useCallback)(()=>R(!1),[]),B=(0,a.useCallback)(()=>A(!0),[]),P=(0,a.useCallback)(()=>A(!1),[]);return(0,a.useEffect)(()=>{const e=v.graphicsDevice.canvas;e.style.cursor=S?"grabbing":k?"grab":"default"},[S,k,v]),(0,a.useEffect)(()=>{const e=()=>R(!1);return v.graphicsDevice.canvas.addEventListener("pointerup",e),()=>v.graphicsDevice?.canvas.removeEventListener("pointerup",e)},[v]),(0,w.jsxs)(d.w,{children:[(0,w.jsxs)(d.w,{name:"camera",position:s,children:[(0,w.jsx)(c.i,{clearColor:C,renderSceneColorMap:!0}),n&&(0,w.jsx)(h.e,{script:b.a,enableFly:!1,pitchRange:new f.Z(-90,-5)})]}),t&&(0,w.jsx)(u.O,{envAtlas:j,showSkybox:!1,exposure:p}),o&&(0,w.jsx)(d.w,{name:"grid",scale:[1e3,1,1e3],position:[0,-.5,0],children:(0,w.jsx)(h.e,{script:x.x})}),i&&(0,w.jsx)(d.w,{position:l,children:(0,w.jsx)(D,{})}),(0,w.jsx)(d.w,{onPointerOver:B,onPointerOut:P,onPointerDown:E,onPointerUp:N,children:e})]})}},24421:(e,t,n)=>{n.d(t,{A:()=>p});var o=n(18676),i=n(19748),s=n(83395),a=n(93953),r=n(27351),l=n(8939),d=n(96540),c=n(74848);const p=e=>{const{width:t=2,depth:n=2,intensity:p=.75}=e,h=(0,d.useMemo)(()=>new a.e(t,1,n),[t,n]);return(0,c.jsxs)(o.w,{position:[0,.001,0],children:[(0,c.jsx)(i.v,{type:"directional",castShadows:!0,normalOffsetBias:0,shadowBias:0,shadowDistance:16,shadowResolution:1024,shadowType:r.au1,shadowUpdateMode:r.M5l,vsmBlurSize:8,shadowIntensity:p,intensity:0}),(0,c.jsx)(s.e,{script:l.X,intensity:p,scale:h})]})}},49801:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(18676),i=n(83395),s=n(78692),a=n(74848);const r=({...e})=>(0,a.jsx)(o.w,{scale:[1e3,1,1e3],children:(0,a.jsx)(i.e,{script:s.x,...e})})},53558:(e,t,n)=>{n.d(t,{A:()=>g});var o=n(96540),i=n(55937),s=n(8939),a=n(78692),r=n(54256),l=n(25303),d=n(34363),c=n(53512),p=n(49801),h=n(24421),u=n(85593),m=n(83395),y=n(83171),b=n(74848);const x=e=>(0,b.jsx)(m.e,{script:y.d,...e}),g={React:o,...o,...r,...l,...d,...c,Grid:p.A,ShadowCatcher:h.A,GridScript:a.x,ShadowCatcherScript:s.X,StaticPostEffects:u.A,AutoRotate:x,CameraControls:i.a}},85593:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(83395),i=n(15817),s=n(74848);const a=e=>{const t={lighting:{exposure:1.21,skyBoxIntensity:1.02},rendering:{renderFormat:18,renderTargetScale:1,sharpness:0,samples:4,toneMapping:4,fog:"none",fogColor:{r:0,g:0,b:0,a:1},fogRange:[0,100],fogDensity:.01,renderFormatFallback0:12,renderFormatFallback1:14,sceneColorMap:!1,sceneDepthMap:!1,fogStart:0,fogEnd:100},bloom:{enabled:!0,intensity:.1,lastMipLevel:1},grading:{enabled:!0,brightness:.83,contrast:1.1,saturation:1.2,tint:{r:1,g:.9333333333333333,b:.8666666666666667,a:1}},vignette:{enabled:!0,intensity:1,inner:.25,outer:1.52,curvature:.78},fringing:{enabled:!0,intensity:10},...e};return(0,s.jsx)(o.e,{script:i.P,...t})}},94081:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>v,contentTitle:()=>f,default:()=>C,frontMatter:()=>g,metadata:()=>o,toc:()=>j});const o=JSON.parse('{"id":"user-manual/react/api/rigidbody","title":"<Rigidbody/>","description":"Documentation for the Rigidbody component","source":"@site/docs/user-manual/react/api/rigidbody.mdx","sourceDirName":"user-manual/react/api","slug":"/user-manual/react/api/rigidbody","permalink":"/user-manual/react/api/rigidbody","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/react/api/rigidbody.mdx","tags":[],"version":"current","frontMatter":{"description":"Documentation for the Rigidbody component"},"sidebar":"userManualSidebar","previous":{"title":"<Render/>","permalink":"/user-manual/react/api/render"},"next":{"title":"<Script/>","permalink":"/user-manual/react/api/script"}}');var i=n(74848),s=n(28453),a=n(7184),r=n(58769),l=n(96540),d=n(18676),c=n(8615),p=n(22084),h=n(16230),u=n(30885),m=n(59752);const y=({color:e,...t})=>{const n=(0,u.R)({diffuse:e});return(0,i.jsxs)(d.w,{...t,children:[(0,i.jsx)(c.U,{type:"dynamic",mass:1,restitution:.2,friction:.5}),(0,i.jsx)(p.F,{type:"box"}),(0,i.jsx)(h.dw,{type:"box",material:n})]})},b=()=>{const[e,t]=(0,l.useState)([{id:1,position:[0,20,0],color:"#e74c3c"},{id:2,position:[.5,8,0],color:"#3498db"},{id:3,position:[-.5,11,0],color:"#2ecc71"}]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.w,{position:[0,-.6,0],scale:[10,.1,10],children:[(0,i.jsx)(c.U,{type:"static",friction:.5}),(0,i.jsx)(p.F,{type:"box",halfExtents:[5,.1,5]})]},"ground"),e.map(e=>(0,i.jsx)(y,{...e},e.id)),(0,i.jsx)("div",{className:"overlay",children:(0,i.jsx)("button",{onClick:()=>{const n=["#e74c3c","#3498db","#2ecc71","#f39c12","#9b59b6","#1abc9c"],o=n[Math.floor(m.D.random(0,n.length))],i={id:Date.now(),position:[m.D.random(-2,2),5,m.D.random(-2,2)],rotation:[m.D.random(0,360),m.D.random(0,360),m.D.random(0,360)],color:o};t([...e,i])},children:"Add Box"})})]})},x="import { useState } from 'react'\nimport { Entity } from '@playcanvas/react'\nimport { RigidBody, Collision, Render } from '@playcanvas/react/components'\nimport { useMaterial } from '@playcanvas/react/hooks'\nimport { math } from 'playcanvas'\n// \u2191 imports hidden\n\nconst Box = ({ color, ...entityProps  }) => {\n  const material = useMaterial({ diffuse: color })\n  return (\n    <Entity {...entityProps}>\n      <RigidBody type=\"dynamic\" mass={1} restitution={0.2} friction={0.5} />\n      <Collision type=\"box\" />\n      <Render type=\"box\" material={material} />\n    </Entity>\n  )\n}\n\nexport const RigidbodyExample = () => {\n  const [boxes, setBoxes] = useState([\n    { id: 1, position: [0, 20, 0], color: '#e74c3c' },\n    { id: 2, position: [0.5, 8, 0], color: '#3498db' },\n    { id: 3, position: [-0.5, 11, 0], color: '#2ecc71' }\n  ])\n\n  const addBox = () => {\n    const colors = ['#e74c3c', '#3498db', '#2ecc71', '#f39c12', '#9b59b6', '#1abc9c']\n    const color = colors[Math.floor(math.random(0, colors.length))]\n    const box = {\n      id: Date.now(),\n      position: [math.random(-2, 2), 5, math.random(-2, 2)],\n      rotation: [math.random(0, 360), math.random(0, 360), math.random(0, 360)],\n      color\n    }\n    setBoxes([...boxes, box])\n  }\n\n  return (<>\n    {/* Ground plane */}\n    <Entity key=\"ground\" position={[0, -0.6, 0]} scale={[10, 0.1, 10]}>\n      <RigidBody type=\"static\" friction={0.5} />\n      <Collision type=\"box\" halfExtents={[5, 0.1, 5]} />\n    </Entity>\n\n    {/* Falling boxes */}\n    { boxes.map((props) => <Box key={props.id} {...props} />) }\n\n    {/* UI */}\n    <div className=\"overlay\">\n      <button onClick={addBox}>Add Box</button>\n    </div>\n  </>)\n}\n\n",g={description:"Documentation for the Rigidbody component"},f="<Rigidbody/>",v={},j=[{value:"Getting started",id:"getting-started",level:2},{value:"Usage",id:"usage",level:2},{value:"Properties",id:"properties",level:2}];function w(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components},{RenderApiDocs:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("RenderApiDocs",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"rigidbody",children:(0,i.jsx)(t.code,{children:"<Rigidbody/>"})})}),"\n","\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"<Rigidbody/>"})," component gives an ",(0,i.jsx)(t.a,{href:"../entity",children:(0,i.jsx)(t.code,{children:"<Entity/>"})})," physical properties such as mass, velocity, and friction and allows it to interact with the global physics simulation. An ",(0,i.jsx)(t.code,{children:"<Entity/>"})," with a ",(0,i.jsx)(t.code,{children:"<Rigidbody/>"})," will respond to gravity, forces, torques and other physics behaviors."]}),"\n",(0,i.jsxs)(t.p,{children:["You can learn more about how the physics system works in PlayCanvas in the ",(0,i.jsx)(t.a,{href:"/user-manual/physics/",children:"Physics docs"})," and for React specific details, see the guide on ",(0,i.jsx)(t.a,{href:"/user-manual/react/guide/physics",children:"React Physics"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"getting-started",children:"Getting started"}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["Using physics in PlayCanvas requires ammo.js and ",(0,i.jsx)(t.code,{children:"<Application usePhysics/>"})," to be enabled. Run ",(0,i.jsx)(t.code,{children:"npm i sync-ammo"})," from within your app."]})}),"\n",(0,i.jsxs)(t.p,{children:["To use the ",(0,i.jsx)(t.code,{children:"<Rigidbody/>"})," component, you need to install the ",(0,i.jsx)(t.code,{children:"sync-ammo"})," dependency and you need to add the ",(0,i.jsx)(t.a,{href:"../application",children:(0,i.jsx)(t.code,{children:"<Application usePhysics/>"})})," prop set in your root ",(0,i.jsx)(t.a,{href:"../application",children:(0,i.jsx)(t.code,{children:"<Application/>"})})," component. This will enable the physics system and allow your entities to interact with the physics simulation."]}),"\n",(0,i.jsxs)(t.p,{children:["Check out the guide on ",(0,i.jsx)(t.a,{href:"/user-manual/react/guide/physics",children:"React Physics"})," for more information."]}),"\n",(0,i.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(t.p,{children:["Add a ",(0,i.jsx)(t.code,{children:"<Rigidbody/>"})," component to an ",(0,i.jsx)(t.a,{href:"../entity",children:(0,i.jsx)(t.code,{children:"<Entity/>"})}),". You'll also need to add a ",(0,i.jsx)(t.a,{href:"../collision",children:(0,i.jsx)(t.code,{children:"<Collision/>"})})," component to the entity to define the shape of the rigid body."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-jsx",children:'<Application usePhysics>\n  <Entity>\n    <Rigidbody type="box" />\n  </Entity>\n</Application>\n'})}),"\n",(0,i.jsx)(a.G,{label:"Interactive Physics Example",filename:"rigidbody-example.jsx",code:x,showDemo:!0,children:(0,i.jsx)(r.l,{usePhysics:!0,children:(0,i.jsx)(a.C,{camera:[4,3,4],useGrid:!0,useControls:!0,useShadow:!0,children:(0,i.jsx)(b,{})})})}),"\n",(0,i.jsxs)(t.p,{children:["Learn more about the ",(0,i.jsx)(t.a,{href:"https://api.playcanvas.com/engine/classes/RigidBodyComponent.html",children:"RigidBody Component"})," in the PlayCanvas documentation."]}),"\n",(0,i.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(n,{data:'[{"name":"default","description":"","entries":[{"name":"type","description":"Sets the rigid body type determines how the body is simulated.","optional":true,"defaultValue":"\\"static\\"","type":{"displayName":"\\"dynamic\\" | \\"kinematic\\" | \\"static\\"","types":[{"name":"\\"dynamic\\"","url":null},{"name":"\\"kinematic\\"","url":null},{"name":"\\"static\\"","url":null}]}},{"name":"angularDamping","description":"Sets the rate at which a body loses angular velocity over time.\\nGets the rate at which a body loses angular velocity over time.","optional":true,"type":{"displayName":"number","types":[{"name":"number","url":null}]}},{"name":"angularFactor","description":"Sets the scaling factor for angular movement of the body in each axis. Only valid for rigid\\nbodies of type BODYTYPE_DYNAMIC. Defaults to 1 in all axes (body can freely rotate).\\nGets the scaling factor for angular movement of the body in each axis.","optional":true,"type":{"displayName":"[number, number, number]","types":[{"name":"[number, number, number]","url":null}]}},{"name":"angularVelocity","description":"Sets the rotational speed of the body around each world axis.\\nGets the rotational speed of the body around each world axis.","optional":true,"type":{"displayName":"[number, number, number]","types":[{"name":"[number, number, number]","url":null}]}},{"name":"body","description":"","optional":true,"type":{"displayName":"any","types":[{"name":"any","url":null}]}},{"name":"friction","description":"Sets the friction value used when contacts occur between two bodies. A higher value indicates\\nmore friction. Should be set in the range 0 to 1. Defaults to 0.5.\\nGets the friction value used when contacts occur between two bodies.","optional":true,"type":{"displayName":"number","types":[{"name":"number","url":null}]}},{"name":"group","description":"Sets the collision group this body belongs to. Combine the group and the mask to prevent bodies\\ncolliding with each other. Defaults to 1.\\nGets the collision group this body belongs to.","optional":true,"type":{"displayName":"number","types":[{"name":"number","url":null}]}},{"name":"linearDamping","description":"Sets the rate at which a body loses linear velocity over time. Defaults to 0.\\nGets the rate at which a body loses linear velocity over time.","optional":true,"type":{"displayName":"number","types":[{"name":"number","url":null}]}},{"name":"linearFactor","description":"Sets the scaling factor for linear movement of the body in each axis. Only valid for rigid\\nbodies of type BODYTYPE_DYNAMIC. Defaults to 1 in all axes (body can freely move).\\nGets the scaling factor for linear movement of the body in each axis.","optional":true,"type":{"displayName":"[number, number, number]","types":[{"name":"[number, number, number]","url":null}]}},{"name":"linearVelocity","description":"Sets the speed of the body in a given direction.\\nGets the speed of the body in a given direction.","optional":true,"type":{"displayName":"[number, number, number]","types":[{"name":"[number, number, number]","url":null}]}},{"name":"mask","description":"Sets the collision mask sets which groups this body collides with. It is a bit field of 16\\nbits, the first 8 bits are reserved for engine use. Defaults to 65535.\\nGets the collision mask sets which groups this body collides with.","optional":true,"type":{"displayName":"number","types":[{"name":"number","url":null}]}},{"name":"mass","description":"Sets the mass of the body. This is only relevant for BODYTYPE_DYNAMIC bodies, other\\ntypes have infinite mass. Defaults to 1.\\nGets the mass of the body.","optional":true,"type":{"displayName":"number","types":[{"name":"number","url":null}]}},{"name":"restitution","description":"Sets the value that controls the amount of energy lost when two rigid bodies collide. The\\ncalculation multiplies the restitution values for both colliding bodies. A multiplied value\\nof 0 means that all energy is lost in the collision while a value of 1 means that no energy\\nis lost. Should be set in the range 0 to 1. Defaults to 0.\\nGets the value that controls the amount of energy lost when two rigid bodies collide.","optional":true,"type":{"displayName":"number","types":[{"name":"number","url":null}]}},{"name":"rollingFriction","description":"Sets the torsional friction orthogonal to the contact point. Defaults to 0.\\nGets the torsional friction orthogonal to the contact point.","optional":true,"type":{"displayName":"number","types":[{"name":"number","url":null}]}},{"name":"system","description":"The ComponentSystem used to create this Component.","optional":true,"type":{"displayName":"ComponentSystem","types":[{"name":"ComponentSystem","url":"https://api.playcanvas.com/engine/classes/ComponentSystem.html"}]}},{"name":"entity","description":"The Entity that this Component is attached to.","optional":true,"type":{"displayName":"Entity","types":[{"name":"Entity","url":"https://api.playcanvas.com/engine/classes/Entity.html"}]}},{"name":"enabled","description":"Sets the enabled state of the component.\\nGets the enabled state of the component.","optional":true,"type":{"displayName":"boolean","types":[{"name":"false","url":null},{"name":"true","url":null}]}}]}]'})]})}function C(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(w,{...e})}):w(e)}}}]);