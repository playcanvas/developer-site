"use strict";(self.webpackChunkdeveloper_playcanvas_com=self.webpackChunkdeveloper_playcanvas_com||[]).push([[79092],{7626:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"tutorials/keepyup-part-six","title":"Making a Simple Game - Part 6","description":"You can find the full project here. If you haven\'t see Part 1, Part 2, Part 3, Part 4 and Part 5 read them first.","source":"@site/docs/tutorials/keepyup-part-six.md","sourceDirName":"tutorials","slug":"/tutorials/keepyup-part-six","permalink":"/tutorials/keepyup-part-six","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/tutorials/keepyup-part-six.md","tags":[{"inline":true,"label":"games","permalink":"/tags/games"}],"version":"current","frontMatter":{"title":"Making a Simple Game - Part 6","tags":["games"],"thumb":"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/406050/LIJTDO-image-75.jpg"},"sidebar":"tutorialsSidebar","previous":{"title":"Making a Simple Game - Part 1","permalink":"/tutorials/keepyup-part-one"},"next":{"title":"Making a Simple Game - Part 3","permalink":"/tutorials/keepyup-part-three"}}');var r=n(74848),s=n(28453),i=n(11470),l=n(19365);const o={title:"Making a Simple Game - Part 6",tags:["games"],thumb:"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/406050/LIJTDO-image-75.jpg"},c=void 0,u={},h=[{value:"User Interface",id:"user-interface",level:2},{value:"User Interface Entities",id:"user-interface-entities",level:3},{value:"Images and Text",id:"images-and-text",level:3},{value:"User Interface script",id:"user-interface-script",level:3},{value:"Game Complete",id:"game-complete",level:2}];function p(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"iframe-container",children:(0,r.jsx)("iframe",{src:"https://playcanv.as/p/KH37bnOk/?overlay=false",title:"Making a Simple Game - Part 6",allow:"camera; microphone; xr-spatial-tracking; fullscreen",allowfullscreen:!0})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsxs)(t.em,{children:["You can find the ",(0,r.jsx)(t.a,{href:"https://playcanvas.com/project/406050",children:"full project here"}),". If you haven't see ",(0,r.jsx)(t.a,{href:"/tutorials/keepyup-part-one/",children:"Part 1"}),", ",(0,r.jsx)(t.a,{href:"/tutorials/keepyup-part-two/",children:"Part 2"}),", ",(0,r.jsx)(t.a,{href:"/tutorials/keepyup-part-three/",children:"Part 3"}),", ",(0,r.jsx)(t.a,{href:"/tutorials/keepyup-part-four/",children:"Part 4"})," and ",(0,r.jsx)(t.a,{href:"/tutorials/keepyup-part-five/",children:"Part 5"})," read them first."]})}),"\n",(0,r.jsx)(t.h2,{id:"user-interface",children:"User Interface"}),"\n",(0,r.jsx)(t.p,{children:"The user interface of a game is the first thing you see and often it's the last thing people think about when making a game. But a good user interface will not only give your game a great style. It can actively affect the number of people who can play your game."}),"\n",(0,r.jsxs)(t.p,{children:["User Interfaces are built in PlayCanvas using the ",(0,r.jsx)(t.a,{href:"/user-manual/scenes/components/screen/",children:"Screen Component"})," and the ",(0,r.jsx)(t.a,{href:"/user-manual/scenes/components/element/",children:"Element Component"}),". There is more details in the ",(0,r.jsx)(t.a,{href:"/user-manual/user-interface/",children:"user manual"})]}),"\n",(0,r.jsx)(t.h3,{id:"user-interface-entities",children:"User Interface Entities"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Hierarchy",src:n(88443).A+"",width:"255",height:"287"})}),"\n",(0,r.jsx)(t.p,{children:"We have divided our user interface up into the three game states: Menu, In Game and Game Over. Each state has an Screen Entity which is activated when the state is entered. We also have a Screen especially for the overlay. Because the overlay displays underneath the ball in the menu, we use a 3D Screen component to render the overlay in world space behind the ball."}),"\n",(0,r.jsx)(t.h3,{id:"images-and-text",children:"Images and Text"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Image Element",src:n(92523).A+"",width:"600",height:"343"})}),"\n",(0,r.jsx)(t.p,{children:"Images and Text are added to the user interface using the Element Component. This Component can display images in the form of a texture asset or text in the form a font asset."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Image Attriubtes",src:n(43563).A+"",width:"316",height:"411"})}),"\n",(0,r.jsx)(t.h3,{id:"user-interface-script",children:"User Interface script"}),"\n",(0,r.jsx)(t.p,{children:"Let's take a look at the script for the main menu."}),"\n","\n",(0,r.jsxs)(i.A,{defaultValue:"classic",groupId:"script-code",children:[(0,r.jsx)(l.A,{value:"esm",label:"ESM",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:'import { Script } from \'playcanvas\';\n\nexport class UiMenu extends Script {\n    static scriptName = "uiMenu";\n\n    /**\n     * @attribute\n     * @title Overlay\n     * @type {Entity}\n     */\n    overlay = null;\n\n    // initialize code called once per entity\n    initialize() {\n        this.on(\'enable\', this.onEnable, this);\n        this.on(\'disable\', this.onDisable, this);\n\n        this.onEnable();\n    }\n\n    onEnable() {\n        // Listen for clicks on the background\n\n        this.overlay.enabled = true;\n        this.overlay.element.on("click", this.start, this);\n\n        if (this.ball) {\n            this.ball.model.meshInstances[0].material.depthTest = false;\n        }\n    }\n\n    onDisable() {\n        this.overlay.enabled = false;\n        // Stop listening to events\n        this.overlay.element.off("click", this.start, this);\n    }\n\n    start(e) {\n        this.app.fire("ui:start");\n        // prevent touch and mouse events\n        e.stopPropagation();\n    }\n}\n'})})}),(0,r.jsx)(l.A,{value:"classic",label:"Classic",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:'var UiMenu = pc.createScript(\'uiMenu\');\n\nUiMenu.attributes.add("overlay", {type: "entity"});\n\n// initialize code called once per entity\nUiMenu.prototype.initialize = function() {\n    this.on(\'enable\', this.onEnable, this);\n    this.on(\'disable\', this.onDisable, this);\n\n    this.onEnable();\n};\n\nUiMenu.prototype.onEnable = function () {\n    // Listen for clicks on the background\n\n    this.overlay.enabled = true;\n    this.overlay.element.on("click", this.start, this);\n\n    if (this.ball) {\n        this.ball.model.meshInstances[0].material.depthTest = false;\n    }\n};\n\nUiMenu.prototype.onDisable = function () {\n    this.overlay.enabled = false;\n    // Stop listening to events\n    this.overlay.element.off("click", this.start, this);\n};\n\nUiMenu.prototype.start = function (e) {\n    this.app.fire("ui:start");\n    // prevent touch and mouse events\n    e.stopPropagation();\n};\n'})})})]}),"\n",(0,r.jsx)(t.p,{children:"First we have set up an attribute with a reference to the overlay element. The overlay element is a full screen element which tints the screen green. We also use this to detect input as we only care about the user clicking on the full screen."}),"\n",(0,r.jsxs)(t.p,{children:['When the Entity is enabled we display the full screen overlay by enabling it and then we start listening for the click event. When the Entity is disabled we stop listening for the event and we hide the overlay. When an event is triggered we fire a "ui',":start",'" event which the main game script is listening for and that triggers a change of game state.']}),"\n",(0,r.jsx)(t.p,{children:"We repeat similar behavior in the other two UI scripts where we listen for game events and fire ui events."}),"\n",(0,r.jsx)(t.h2,{id:"game-complete",children:"Game Complete"}),"\n",(0,r.jsxs)(t.p,{children:["Congratulations on reaching the end of the series! We hope you've learn a lot about how you can structure and build a game using PlayCanvas. If you have any feedback on the tutorial, please get in touch on our ",(0,r.jsx)(t.a,{href:"/user-manual/scenes/components/element/",children:"forum"}),"."]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},11470:(e,t,n)=>{n.d(t,{A:()=>w});var a=n(96540),r=n(34164),s=n(17559),i=n(23104),l=n(56347),o=n(205),c=n(57485),u=n(31682),h=n(70679);function p(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function d(e){const{values:t,children:n}=e;return(0,a.useMemo)(()=>{const e=t??function(e){return p(e).map(({props:{value:e,label:t,attributes:n,default:a}})=>({value:e,label:t,attributes:n,default:a}))}(n);return function(e){const t=(0,u.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function m({value:e,tabValues:t}){return t.some(t=>t.value===e)}function f({queryString:e=!1,groupId:t}){const n=(0,l.W6)(),r=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,c.aZ)(r),(0,a.useCallback)(e=>{if(!r)return;const t=new URLSearchParams(n.location.search);t.set(r,e),n.replace({...n.location,search:t.toString()})},[r,n])]}function v(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,s=d(e),[i,l]=(0,a.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s})),[c,u]=f({queryString:n,groupId:r}),[p,v]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,r]=(0,h.Dv)(t);return[n,(0,a.useCallback)(e=>{t&&r.set(e)},[t,r])]}({groupId:r}),b=(()=>{const e=c??p;return m({value:e,tabValues:s})?e:null})();(0,o.A)(()=>{b&&l(b)},[b]);return{selectedValue:i,selectValue:(0,a.useCallback)(e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),v(e)},[u,v,s]),tabValues:s}}var b=n(92303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=n(74848);function x({className:e,block:t,selectedValue:n,selectValue:a,tabValues:s}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),c=e=>{const t=e.currentTarget,r=l.indexOf(t),i=s[r].value;i!==n&&(o(t),a(i))},u=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},e),children:s.map(({value:e,label:t,attributes:a})=>(0,y.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{l.push(e)},onKeyDown:u,onClick:c,...a,className:(0,r.A)("tabs__item",g.tabItem,a?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function j({lazy:e,children:t,selectedValue:n}){const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===n);return e?(0,a.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:s.map((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function k(e){const t=v(e);return(0,y.jsxs)("div",{className:(0,r.A)(s.G.tabs.container,"tabs-container",g.tabList),children:[(0,y.jsx)(x,{...t,...e}),(0,y.jsx)(j,{...t,...e})]})}function w(e){const t=(0,b.A)();return(0,y.jsx)(k,{...e,children:p(e.children)},String(t))}},19365:(e,t,n)=>{n.d(t,{A:()=>i});n(96540);var a=n(34164);const r={tabItem:"tabItem_Ymn6"};var s=n(74848);function i({children:e,hidden:t,className:n}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(r.tabItem,n),hidden:t,children:e})}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>l});var a=n(96540);const r={},s=a.createContext(r);function i(e){const t=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(s.Provider,{value:t},e.children)}},43563:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/element-attr-71fe7c43f5b5a3984fb4b7944850cef4.jpg"},88443:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/ui-hierarchy-7a449b093709be6ed6e78f08182e0f27.jpg"},92523:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/image-element-aae39495984b222d0801e2b25b155fe7.jpg"}}]);