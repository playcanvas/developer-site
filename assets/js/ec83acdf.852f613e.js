"use strict";(self.webpackChunkdeveloper_playcanvas_com=self.webpackChunkdeveloper_playcanvas_com||[]).push([[16794,18401],{7184:(e,s,n)=>{n.d(s,{C:()=>w,G:()=>v});var a=n(11470),t=n(19365),i=n(59849),r=n(96540),o=n(95293),l=n(18676),c=n(58817),d=n(19748),u=n(83395),h=n(43025),p=n(7306),m=n(68869),y=n(78692),f=n(8939),x=n(93953),g=n(27351),b=n(74848);const v=({code:e,label:s,filename:n,language:o="jsx",children:l,showDemo:c=!1,showViewSourceButton:d=!0})=>{const[u,h]=(0,r.useState)(0);if(!l||!e)return console.error("CodeExample: code and children are required"),null;return(0,b.jsxs)(a.A,{defaultValue:u>0?"Code":c?"Demo":"Code",children:[(0,b.jsx)(t.A,{value:"Demo",children:(0,b.jsxs)("div",{className:"code-example-demo",children:[l,d&&(0,b.jsxs)("div",{className:"code-example-demo-footer",children:[s," - ",(0,b.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),h(e=>e+1)},children:"View Code"})]})]})}),(0,b.jsx)(t.A,{value:"Code",children:(0,b.jsx)(i.A,{language:o,title:n,children:e})})]},u)},j=e=>{const{width:s=2,depth:n=2,intensity:a=.75}=e,t=(0,r.useMemo)(()=>new x.e(s,1,n),[s,n]);return(0,b.jsxs)(l.w,{position:[0,.001,0],children:[(0,b.jsx)(d.v,{type:"directional",castShadows:!0,normalOffsetBias:0,shadowBias:0,shadowDistance:16,shadowResolution:1024,shadowType:g.au1,shadowUpdateMode:g.M5l,vsmBlurSize:8,shadowIntensity:a,intensity:0}),(0,b.jsx)(u.e,{script:f.X,intensity:a,scale:t})]})},w=({children:e,useLight:s=!0,useControls:n=!1,useGrid:a=!1,camera:t=[0,0,10]})=>{const{colorMode:i}=(0,o.G)(),{asset:r}=(0,p.yj)("/assets/environment.png"),f="dark"===i?"#2a2a2a":"#e4e0e0";return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(l.w,{name:"camera",position:t,children:[(0,b.jsx)(c.i,{clearColor:f}),n&&(0,b.jsx)(u.e,{script:m.a})]}),s&&(0,b.jsx)(h.O,{envAtlas:r,showSkybox:!1}),a&&(0,b.jsxs)(l.w,{name:"grid",scale:[1e3,1,1e3],children:[(0,b.jsx)(u.e,{script:y.x}),(0,b.jsx)(d.v,{type:"directional",castShadows:!0,intensity:.75}),(0,b.jsx)(j,{})]}),e]})}},11470:(e,s,n)=>{n.d(s,{A:()=>C});var a=n(96540),t=n(34164),i=n(17559),r=n(23104),o=n(56347),l=n(205),c=n(57485),d=n(31682),u=n(70679);function h(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:s}=e;return!!s&&"object"==typeof s&&"value"in s}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:s,children:n}=e;return(0,a.useMemo)(()=>{const e=s??function(e){return h(e).map(({props:{value:e,label:s,attributes:n,default:a}})=>({value:e,label:s,attributes:n,default:a}))}(n);return function(e){const s=(0,d.XI)(e,(e,s)=>e.value===s.value);if(s.length>0)throw new Error(`Docusaurus error: Duplicate values "${s.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[s,n])}function m({value:e,tabValues:s}){return s.some(s=>s.value===e)}function y({queryString:e=!1,groupId:s}){const n=(0,o.W6)(),t=function({queryString:e=!1,groupId:s}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:e,groupId:s});return[(0,c.aZ)(t),(0,a.useCallback)(e=>{if(!t)return;const s=new URLSearchParams(n.location.search);s.set(t,e),n.replace({...n.location,search:s.toString()})},[t,n])]}function f(e){const{defaultValue:s,queryString:n=!1,groupId:t}=e,i=p(e),[r,o]=(0,a.useState)(()=>function({defaultValue:e,tabValues:s}){if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${s.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=s.find(e=>e.default)??s[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:s,tabValues:i})),[c,d]=y({queryString:n,groupId:t}),[h,f]=function({groupId:e}){const s=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,t]=(0,u.Dv)(s);return[n,(0,a.useCallback)(e=>{s&&t.set(e)},[s,t])]}({groupId:t}),x=(()=>{const e=c??h;return m({value:e,tabValues:i})?e:null})();(0,l.A)(()=>{x&&o(x)},[x]);return{selectedValue:r,selectValue:(0,a.useCallback)(e=>{if(!m({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),f(e)},[d,f,i]),tabValues:i}}var x=n(92303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=n(74848);function v({className:e,block:s,selectedValue:n,selectValue:a,tabValues:i}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),c=e=>{const s=e.currentTarget,t=o.indexOf(s),r=i[t].value;r!==n&&(l(s),a(r))},d=e=>{let s=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;s=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;s=o[n]??o[o.length-1];break}}s?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":s},e),children:i.map(({value:e,label:s,attributes:a})=>(0,b.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{o.push(e)},onKeyDown:d,onClick:c,...a,className:(0,t.A)("tabs__item",g.tabItem,a?.className,{"tabs__item--active":n===e}),children:s??e},e))})}function j({lazy:e,children:s,selectedValue:n}){const i=(Array.isArray(s)?s:[s]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===n);return e?(0,a.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:i.map((e,s)=>(0,a.cloneElement)(e,{key:s,hidden:e.props.value!==n}))})}function w(e){const s=f(e);return(0,b.jsxs)("div",{className:(0,t.A)(i.G.tabs.container,"tabs-container",g.tabList),children:[(0,b.jsx)(v,{...s,...e}),(0,b.jsx)(j,{...s,...e})]})}function C(e){const s=(0,x.A)();return(0,b.jsx)(w,{...e,children:h(e.children)},String(s))}},19365:(e,s,n)=>{n.d(s,{A:()=>r});n(96540);var a=n(34164);const t={tabItem:"tabItem_Ymn6"};var i=n(74848);function r({children:e,hidden:s,className:n}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,a.A)(t.tabItem,n),hidden:s,children:e})}},24421:(e,s,n)=>{n.d(s,{A:()=>u});var a=n(18676),t=n(19748),i=n(83395),r=n(93953),o=n(27351),l=n(8939),c=n(96540),d=n(74848);const u=e=>{const{width:s=2,depth:n=2,intensity:u=.75}=e,h=(0,c.useMemo)(()=>new r.e(s,1,n),[s,n]);return(0,d.jsxs)(a.w,{position:[0,.001,0],children:[(0,d.jsx)(t.v,{type:"directional",castShadows:!0,normalOffsetBias:0,shadowBias:0,shadowDistance:16,shadowResolution:1024,shadowType:o.au1,shadowUpdateMode:o.M5l,vsmBlurSize:8,shadowIntensity:u,intensity:0}),(0,d.jsx)(i.e,{script:l.X,intensity:u,scale:h})]})}},39944:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>g,contentTitle:()=>x,default:()=>j,frontMatter:()=>f,metadata:()=>a,toc:()=>b});const a=JSON.parse('{"id":"user-manual/playcanvas-react/guide/physics","title":"Physics","description":"PlayCanvas ships with a physics system. This enables realistic simulations of objects in 3D space, including gravity, collisions, forces and constraints. The physics system is powered by the Ammo.js physics engine.","source":"@site/docs/user-manual/playcanvas-react/guide/physics.mdx","sourceDirName":"user-manual/playcanvas-react/guide","slug":"/user-manual/playcanvas-react/guide/physics","permalink":"/user-manual/playcanvas-react/guide/physics","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/playcanvas-react/guide/physics.mdx","tags":[],"version":"current","frontMatter":{"title":"Physics"},"sidebar":"userManualSidebar","previous":{"title":"Loading Assets","permalink":"/user-manual/playcanvas-react/guide/loading-assets"},"next":{"title":"Materials","permalink":"/user-manual/playcanvas-react/guide/materials"}}');var t=n(74848),i=n(28453),r=n(7184),o=n(78264),l=n(18676),c=n(8615),d=n(22084),u=n(16230),h=n(30885),p=n(95293);const m=()=>{const{colorMode:e}=(0,p.G)(),s=(0,h.R)({diffuse:"red"}),n=(0,h.R)({diffuse:"#4ecdc4"}),a=(0,h.R)({diffuse:"#95a5a6"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.w,{name:"ground",position:[0,-2,0],scale:[10,.2,10],children:[(0,t.jsx)(c.U,{type:"static",halfExtents:[5,.2,5]}),(0,t.jsx)(d.F,{type:"box",halfExtents:[5,.2,5]}),(0,t.jsx)(u.d,{type:"box",material:a})]}),(0,t.jsxs)(l.w,{name:"sphere",position:[-2,8,0],children:[(0,t.jsx)(c.U,{type:"dynamic",mass:1}),(0,t.jsx)(d.F,{type:"sphere"}),(0,t.jsx)(u.d,{type:"sphere",material:s})]}),(0,t.jsxs)(l.w,{name:"box",position:[2,6,0],children:[(0,t.jsx)(c.U,{type:"dynamic",mass:2}),(0,t.jsx)(d.F,{type:"box"}),(0,t.jsx)(u.d,{type:"box",material:n})]})]})},y='import { Entity } from \'@playcanvas/react\';\nimport { RigidBody, Collision, Render, Camera } from \'@playcanvas/react/components\';\nimport { useMaterial } from \'@playcanvas/react/hooks\';\nimport { useColorMode } from \'@docusaurus/theme-common\';\n\nexport const BasicPhysics = () => {\n  const { colorMode } = useColorMode();\n  const sphereMaterial = useMaterial({ diffuse: \'red\' });\n  const boxMaterial = useMaterial({ diffuse: \'#4ecdc4\' });\n  const groundMaterial = useMaterial({ diffuse: \'#95a5a6\' });\n  \n  const cameraColor = colorMode === \'dark\' ? \'#2a2a2a\' : \'#e4e0e0\';\n\n  return (\n    <>\n      {/* Ground (static) */}\n      <Entity name="ground" position={[0, -2, 0]} scale={[10, 0.2, 10]}>\n        <RigidBody type="static" halfExtents={[5, 0.2, 5]} />\n        <Collision type="box" halfExtents={[5, 0.2, 5]} />\n        <Render type="box" material={groundMaterial} />\n      </Entity>\n\n      {/* Falling sphere */}\n      <Entity name="sphere" position={[-2, 8, 0]}>\n        <RigidBody type="dynamic" mass={1} />\n        <Collision type="sphere" />\n        <Render type="sphere" material={sphereMaterial} />\n      </Entity>\n\n      {/* Falling box */}\n      <Entity name="box" position={[2, 6, 0]}>\n        <RigidBody type="dynamic" mass={2} />\n        <Collision type="box" />\n        <Render type="box" material={boxMaterial} />\n      </Entity>\n    </>\n  );\n};\n',f={title:"Physics"},x=void 0,g={},b=[{value:"Physics Properties",id:"physics-properties",level:3},{value:"Using the usePhysics Hook",id:"using-the-usephysics-hook",level:2}];function v(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:["PlayCanvas ships with a ",(0,t.jsx)(s.a,{href:"/user-manual/physics/",children:"physics system"}),". This enables realistic simulations of objects in 3D space, including gravity, collisions, forces and constraints. The physics system is powered by the ",(0,t.jsx)(s.a,{href:"https://github.com/kripken/ammo.js",children:"Ammo.js"})," physics engine."]}),"\n",(0,t.jsx)(s.admonition,{type:"tip",children:(0,t.jsxs)(s.p,{children:["Make sure you have ",(0,t.jsx)(s.code,{children:"sync-ammo"})," installed and ",(0,t.jsx)(s.code,{children:"usePhysics"})," enabled on your Application component to use physics."]})}),"\n",(0,t.jsxs)(s.p,{children:["You allow entities to participate in physics simulation by adding a ",(0,t.jsx)(s.code,{children:"RigidBody"})," and ",(0,t.jsx)(s.code,{children:"Collision"})," component to them. In the example below, we're creating a static ground, a falling sphere and a falling box."]}),"\n",(0,t.jsx)(r.G,{label:"Objects falling under gravity",filename:"basic-physics.jsx",code:y,showDemo:!0,children:(0,t.jsx)(o.l,{usePhysics:!0,children:(0,t.jsx)(r.C,{useControls:!0,children:(0,t.jsx)(m,{})})})}),"\n",(0,t.jsx)(s.h3,{id:"physics-properties",children:"Physics Properties"}),"\n",(0,t.jsxs)(s.p,{children:["You can customize physics behavior by changing the various properties of the ",(0,t.jsx)(s.code,{children:"RigidBody"})," and ",(0,t.jsx)(s.code,{children:"Collision"})," components. Check out the ",(0,t.jsx)(s.a,{href:"/user-manual/physics/",children:"Physics documentation"})," for more information."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-jsx",children:'<RigidBody \n  type="dynamic"\n  mass={1}                // Object mass\n  linearDamping={0.1}     // Air resistance for movement\n  angularDamping={0.1}    // Air resistance for rotation\n  friction={0.5}          // Surface friction\n  restitution={0.3}       // Bounciness (0 = no bounce, 1 = perfect bounce)\n/>\n'})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-jsx",children:'<Collision \n  type="box"\n  halfExtents={[1, 1, 1]} // Size for box collision\n  radius={0.5}            // Radius for sphere/cylinder collision\n  height={2}              // Height for capsule/cylinder collision\n/>\n'})}),"\n",(0,t.jsx)(s.h2,{id:"using-the-usephysics-hook",children:"Using the usePhysics Hook"}),"\n",(0,t.jsx)(s.p,{children:"The physics engine is lazily loaded and instantiated. This prioritizes the first render of your application, allowing you to display something as soon as possible. This is great for performance, but you'll need to check the physics state to ensure it's loaded before you can use it."}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"usePhysics"})," hook provides information about the physics engine state:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-jsx",children:"import { usePhysics } from '@playcanvas/react/hooks';\n\nconst PhysicsStatus = () => {\n  const { isPhysicsEnabled, isPhysicsLoaded, physicsError } = usePhysics();\n\n  if (physicsError) {\n    return <div>Physics error: {physicsError.message}</div>;\n  }\n\n  if (!isPhysicsLoaded) {\n    return <div>Loading physics...</div>;\n  }\n\n  return <div>Physics is ready!</div>;\n};\n"})}),"\n",(0,t.jsxs)(s.p,{children:["For more detailed information about PlayCanvas physics, see the ",(0,t.jsx)(s.a,{href:"/user-manual/physics/",children:"PlayCanvas Physics Documentation"}),"."]})]})}function j(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(v,{...e})}):v(e)}},49801:(e,s,n)=>{n.d(s,{A:()=>o});var a=n(18676),t=n(83395),i=n(78692),r=n(74848);const o=({...e})=>(0,r.jsx)(a.w,{scale:[1e3,1,1e3],children:(0,r.jsx)(t.e,{script:i.x,...e})})},53558:(e,s,n)=>{n.d(s,{A:()=>g});var a=n(96540),t=n(68869),i=n(8939),r=n(78692),o=n(14007),l=n(25303),c=n(34363),d=n(53512),u=n(49801),h=n(24421),p=n(85593),m=n(83395),y=n(83171),f=n(74848);const x=e=>(0,f.jsx)(m.e,{script:y.d,...e}),g={React:a,...a,...o,...l,...c,...d,Grid:u.A,ShadowCatcher:h.A,GridScript:r.x,ShadowCatcherScript:i.X,StaticPostEffects:p.A,AutoRotate:x,CameraControls:t.a}},85593:(e,s,n)=>{n.d(s,{A:()=>r});var a=n(83395),t=n(15817),i=n(74848);const r=e=>{const s={lighting:{exposure:1.21,skyBoxIntensity:1.02},rendering:{renderFormat:18,renderTargetScale:1,sharpness:0,samples:4,toneMapping:4,fog:"none",fogColor:{r:0,g:0,b:0,a:1},fogRange:[0,100],fogDensity:.01,renderFormatFallback0:12,renderFormatFallback1:14,sceneColorMap:!1,sceneDepthMap:!1,fogStart:0,fogEnd:100},bloom:{enabled:!0,intensity:.1,lastMipLevel:1},grading:{enabled:!0,brightness:.83,contrast:1.1,saturation:1.2,tint:{r:1,g:.9333333333333333,b:.8666666666666667,a:1}},vignette:{enabled:!0,intensity:1,inner:.25,outer:1.52,curvature:.78},fringing:{enabled:!0,intensity:10},...e};return(0,i.jsx)(a.e,{script:t.P,...s})}}}]);