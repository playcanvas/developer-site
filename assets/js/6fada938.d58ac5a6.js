"use strict";(globalThis.webpackChunkdeveloper_playcanvas_com=globalThis.webpackChunkdeveloper_playcanvas_com||[]).push([[1959],{9473:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"user-manual/editor/scenes/components/anim","title":"Anim","description":"The anim component is used to connect an animstategraph asset and all of its required animation assets to a single entity.","source":"@site/docs/user-manual/editor/scenes/components/anim.md","sourceDirName":"user-manual/editor/scenes/components","slug":"/user-manual/editor/scenes/components/anim","permalink":"/user-manual/editor/scenes/components/anim","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/editor/scenes/components/anim.md","tags":[],"version":"current","frontMatter":{"title":"Anim"},"sidebar":"userManualSidebar","previous":{"title":"Components","permalink":"/user-manual/editor/scenes/components/"},"next":{"title":"Animation","permalink":"/user-manual/editor/scenes/components/animation"}}');var a=t(74848),i=t(28453);const o={title:"Anim"},r=void 0,l={},c=[{value:"Properties",id:"properties",level:2},{value:"Assigning Animation Assets",id:"assigning-animation-assets",level:2},{value:"Layer Masks",id:"layer-masks",level:2},{value:"Mask Inspector",id:"mask-inspector",level:3},{value:"Scripting Interface",id:"scripting-interface",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"The anim component is used to connect an animstategraph asset and all of its required animation assets to a single entity."}),"\n",(0,a.jsx)(n.p,{children:"The anim component can be enabled or disabled using the toggle in the top right of the component panel. If enabled and the Activate property is checked, the animation will play automatically when the scene is launched."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Anim component",src:t(97036).A+"",width:"400",height:"304"})}),"\n",(0,a.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Property"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Activate"}),(0,a.jsx)(n.td,{children:"If enabled, the animation will start playing automatically when the scene is launched."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Speed"}),(0,a.jsx)(n.td,{children:"Controls the playback speed of all animations in the state graph. A value of 1 is normal speed, 0.5 is half speed, and 2 is double speed. Range is 0 to 2."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Root Bone"}),(0,a.jsx)(n.td,{children:"Optionally specify an entity to use as the root bone for the animation. This is useful when the model hierarchy is not at the top level of the entity."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Normalize Weights"}),(0,a.jsx)(n.td,{children:"If enabled, the weights of all layers will be normalized so they sum to 1. This affects how layer blending is calculated."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"State Graph"}),(0,a.jsx)(n.td,{children:"The animstategraph asset that defines the animation state machine for this entity."})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"assigning-animation-assets",children:"Assigning Animation Assets"}),"\n",(0,a.jsx)(n.p,{children:"After selecting an animstategraph asset, the anim component will display a list of animation asset slots organized by layer. There will be one slot for each animation state in every layer of the state graph asset (excluding START, END, and ANY states). This is where actual animation data is connected to the previously created state graph."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Anim Component With Graph",src:t(60272).A+"",width:"614",height:"984"})}),"\n",(0,a.jsxs)(n.p,{children:["Multiple anim components can use the same animstategraph asset, each with their own set of animation assets. After all animation state slots have been filled, the anim component will become playable. The animations can be played via script by calling ",(0,a.jsx)(n.code,{children:"entity.anim.playing = true"})," or automatically if the Activate option is enabled."]}),"\n",(0,a.jsx)(n.h2,{id:"layer-masks",children:"Layer Masks"}),"\n",(0,a.jsx)(n.p,{children:"Each layer in the state graph can have an optional mask that limits which bones the layer's animations will affect. This is useful for scenarios like playing a walking animation on the lower body while playing a waving animation on the upper body."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Create Mask Button",src:t(86682).A+"",width:"1014",height:"1456"})}),"\n",(0,a.jsxs)(n.p,{children:["To create a mask for a layer, click the ",(0,a.jsx)(n.strong,{children:"CREATE MASK"})," button next to the layer name. This will open the mask inspector."]}),"\n",(0,a.jsx)(n.h3,{id:"mask-inspector",children:"Mask Inspector"}),"\n",(0,a.jsx)(n.p,{children:"The mask inspector displays a tree view of all bones in the model hierarchy. Each bone has a checkbox that determines whether the layer's animation will affect that bone."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Mask Inspector",src:t(25321).A+"",width:"1032",height:"1010"})}),"\n",(0,a.jsx)(n.p,{children:"The mask inspector provides several controls:"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Control"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"ADD ALL / ADD SELECTED"}),(0,a.jsx)(n.td,{children:"Enables all bones in the mask, or only the selected bones if any are selected."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"REMOVE ALL / REMOVE SELECTED"}),(0,a.jsx)(n.td,{children:"Disables all bones in the mask, or only the selected bones if any are selected."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Add hierarchy (context menu)"}),(0,a.jsx)(n.td,{children:"Right-click a bone to enable it and all of its children."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Remove hierarchy (context menu)"}),(0,a.jsx)(n.td,{children:"Right-click a bone to disable it and all of its children."})]})]})]}),"\n",(0,a.jsxs)(n.p,{children:["To edit an existing mask, click the ",(0,a.jsx)(n.strong,{children:"EDIT MASK"})," button. To delete a mask, click the trash icon next to the layer."]}),"\n",(0,a.jsx)(n.h2,{id:"scripting-interface",children:"Scripting Interface"}),"\n",(0,a.jsxs)(n.p,{children:["You can control an anim component's properties using a ",(0,a.jsx)(n.a,{href:"/user-manual/editor/scenes/components/script",children:"script component"}),". The anim component's scripting interface is ",(0,a.jsx)(n.a,{href:"https://api.playcanvas.com/engine/classes/AnimComponent.html",children:"here"}),"."]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},25321:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/anim-mask-inspector-7fcdb89cb5d5ca081c0de2de95af8592.png"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var s=t(96540);const a={},i=s.createContext(a);function o(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:n},e.children)}},60272:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/anim-component-with-graph-2156095cc6aeb9fa273955c6f3c33c3e.png"},86682:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/anim-component-create-mask-bfb843a616e0aee4443160ba2e852828.png"},97036:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/component-anim-665b3cd615dd25e0329ac5121b7ac5bc.png"}}]);