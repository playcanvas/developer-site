"use strict";(self.webpackChunkdeveloper_playcanvas_com=self.webpackChunkdeveloper_playcanvas_com||[]).push([[48866],{51232:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"user-manual/user-interface/localization","title":"Localization","description":"This page describes how to localize your Text Elements to different languages.","source":"@site/docs/user-manual/user-interface/localization.md","sourceDirName":"user-manual/user-interface","slug":"/user-manual/user-interface/localization","permalink":"/user-manual/user-interface/localization","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/user-interface/localization.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"title":"Localization","sidebar_position":9},"sidebar":"userManualSidebar","previous":{"title":"Input","permalink":"/user-manual/user-interface/input"},"next":{"title":"Safe Area","permalink":"/user-manual/user-interface/safe-area"}}');var l=n(74848),s=n(28453);const i={title:"Localization",sidebar_position:9},o=void 0,r={},c=[{value:"Localization Files",id:"localization-files",level:2},{value:"Localizing Text Elements",id:"localizing-text-elements",level:2},{value:"Localizing Numbers",id:"localizing-numbers",level:2},{value:"Localized Fonts",id:"localized-fonts",level:2},{value:"Language Notes",id:"language-notes",level:2},{value:"Thai",id:"thai",level:3},{value:"Right to left Languages",id:"right-to-left-languages",level:3},{value:"Engine",id:"engine",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.p,{children:"This page describes how to localize your Text Elements to different languages."}),"\n",(0,l.jsx)(t.h2,{id:"localization-files",children:"Localization Files"}),"\n",(0,l.jsx)(t.p,{children:"For each language you want to support you will need to add a JSON asset that contains the translated phrases for that language. PlayCanvas supports a specific format for the JSON asset. Open the Editor Settings and under LOCALIZATION click CREATE NEW ASSET to generate a new JSON asset in the expected format."}),"\n",(0,l.jsx)(t.p,{children:"The JSON asset looks like so:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-json",children:'{\n    "header": {\n        "version": 1\n    },\n    "data": [\n        {\n            "info": {\n                "locale": "en-US"\n            },\n            "messages": {\n                "key": "Single key translation",\n                "key plural": [\n                    "One key translation",\n                    "Translation for {number} keys"\n                ]\n            }\n        }\n    ]\n}\n'})}),"\n",(0,l.jsxs)(t.p,{children:["You can specify a different locale in the ",(0,l.jsx)(t.code,{children:"info"})," part of the JSON file. The ",(0,l.jsx)(t.code,{children:"messages"})," section contains key - value pairs for each localized phrase. The key is the identifier for that phrase and the text is the translated text for that key."]}),"\n",(0,l.jsxs)(t.p,{children:["PlayCanvas also supports plural forms for each locale. To specify plural forms for each phrase you need to pass an array of strings for each plural form instead of a single string. Each language has different plural forms which you can find ",(0,l.jsx)(t.a,{href:"https://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html",children:"here"}),". Each array element corresponds to a plural form for that language. For example for English:"]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-json",children:'"key plural": [\n    "One item", // plural form ONE\n    "Not one" // plural form OTHER\n]\n'})}),"\n",(0,l.jsx)(t.p,{children:"For Arabic:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-json",children:'"key plural": [\n    "Zero items", // plural form ZERO\n    "One item", // plural form ONE\n    "Two items", // plural form TWO\n    "Few items", // plural form FEW\n    "Many items", // plural form MANY\n    "Rest" // plural form OTHER\n]\n'})}),"\n",(0,l.jsxs)(t.p,{children:["Refer to the language tables ",(0,l.jsx)(t.a,{href:"https://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html",children:"here"})," to determine the rules for each language."]}),"\n",(0,l.jsx)(t.p,{children:"After you have created your localization JSON assets you need to add them to the Editor Settings under LOCALIZATION."}),"\n",(0,l.jsx)(t.h2,{id:"localizing-text-elements",children:"Localizing Text Elements"}),"\n",(0,l.jsxs)(t.p,{children:["Enable the ",(0,l.jsx)(t.code,{children:"Localized"})," checkbox for a Text Element in order to use the Localization Files to translate its text. The text you enter in the ",(0,l.jsx)(t.code,{children:"Key"})," field of the Text Element should match the key in the localization file."]}),"\n",(0,l.jsxs)(t.p,{children:["To test your localization you can change the ",(0,l.jsx)(t.code,{children:"Locale"})," field under the Editor Settings. That should update your Editor viewport to that locale and also this will update the locale used when you launch your application. This field is not used when you publish or download a build."]}),"\n",(0,l.jsx)(t.h2,{id:"localizing-numbers",children:"Localizing Numbers"}),"\n",(0,l.jsxs)(t.p,{children:["Different locales will have different rules on how numbers should be formatted. For example, English (UK and US) would format ",(0,l.jsx)(t.code,{children:"1000000"})," as ",(0,l.jsx)(t.code,{children:"1,000,000"})," and Dutch would format with a decimal instead ",(0,l.jsx)(t.code,{children:"1.000.000"}),"."]}),"\n",(0,l.jsxs)(t.p,{children:["JavaScript provides a built in function to do this formatting based on the locale code, ",(0,l.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString",children:(0,l.jsx)(t.code,{children:"Number.protoype.toLocaleString()"})}),"."]}),"\n",(0,l.jsx)(t.p,{children:"An example of usage:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-javascript",children:'const numberOfItems = 1000;\nconst currentLocale = this.app.i18n.locale;\nconst localeNumberString = numberOfItems.toLocaleString(currentLocale);\n\nconsole.log(localeNumberString);\n// expected output assuming currentLocale is en-US: "1,000"\n'})}),"\n",(0,l.jsx)(t.h2,{id:"localized-fonts",children:"Localized Fonts"}),"\n",(0,l.jsx)(t.p,{children:"Often you will find that different languages might require different fonts to be used. In order to define a different font for a specific language select the primary font Asset you are using for your Text Element and towards the bottom of the Asset Attributes you will find the Localization section for that font Asset. Type the desired locale and assign a new font Asset for that locale."}),"\n",(0,l.jsx)(t.p,{children:"At runtime when the application switches to a different locale it will load the font Asset you defined for that locale."}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{alt:"Localized Fonts Inspector",src:n(95001).A+"",width:"865",height:"400"})}),"\n",(0,l.jsx)(t.h2,{id:"language-notes",children:"Language Notes"}),"\n",(0,l.jsx)(t.p,{children:"There are some languages that require specific workflows or considerations that are listed below."}),"\n",(0,l.jsx)(t.h3,{id:"thai",children:"Thai"}),"\n",(0,l.jsxs)(t.p,{children:["For word wrapping to work correctly in UI Text Elements with Thai text, ",(0,l.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Zero-width_space",children:"zero width characters (Unicode U+200B)"})," need be added between words by the translators."]}),"\n",(0,l.jsx)(t.p,{children:"The Thai language has no spaces between words and the same run of glyphs can be split into different combinations of words depending on the context of the sentence."}),"\n",(0,l.jsxs)(t.p,{children:["Being able to split Thai text correctly computationally is still an ",(0,l.jsx)(t.a,{href:"http://www.thai-language.com/ref/breaking-words",children:"unsolved problem"})," and usually done via a dictionary based approach which can be expensive to do at runtime."]}),"\n",(0,l.jsxs)(t.p,{children:["The ",(0,l.jsx)(t.a,{href:"http://www.thai-language.com/?nav=zwsp",children:"thai-language.com site also has a separate tool"})," to add the zero width characters between words using a dictionary based approach if you have existing text."]}),"\n",(0,l.jsx)(t.h3,{id:"right-to-left-languages",children:"Right to left Languages"}),"\n",(0,l.jsxs)(t.p,{children:["Right to left languages will need extra scripts for support that can be found in this ",(0,l.jsx)(t.a,{href:"/tutorials/right-to-left-language-support/",children:"example project"}),"."]}),"\n",(0,l.jsxs)(t.p,{children:["In the example project, there is a folder called 'Rtl Support' that needs to ",(0,l.jsx)(t.a,{href:"/user-manual/editor/interface/assets/#copy-and-paste-between-projects",children:"copied and pasted"})," into your project."]}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:n(70236).A+"",width:"1576",height:"564"})}),"\n",(0,l.jsx)(t.p,{children:"In the folder, there is Script Type called 'RtlElement' which should be added to any Entity with a text element component that would be used to show right to left text."}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:n(94753).A+"",width:"2514",height:"1454"})}),"\n",(0,l.jsx)(t.h2,{id:"engine",children:"Engine"}),"\n",(0,l.jsx)(t.p,{children:"To retrieve the text from a key in script, use the APIs:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"https://api.playcanvas.com/classes/Engine.I18n.html#getText",children:"pc.I18n#getText"})," To retrieve the a non-plural or first text string in a plural list"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"https://api.playcanvas.com/classes/Engine.I18n.html#getPluralText",children:"pc.I18n#getPluralText"})," To retrieve a plural text string based on the number"]}),"\n"]}),"\n",(0,l.jsxs)(t.p,{children:["For the complete engine API reference for localization see ",(0,l.jsx)(t.a,{href:"https://api.playcanvas.com/classes/Engine.I18n.html",children:"this page"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},94753:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/adding-rtl-script-type-892baac10ba2a73d75e6c5b863bc886e.png"},95001:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/localized-fonts-inspector-35bb2632a32d76d30f0533388f72a567.gif"},70236:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/rtl-asset-folder-0d7de74c040453ed602a4640f193729e.png"},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>o});var a=n(96540);const l={},s=a.createContext(l);function i(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);