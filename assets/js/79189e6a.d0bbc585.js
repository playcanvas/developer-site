"use strict";(self.webpackChunkdeveloper_playcanvas_com=self.webpackChunkdeveloper_playcanvas_com||[]).push([[6745],{49410:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>o,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"user-manual/publishing/playable-ads/snapchat-playable-ads","title":"Snapchat Playable Ad","description":"PlayCanvas supports the Snapchat Playable Ad format and requirements via an official external tool on GitHub.","source":"@site/docs/user-manual/publishing/playable-ads/snapchat-playable-ads.md","sourceDirName":"user-manual/publishing/playable-ads","slug":"/user-manual/publishing/playable-ads/snapchat-playable-ads","permalink":"/user-manual/publishing/playable-ads/snapchat-playable-ads","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/publishing/playable-ads/snapchat-playable-ads.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Snapchat Playable Ad","sidebar_position":2},"sidebar":"userManualSidebar","previous":{"title":"Facebook Playable Ad","permalink":"/user-manual/publishing/playable-ads/fb-playable-ads"},"next":{"title":"REST API","permalink":"/user-manual/api/"}}');var s=n(74848),l=n(28453);const i={title:"Snapchat Playable Ad",sidebar_position:2},r=void 0,o={},c=[{value:"Example project",id:"example-project",level:2},{value:"File size tips",id:"file-size-tips",level:2},{value:"Playable ad checklist",id:"playable-ad-checklist",level:2},{value:"How to export",id:"how-to-export",level:2},{value:"Dry run test",id:"dry-run-test",level:3},{value:"Export for Snapchat",id:"export-for-snapchat",level:3}];function h(e){const a={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.p,{children:["PlayCanvas supports the Snapchat Playable Ad format and requirements via an ",(0,s.jsx)(a.a,{href:"https://github.com/playcanvas/playcanvas-rest-api-tools#converting-a-project-into-a-single-html-file",children:"official external tool on GitHub"}),"."]}),"\n",(0,s.jsxs)(a.p,{children:["Snapchat playable ads uses the ",(0,s.jsx)(a.a,{href:"https://www.iab.com/guidelines/mraid/",children:"MRAID 2.0 API"})," standard and requires the assets for the ad to be external from the ",(0,s.jsx)(a.code,{children:"index.html"})," rather than embedded."]}),"\n",(0,s.jsx)(a.p,{children:"The external assets will need to be in a folder that is uniquely named (which the tool handles for you) so that they can be uploaded to Snapchat's CDN servers."}),"\n",(0,s.jsxs)(a.p,{children:["There are some limitations to be aware of with the tool which can be found in the documentation from ",(0,s.jsx)(a.a,{href:"https://github.com/playcanvas/playcanvas-rest-api-tools#converting-a-project-into-a-single-html-file",children:"GitHub"}),"."]}),"\n",(0,s.jsx)(a.h2,{id:"example-project",children:"Example project"}),"\n",(0,s.jsxs)(a.p,{children:["The ",(0,s.jsx)(a.a,{href:"https://playcanvas.com/project/796932/overview/cube-jump-snapchat-ad",children:"Cube Jump project"})," is ready to be exported to the Snapchat Playable Ad format and the expected HTML output can be found ",(0,s.jsx)(a.a,{href:"pathname:///downloads/sc-playable-ad-cube-jump.zip",children:"here"}),"."]}),"\n",(0,s.jsx)("div",{className:"iframe-container",children:(0,s.jsx)("iframe",{src:"https://playcanv.as/e/p/X1nwbUGA/",title:"Cube Jump Playable Ad",allow:"camera; microphone; xr-spatial-tracking; fullscreen",allowfullscreen:!0})}),"\n",(0,s.jsx)(a.h2,{id:"file-size-tips",children:"File size tips"}),"\n",(0,s.jsx)(a.p,{children:"As there is a soft limit of 5MB (uncompressed), you will have to plan and budget the usage of assets for the ad."}),"\n",(0,s.jsxs)(a.p,{children:["The minified PlayCanvas Engine code is ",(0,s.jsx)(a.strong,{children:"~1.2MB"})," uncompressed and due to the need to encode the asset files into Base64 strings, it adds ",(0,s.jsx)(a.strong,{children:"~30%"})," to the size of each asset file."]}),"\n",(0,s.jsx)(a.p,{children:"This means that you would have about ~3MB for assets before the Base64 encoding."}),"\n",(0,s.jsxs)(a.p,{children:["Try to keep images as small as possible in dimensions and use tools like ",(0,s.jsx)(a.a,{href:"https://tinypng.com/",children:"TinyPNG"})," to reduce file size even further."]}),"\n",(0,s.jsx)(a.h2,{id:"playable-ad-checklist",children:"Playable ad checklist"}),"\n",(0,s.jsxs)(a.p,{children:["The Snapchat ad network requires the call to action function to be in the ",(0,s.jsx)(a.code,{children:"index.html"})," where the network can replace it with a unique tracking version when it is served to the user. The URL will be set in the Snapchat Ad campaign tool."]}),"\n",(0,s.jsxs)(a.p,{children:["The tool wraps this logic in a global function: ",(0,s.jsx)(a.code,{children:"snapchatCta();"})," that should be called in the playable ad project."]}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Have you called the function ",(0,s.jsx)(a.code,{children:"snapchatCta();"})," as part of the call to action callback?"]}),"\n"]}),"\n",(0,s.jsx)(a.h2,{id:"how-to-export",children:"How to export"}),"\n",(0,s.jsxs)(a.p,{children:["Follow the ",(0,s.jsx)(a.a,{href:"https://github.com/playcanvas/playcanvas-rest-api-tools#setup",children:"setup steps"})," from the readme in the GitHub repo."]}),"\n",(0,s.jsx)(a.h3,{id:"dry-run-test",children:"Dry run test"}),"\n",(0,s.jsx)(a.p,{children:"As Snapchat does not yet have an official tool to test with, we will have to do a dry run to test with first before exporting in a format that the Snapchat ad network expects."}),"\n",(0,s.jsxs)(a.p,{children:["Set the following options in the ",(0,s.jsx)(a.code,{children:"config.json"})," as shown below. This will produce a ZIP file with the asset data and PlayCanvas Engine code as separate files from the ",(0,s.jsx)(a.code,{children:"index.html"}),"."]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-json",children:'    "one_page": {\n        "patch_xhr_out": false,\n        "inline_game_scripts": true,\n        "extern_files": {\n            "enabled": true,\n            "folder_name": "78fb9255-3033-4fe2-b9e1-355b149229a1",\n            "external_url_prefix": ""\n        },\n        "mraid_support": true,\n        "snapchat_cta": true\n    }\n'})}),"\n",(0,s.jsxs)(a.p,{children:["The ",(0,s.jsx)(a.code,{children:"folder_name"})," needs to be a unique string. For this purpose, you can use a random GUID from a ",(0,s.jsx)(a.a,{href:"https://www.guidgenerator.com/",children:"GUID generator"})," or your Snapchat representative may have a specific string that you should use."]}),"\n",(0,s.jsx)(a.p,{children:"And run the command:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sh",children:"npm run one-page\n"})}),"\n",(0,s.jsxs)(a.p,{children:["Full details of options and commands can be found in the readme section for '",(0,s.jsx)(a.a,{href:"https://github.com/playcanvas/playcanvas-rest-api-tools#converting-a-project-into-a-single-html-file",children:"Converting a project into a single HTML file"}),"'."]}),"\n",(0,s.jsxs)(a.p,{children:["To test the ad on a device, we can use the Android app ",(0,s.jsx)(a.a,{href:"https://play.google.com/store/apps/details?id=com.google.android.apps.audition&hl=en_GB&gl=US",children:"Creative Preview"})," but we need to host the ad on a https server."]}),"\n",(0,s.jsxs)(a.p,{children:["Our recommended approach is to ",(0,s.jsx)(a.a,{href:"/user-manual/publishing/web/self-hosting/#running-a-downloaded-build",children:"host locally"})," and use ",(0,s.jsx)(a.a,{href:"https://ngrok.com/",children:"ngrok"})," to create a https tunnel to your computer that the app can access."]}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/user-manual/publishing/playable-ads/snapchat-playable-ads/ngrok.png",width:"600"}),"\n",(0,s.jsx)(a.p,{children:"Once this is setup, open Creative Preview app and create a new 'Display' ad with the following settings:"}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/user-manual/publishing/playable-ads/snapchat-playable-ads/creative-preview.png",width:"300"}),"\n",(0,s.jsx)(a.h3,{id:"export-for-snapchat",children:"Export for Snapchat"}),"\n",(0,s.jsxs)(a.p,{children:["When the ad is ready to be uploaded for Snapchat, we need to add Snapchat's CDN URL prefix to the asset references in ",(0,s.jsx)(a.code,{children:"index.html"}),". We can do this via the options in ",(0,s.jsx)(a.code,{children:"config.json"})," via the ",(0,s.jsx)(a.code,{children:"external_url_prefix"})," property:"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-json",children:'    "one_page": {\n        "patch_xhr_out": false,\n        "inline_game_scripts": true,\n        "extern_files": {\n            "enabled": true,\n            "folder_name": "78fb9255-3033-4fe2-b9e1-355b149229a1",\n            "external_url_prefix": "https://rtb-ads.shadow.snapads.com/html5"\n        },\n        "mraid_support": true,\n        "snapchat_cta": true\n    }\n'})}),"\n",(0,s.jsx)(a.p,{children:"The ZIP can then be given to your Snapchat representative to upload to the ad network."})]})}function d(e={}){const{wrapper:a}={...(0,l.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,a,n)=>{n.d(a,{R:()=>i,x:()=>r});var t=n(96540);const s={},l=t.createContext(s);function i(e){const a=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(l.Provider,{value:a},e.children)}}}]);