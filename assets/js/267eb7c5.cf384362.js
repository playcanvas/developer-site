"use strict";(self.webpackChunkdeveloper_playcanvas_com=self.webpackChunkdeveloper_playcanvas_com||[]).push([[12706],{11470:(e,t,a)=>{a.d(t,{A:()=>C});var n=a(96540),r=a(34164),s=a(17559),i=a(23104),o=a(56347),c=a(205),l=a(57485),u=a(31682),h=a(70679);function d(e){return n.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:t,children:a}=e;return(0,n.useMemo)(()=>{const e=t??function(e){return d(e).map(({props:{value:e,label:t,attributes:a,default:n}})=>({value:e,label:t,attributes:a,default:n}))}(a);return function(e){const t=(0,u.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,a])}function m({value:e,tabValues:t}){return t.some(t=>t.value===e)}function f({queryString:e=!1,groupId:t}){const a=(0,o.W6)(),r=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,l.aZ)(r),(0,n.useCallback)(e=>{if(!r)return;const t=new URLSearchParams(a.location.search);t.set(r,e),a.replace({...a.location,search:t.toString()})},[r,a])]}function v(e){const{defaultValue:t,queryString:a=!1,groupId:r}=e,s=p(e),[i,o]=(0,n.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const a=t.find(e=>e.default)??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:s})),[l,u]=f({queryString:a,groupId:r}),[d,v]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[a,r]=(0,h.Dv)(t);return[a,(0,n.useCallback)(e=>{t&&r.set(e)},[t,r])]}({groupId:r}),y=(()=>{const e=l??d;return m({value:e,tabValues:s})?e:null})();(0,c.A)(()=>{y&&o(y)},[y]);return{selectedValue:i,selectValue:(0,n.useCallback)(e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),v(e)},[u,v,s]),tabValues:s}}var y=a(92303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=a(74848);function w({className:e,block:t,selectedValue:a,selectValue:n,tabValues:s}){const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),l=e=>{const t=e.currentTarget,r=o.indexOf(t),i=s[r].value;i!==a&&(c(t),n(i))},u=e=>{let t=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const a=o.indexOf(e.currentTarget)+1;t=o[a]??o[0];break}case"ArrowLeft":{const a=o.indexOf(e.currentTarget)-1;t=o[a]??o[o.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},e),children:s.map(({value:e,label:t,attributes:n})=>(0,b.jsx)("li",{role:"tab",tabIndex:a===e?0:-1,"aria-selected":a===e,ref:e=>{o.push(e)},onKeyDown:u,onClick:l,...n,className:(0,r.A)("tabs__item",g.tabItem,n?.className,{"tabs__item--active":a===e}),children:t??e},e))})}function x({lazy:e,children:t,selectedValue:a}){const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===a);return e?(0,n.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==a}))})}function j(e){const t=v(e);return(0,b.jsxs)("div",{className:(0,r.A)(s.G.tabs.container,"tabs-container",g.tabList),children:[(0,b.jsx)(w,{...t,...e}),(0,b.jsx)(x,{...t,...e})]})}function C(e){const t=(0,y.A)();return(0,b.jsx)(j,{...e,children:d(e.children)},String(t))}},19365:(e,t,a)=>{a.d(t,{A:()=>i});a(96540);var n=a(34164);const r={tabItem:"tabItem_Ymn6"};var s=a(74848);function i({children:e,hidden:t,className:a}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,n.A)(r.tabItem,a),hidden:t,children:e})}},28453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>o});var n=a(96540);const r={},s=n.createContext(r);function i(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(s.Provider,{value:t},e.children)}},33689:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"tutorials/more-cameras","title":"More Cameras","description":"Click to focus, then press space to zoom in and out, press left arrow and right arrow to switch to the left and right cameras","source":"@site/docs/tutorials/more-cameras.md","sourceDirName":"tutorials","slug":"/tutorials/more-cameras","permalink":"/tutorials/more-cameras","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/tutorials/more-cameras.md","tags":[{"inline":true,"label":"basics","permalink":"/tags/basics"},{"inline":true,"label":"camera","permalink":"/tags/camera"}],"version":"current","frontMatter":{"title":"More Cameras","tags":["basics","camera"],"thumb":"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/405835/E7331A-image-75.jpg"},"sidebar":"tutorialsSidebar","previous":{"title":"Mobile UI Safe Areas","permalink":"/tutorials/mobile-ui-safe-areas"},"next":{"title":"Basic Mouse Input","permalink":"/tutorials/mouse-input"}}');var r=a(74848),s=a(28453),i=a(11470),o=a(19365);const c={title:"More Cameras",tags:["basics","camera"],thumb:"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/405835/E7331A-image-75.jpg"},l=void 0,u={},h=[{value:"Altering Attributes",id:"altering-attributes",level:2},{value:"Current Camera",id:"current-camera",level:2}];function d(e){const t={a:"a",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"iframe-container",children:(0,r.jsx)("iframe",{src:"https://playcanv.as/p/5yUf1fvg/",title:"More Cameras",allow:"camera; microphone; xr-spatial-tracking; fullscreen",allowfullscreen:!0})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsxs)(t.em,{children:["Click to focus, then press ",(0,r.jsx)(t.code,{children:"space"})," to zoom in and out, press ",(0,r.jsx)(t.code,{children:"left arrow"})," and ",(0,r.jsx)(t.code,{children:"right arrow"})," to switch to the left and right cameras"]})}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.a,{href:"/tutorials/basic-cameras/",children:"Basic Cameras"})," tutorial walks you through creating a camera Entity and adding it to your Scene. For a single static camera, no scripting is required. But for a more dynamic and interactive camera or for more advanced usage you might want to attach a script Component and program the camera behavior yourself."]}),"\n",(0,r.jsx)(t.h2,{id:"altering-attributes",children:"Altering Attributes"}),"\n",(0,r.jsxs)(t.p,{children:["The first way you might want to modify a camera at runtime, is to change the values of attributes on camera Component. You do this the same way that you set attributes on any other Component, by using the ",(0,r.jsx)(t.code,{children:"set()"})," and ",(0,r.jsx)(t.code,{children:"get()"}),"\nmethods on the ComponentSystem."]}),"\n","\n",(0,r.jsxs)(i.A,{defaultValue:"classic",groupId:"script-code",children:[(0,r.jsx)(o.A,{value:"esm",label:"ESM",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:"import { Script, KEY_SPACE } from 'playcanvas';\n\nexport class Zoom extends Script {\n    static scriptName = \"zoom\";\n\n    // initialize code called once per entity\n    initialize() {\n        this.targetFov = 45;\n    }\n\n    // update code called every frame\n    update(dt) {\n        if (this.app.keyboard.wasPressed(KEY_SPACE)) {\n            this.targetFov = this.targetFov === 10 ? 45 : 10;\n        }\n\n        let fov = this.entity.camera.fov;\n        if (fov < this.targetFov) {\n            fov += 10 * dt;\n            if (fov > this.targetFov) {\n                fov = this.targetFov;\n            }\n        } else if (fov > this.targetFov) {\n            fov -= 10 * dt;\n            if (fov < this.targetFov) {\n                fov = this.targetFov;\n            }\n        }\n        this.entity.camera.fov = fov;\n    }\n}\n"})})}),(0,r.jsx)(o.A,{value:"classic",label:"Classic",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:"var Zoom = pc.createScript('zoom');\n\n// initialize code called once per entity\nZoom.prototype.initialize = function() {\n    this.targetFov = 45;\n};\n\n// update code called every frame\nZoom.prototype.update = function(dt) {\n\n    if (this.app.keyboard.wasPressed(pc.KEY_SPACE) ) {\n        if (this.targetFov == 10) {\n            this.targetFov = 45;\n        } else {\n            this.targetFov = 10;\n        }\n    }\n\n    var fov = this.entity.camera.fov;\n    if (fov < this.targetFov) {\n        fov += (10 * dt);\n        if (fov > this.targetFov) {\n            fov = this.targetFov;\n        }\n    }\n\n    if (fov > this.targetFov) {\n        fov -= (10 * dt);\n        if (fov < this.targetFov) {\n            fov = this.targetFov;\n        }\n    }\n    this.entity.camera.fov = fov;\n};\n"})})})]}),"\n",(0,r.jsxs)(t.p,{children:["In this sample pressing the spacebar triggers a change in field of view. With the line ",(0,r.jsx)(t.code,{children:"var fov = this.entity.camera.fov"})," we ",(0,r.jsx)(t.code,{children:"get()"})," the value of ",(0,r.jsx)(t.code,{children:"fov"})," from the camera component of the entity that this script is attached to."]}),"\n",(0,r.jsxs)(t.p,{children:["With ",(0,r.jsx)(t.code,{children:"this.app.keyboard.wasPressed()"})," we detect the keypress and toggle between the value of the target fov."]}),"\n",(0,r.jsxs)(t.p,{children:["With the final two nested ",(0,r.jsx)(t.code,{children:"if(){}"})," constructs we gradually change the fov values to create the zoom in/ zoom out effect."]}),"\n",(0,r.jsxs)(t.p,{children:["With the line ",(0,r.jsx)(t.code,{children:"this.entity.camera.fov = fov"})," we ",(0,r.jsx)(t.code,{children:"set()"})," the fov camera attribute to the new value."]}),"\n",(0,r.jsxs)(t.p,{children:["Notice that when you are zoomed out the top and bottom cubes are at the edges of the screen, this matches our expectation from the ",(0,r.jsx)(t.a,{href:"https://playcanvas.com/editor/scene/440116",children:"PlayCanvas Editor scene"})," where the cubes sit next to the\ntop and bottom sides of the camera ",(0,r.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Frustum",children:"frustum"})]}),"\n",(0,r.jsx)(t.h2,{id:"current-camera",children:"Current Camera"}),"\n",(0,r.jsx)(t.p,{children:"Another way you might want to create interactivity with cameras is by switching between multiple cameras. You can achieve this by adding several camera Entities to your Scene; ensure that only one is activated; and then alter which is the current camera at runtime in your script."}),"\n",(0,r.jsxs)(i.A,{defaultValue:"classic",groupId:"script-code",children:[(0,r.jsx)(o.A,{value:"esm",label:"ESM",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:"import { Script, KEY_SPACE, KEY_LEFT, KEY_RIGHT } from 'playcanvas';\n\nexport class CameraManager extends Script {\n    static scriptName = \"cameraManager\";\n\n    // initialize code called once per entity\n    initialize() {\n        this.activeCamera = this.entity.findByName('Center');\n        this.app.keyboard.on(\"keydown\", this.onKeyDown, this);\n\n        this.on('destroy', () => {\n            this.app.keyboard.off(\"keydown\", this.onKeyDown, this);\n        });\n    }\n\n    //prevents default browser actions, such as scrolling when pressing cursor keys\n    onKeyDown(event) {\n        event.event.preventDefault();\n    }\n\n    setCamera(cameraName) {\n        // Disable the currently active camera\n        this.activeCamera.enabled = false;\n\n        // Enable the newly specified camera\n        this.activeCamera = this.entity.findByName(cameraName);\n        this.activeCamera.enabled = true;\n    }\n\n    // update code called every frame\n    update(dt) {\n        if (this.app.keyboard.wasPressed(KEY_SPACE)) {\n            this.setCamera('Center');\n        } else if (this.app.keyboard.wasPressed(KEY_LEFT)) {\n            this.setCamera('Left');\n        } else if (this.app.keyboard.wasPressed(KEY_RIGHT)) {\n            this.setCamera('Right');\n        }\n    }\n}\n"})})}),(0,r.jsx)(o.A,{value:"classic",label:"Classic",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:"var CameraManager = pc.createScript('cameraManager');\n\n// initialize code called once per entity\nCameraManager.prototype.initialize = function() {\n    this.activeCamera = this.entity.findByName('Center');\n    this.app.keyboard.on(pc.EVENT_KEYDOWN, this.onKeyDown, this);\n\n    this.on('destroy', function() {\n        this.app.keyboard.off(pc.EVENT_KEYDOWN, this.onKeyDown, this);\n    }, this);\n};\n\n//prevents default browser actions, such as scrolling when pressing cursor keys\nCameraManager.prototype.onKeyDown = function (event) {\n    event.event.preventDefault();\n};\n\nCameraManager.prototype.setCamera = function (cameraName) {\n    // Disable the currently active camera\n    this.activeCamera.enabled = false;\n\n    // Enable the newly specified camera\n    this.activeCamera = this.entity.findByName(cameraName);\n    this.activeCamera.enabled = true;\n};\n\n// update code called every frame\nCameraManager.prototype.update = function(dt) {\n    var app = this.app;\n\n    if (app.keyboard.wasPressed(pc.KEY_SPACE) ) {\n        this.setCamera('Center');\n    } else if (app.keyboard.wasPressed(pc.KEY_LEFT)) {\n        this.setCamera('Left');\n    } else if (app.keyboard.wasPressed(pc.KEY_RIGHT)) {\n        this.setCamera('Right');\n    }\n};\n"})})})]}),"\n",(0,r.jsx)(t.p,{children:"In this sample, pressing the arrow keys sets the current camera to be a left or right camera Entity (from those that are in the currently loaded Scene) and the space key activates the central camera."}),"\n",(0,r.jsxs)(t.p,{children:["We initially  create a function to find the camera entity we want by name - with the ",(0,r.jsx)(t.code,{children:"findByName()"})," function applied to the parent entity of this script (given that the cameras are located there, there is no need to use ",(0,r.jsx)(t.code,{children:"this.app.root.findByName()"})," to search through all the entities in the Scene)."]}),"\n",(0,r.jsxs)(t.p,{children:["We set up an object containing the names of the camera Entities that correspond to the arrow and space keys ",(0,r.jsx)(t.a,{href:"https://playcanvas.com/editor/scene/440116",children:"(see the Editor scene)"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["Next we loop through the keys and if one was pressed then we find the entity by its name, and we set it to be the current camera using the ",(0,r.jsx)(t.code,{children:"setCamera()"})," function we defined early in the script which disables the current active camera, then finds the new camera to activate."]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);