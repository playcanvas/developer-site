"use strict";(globalThis.webpackChunkdeveloper_playcanvas_com=globalThis.webpackChunkdeveloper_playcanvas_com||[]).push([[1633],{23495:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"user-manual/api/splat-publish","title":"Splat Publishing","description":"Overview","source":"@site/docs/user-manual/api/splat-publish.md","sourceDirName":"user-manual/api","slug":"/user-manual/api/splat-publish","permalink":"/user-manual/api/splat-publish","draft":false,"unlisted":true,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/api/splat-publish.md","tags":[],"version":"current","frontMatter":{"title":"Splat Publishing","unlisted":true}}');var i=s(74848),r=s(28453);const a={title:"Splat Publishing",unlisted:!0},l=void 0,o={},d=[{value:"Overview",id:"overview",level:4},{value:"Routes",id:"routes",level:3},{value:"Get Signed URL for AWS S3 upload",id:"get-signed-url-for-aws-s3-upload",level:4},{value:"Upload to AWS S3 using signed url",id:"upload-to-aws-s3-using-signed-url",level:4},{value:"Start processing",id:"start-processing",level:4},{value:"Check the status of uploaded splat",id:"check-the-status-of-uploaded-splat",level:4}];function c(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h4,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"Publish a splat (e.g., .ply or .sog) to the SuperSplat platform using a direct AWS S3 upload using signed URL + publish flow."}),"\n",(0,i.jsx)(n.p,{children:"The flow consists of three main steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request a signed upload URL"})," from the backend."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Upload the file"})," directly to S3 using that signed URL."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Start the processing job"})," by calling the backend API."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["All API requests must include a valid Bearer token in the ",(0,i.jsx)(n.code,{children:"Authorization"})," header. Check ",(0,i.jsx)(n.a,{href:"https://developer.playcanvas.com/user-manual/api/#:~:text=You%20can%20generate%20an%20Access,you%20your%20new%20access%20token",children:"this document"})," to read about allocating a token."]}),"\n",(0,i.jsx)(n.h3,{id:"routes",children:"Routes"}),"\n",(0,i.jsx)(n.h4,{id:"get-signed-url-for-aws-s3-upload",children:"Get Signed URL for AWS S3 upload"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'POST https://playcanvas.com/api/upload/signed-url\n\nBody\n\n{ "fileName": "scene.ply" }\n\nResponse\n\n{ "signedUrl": "string", "s3Key": "string" }\n'})}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-JavaScript",children:"const response = await fetch(`https://playcanvas.com/api/upload/signed-url`, {\n    method: 'POST',\n    body: JSON.stringify({\n        filename: filename\n    }),\n    headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n    }\n});\n"})}),"\n",(0,i.jsx)(n.h4,{id:"upload-to-aws-s3-using-signed-url",children:"Upload to AWS S3 using signed url"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'PUT "signedUrl"\n\nResponse\n\n{ "signedUrl": "string", "s3Key": "string" }\n'})}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-JavaScript",children:"const uploadResponse = await fetch(signedUrl, {\n    method: 'PUT',\n    body: fileData,\n    headers: {\n        'Content-Type': 'binary/octet-stream'\n    }\n});\n"})}),"\n",(0,i.jsx)(n.h4,{id:"start-processing",children:"Start processing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'POST https://playcanvas.com/api/splats/publish\n\nBody\n\n{\n  "s3Key": "string",\n  "title": "string",\n  "description": "string",\n  "listed": boolean,\n  "settings": { /* Settings */ },\n  "format": "compressed.ply" // or "sog"\n}\n\nSettings: \n\nconst settings = {\n    camera: {\n        fov: 65, // field of view\n        position: [1,1,-1], target: [-0.1,0.6,-0.2],\n        startAnim: \'none\',\n        animTrack:null \n    },\n    background: {\n        color: [0.4,0.4,0.4]\n    },\n    animTracks:[]\n};\n\nResponse (Splat data)\n\n{\n  "id": "string", \n  "hash": "string",\n  "title": "string",\n  "description": "string",\n  "format": "compressed.ply | sog"\n  "version": "string",\n  "release_notes": "string",\n  "thumbnails": number,\n  "size": number\n  "views": number, \n  "comments": number, \n  "starred": number, \n  "listed": boolean,\n  "completedAt": DateTime, \n  "createdAt": DateTime, \n  "modifiedAt": DateTime\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-JavaScript",children:"const response = await fetch(`https://playcanvas.com/api/splats/publish`, {\n    method: 'POST',\n    body: JSON.stringify({\n      s3Key: s3Key,\n      title: 'Some Title',\n      description: 'Some Description',\n      listed: true,\n      settings: settings,\n      format: format\n    }),\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    }\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"Sample response"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:"{\n  comments = 0\n  completedAt = null\n  createdAt = '2025-10-21T12:42:13.331Z'\n  currentVersion = 1\n  description = 'Some Description'\n  featuredWeight = 0\n  format = ''\n  hash = '982a2820'\n  hasThumbnails = false\n  id = 50\n  listed = true\n  modifiedAt = '2025-10-21T12:42:13.331Z'\n  releaseNotes = null\n  size = 0\n  starred = 0\n  tags = (0) []\n  task = {status: 'running', message: ''}\n  title = 'Some Title'\n  url = 'https://superspl.at/view?id=982a2820'\n  userId = 7\n  version = 0\n  views = 0\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Status - 201 Success"}),"\n",(0,i.jsx)(n.h4,{id:"check-the-status-of-uploaded-splat",children:"Check the status of uploaded splat"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'GET https://playcanvas.com/api/splats/{ID}\n\nResponse (Splat)\n\n\n{\n  "id": "string",\n  "hash": "string",\n  "title": "string",\n  "description": "string",\n  "format": "compressed.ply | sog"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-JavaScript",children:"const response = await fetch(`https://playcanvas.com/api/splats/1000`)\n\n"})}),"\n",(0,i.jsx)(n.p,{children:"Errors"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Code"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"400"}),(0,i.jsx)(n.td,{children:"Bad request / invalid payload / over storage allowance"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"401"}),(0,i.jsx)(n.td,{children:"Unauthorized (missing/invalid token)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"403"}),(0,i.jsx)(n.td,{children:"Forbidden"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"404"}),(0,i.jsx)(n.td,{children:"Resource not found (e.g., sceneId)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"5xx"}),(0,i.jsx)(n.td,{children:"Server/S3 error during upload or finalize"})]})]})]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var t=s(96540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);