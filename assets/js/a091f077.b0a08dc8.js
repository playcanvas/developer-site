"use strict";(self.webpackChunkdeveloper_playcanvas_com=self.webpackChunkdeveloper_playcanvas_com||[]).push([[75998],{28453:(e,s,i)=>{i.d(s,{R:()=>r,x:()=>a});var t=i(96540);const n={},o=t.createContext(n);function r(e){const s=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),t.createElement(o.Provider,{value:s},e.children)}},53286:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"user-manual/optimization/texture-compression","title":"Texture Compression","description":"Texture data is stored in a device\'s video memory (or VRAM). It is important to ensure that your application does not exhaust VRAM as this can cause undesirable things like browser tab crashes.","source":"@site/docs/user-manual/optimization/texture-compression.md","sourceDirName":"user-manual/optimization","slug":"/user-manual/optimization/texture-compression","permalink":"/user-manual/optimization/texture-compression","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/optimization/texture-compression.md","tags":[],"version":"current","frontMatter":{"title":"Texture Compression"},"sidebar":"userManualSidebar","previous":{"title":"General Guidelines","permalink":"/user-manual/optimization/guidelines"},"next":{"title":"GPU Profiling","permalink":"/user-manual/optimization/gpu-profiling"}}');var n=i(74848),o=i(28453);const r={title:"Texture Compression"},a=void 0,l={},c=[{value:"Using Basis Texture Compression",id:"using-basis-texture-compression",level:2},{value:"Basis Limitations",id:"basis-limitations",level:2},{value:"Legacy Texture Compression",id:"legacy-texture-compression",level:2},{value:"Migrating from Legacy to Basis Texture Compression",id:"migrating-from-legacy-to-basis-texture-compression",level:2}];function u(e){const s={a:"a",h2:"h2",li:"li",ol:"ol",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.p,{children:"Texture data is stored in a device's video memory (or VRAM). It is important to ensure that your application does not exhaust VRAM as this can cause undesirable things like browser tab crashes."}),"\n",(0,n.jsx)(s.p,{children:"The Editor has the ability to apply lossy compression schemes to your textures to dramatically reduce the amount of VRAM used using Basis."}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://github.com/BinomialLLC/basis_universal",children:"Basis"})," is a 'super-compressed' texture format. It's a platform independent lossy block compression format that can be transcoded to the natively supported hardware compression format at runtime. Supported transcode formats are ASTC, DXT, ETC2, ETC, PVR and ATC (selected in that order where available)."]}),"\n",(0,n.jsx)(s.p,{children:"Consider this texture asset:"}),"\n",(0,n.jsx)("img",{loading:"lazy",src:"/img/user-manual/assets/textures/texture-compression/brick.jpg",alt:"Brick Texture",width:"256",height:"256"}),"\n",(0,n.jsx)(s.p,{children:"It's a 512x512 JPG that is 202KB in size. However, JPG is a compressed format and when passed to the graphics engine, it is expanded to an uncompressed RGB8 format that occupies 1.05MB of VRAM (including mipmap levels)."}),"\n",(0,n.jsx)(s.p,{children:"Enabling texture compression achieves the following results:"}),"\n",(0,n.jsx)("img",{loading:"lazy",src:"/img/user-manual/assets/textures/texture-compression/compression-results.png",alt:"Basis Compression results",width:"400"}),"\n",(0,n.jsx)(s.p,{children:"The compression has achieved a 6 times reduction in VRAM usage. Furthermore, in this case, compression has also reduced download size from 202KB to as little as 46KB using the Default quality setting and ETC Mode."}),"\n",(0,n.jsx)(s.p,{children:"Below is a side by side comparison of the brick texture on Mac with Chrome:"}),"\n",(0,n.jsx)("a",{href:"/img/user-manual/assets/textures/texture-compression/basis-vs-no-compression-brick.png",target:"_blank",children:(0,n.jsx)("img",{loading:"lazy",src:"/img/user-manual/assets/textures/texture-compression/basis-vs-no-compression-brick-thumb.jpg",alt:"Brick texture compression comparison"})}),"\n",(0,n.jsxs)(s.p,{children:["Here is another example of the PlayCanvas cube ",(0,n.jsx)(s.a,{href:"https://playcanv.as/p/j8rsh3eO/",children:"with Basis (ETC mode)"})," and ",(0,n.jsx)(s.a,{href:"https://playcanv.as/p/nAW3WkW8/",children:"without"})," on Mac with Chrome:"]}),"\n",(0,n.jsx)("a",{href:"/img/user-manual/assets/textures/texture-compression/basis-vs-no-compression-cube.png",target:"_blank",children:(0,n.jsx)("img",{loading:"lazy",src:"/img/user-manual/assets/textures/texture-compression/basis-vs-no-compression-cube-thumb.jpg",alt:"PlayCanvas cube compression comparison"})}),"\n",(0,n.jsx)(s.h2,{id:"using-basis-texture-compression",children:"Using Basis Texture Compression"}),"\n",(0,n.jsx)(s.p,{children:"Once the texture has been imported into the Editor, select it and scroll down in the inspector to find the Compression section."}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"Tick BASIS."}),"\n",(0,n.jsx)(s.li,{children:"Click on Import Basis to add the WASM module for the Basis runtime to the project (this only needs to be done once)."}),"\n",(0,n.jsx)(s.li,{children:"Change mode from 'ETC (smaller size, lower quality)' to 'ASTC (larger size, higher quality)' if you need to reduce compression artifacts on this texture."}),"\n",(0,n.jsx)(s.li,{children:"Tick Normals if compressing a normal map."}),"\n",(0,n.jsx)(s.li,{children:"Change the quality setting to balance file size vs quality. Lower quality results in smaller file sizes."}),"\n",(0,n.jsx)(s.li,{children:"Click on Compress Basis."}),"\n"]}),"\n",(0,n.jsx)("img",{loading:"lazy",src:"/img/user-manual/assets/textures/texture-compression/enable-basis-texture-compression.gif",alt:"Enabling Basis Texture Compression",width:"400"}),"\n",(0,n.jsxs)(s.p,{children:["The Basis WASM module will add 253KB of extra gzipped data to the preload download size but that should be offset by the texture size savings compared to using the legacy texture compression format files (",(0,n.jsx)(s.a,{href:"#legacy-texture-compression",children:"see below"}),")."]}),"\n",(0,n.jsx)(s.p,{children:"To remove Basis compression from a texture:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"Untick BASIS."}),"\n",(0,n.jsx)(s.li,{children:"Click on Compress Basis."}),"\n"]}),"\n",(0,n.jsx)("img",{loading:"lazy",src:"/img/user-manual/assets/textures/texture-compression/disable-basis-texture-compression.gif",alt:"Disabling Basis Texture Compression",width:"400"}),"\n",(0,n.jsx)(s.p,{children:"If you would no longer want to use Basis, remove Basis compression from all textures and delete the Basis folder from the project."}),"\n",(0,n.jsx)("img",{loading:"lazy",src:"/img/user-manual/assets/textures/texture-compression/delete-basis-library.png",alt:"Delete Basis Module",width:"400"}),"\n",(0,n.jsx)(s.h2,{id:"basis-limitations",children:"Basis Limitations"}),"\n",(0,n.jsx)(s.p,{children:"There are some limitations of Basis texture compression in PlayCanvas."}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"The PVR format only supports textures that have dimensions that are both square (same width and height) and power of two (e.g. 256, 512, 1024 and so on). Older iOS devices (with an A6 SoC or lower like the iPhone 5 and 5C) and older iOS versions (13.7 and lower) only support PVR. A Basis texture that is non-square or non-power of two cannot be transcoded to PVR format but will instead use a 16-bit 565 pixel format. It will still display correctly, although may occupy more VRAM."}),"\n",(0,n.jsx)(s.li,{children:"The maximum texture dimensions supported for Basis compression are 4096x4096. Textures larger than this would take an inordinate amount of time to compress so this is disabled."}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"legacy-texture-compression",children:"Legacy Texture Compression"}),"\n",(0,n.jsx)(s.p,{children:"We strongly recommend using Basis compression where possible as it requires a single texture file to cover all platforms and it is also a much smaller file compared to the legacy formats. Our tests show Basis to be ~50% smaller with minimal difference in quality."}),"\n",(0,n.jsx)(s.p,{children:"The Legacy Texture schemes are:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"DXT: Typically supported by desktop devices."}),"\n",(0,n.jsx)(s.li,{children:"PVR: Typically supported by iOS devices."}),"\n",(0,n.jsx)(s.li,{children:"ETC: Typically supported by Android devices."}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"To use the Legacy Texture Compression options, select the texture and scroll down in the inspector to find the Compression section."}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"Tick LEGACY."}),"\n",(0,n.jsx)(s.li,{children:"Tick all the formats you wish to use."}),"\n",(0,n.jsx)(s.li,{children:"Click on Compress Legacy."}),"\n"]}),"\n",(0,n.jsx)("img",{loading:"lazy",src:"/img/user-manual/assets/textures/texture-compression/enable-legacy-texture-compression.gif",alt:"Enabling Legacy Texture Compression",width:"400"}),"\n",(0,n.jsx)(s.p,{children:"To remove a or several formats:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"Untick all the formats you wish to remove."}),"\n",(0,n.jsx)(s.li,{children:"Click on Compress Legacy."}),"\n"]}),"\n",(0,n.jsx)("img",{loading:"lazy",src:"/img/user-manual/assets/textures/texture-compression/disable-legacy-texture-compression.gif",alt:"Disabling Legacy Texture Compression",width:"400"}),"\n",(0,n.jsx)(s.h2,{id:"migrating-from-legacy-to-basis-texture-compression",children:"Migrating from Legacy to Basis Texture Compression"}),"\n",(0,n.jsx)(s.p,{children:"If you have a project that is already using the Legacy Texture Compression formats and wish to use Basis, do the following:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"Remove all the legacy texture formats."}),"\n",(0,n.jsx)(s.li,{children:"Enable and use Basis."}),"\n"]}),"\n",(0,n.jsx)("img",{loading:"lazy",src:"/img/user-manual/assets/textures/texture-compression/migrate-legacy-to-basis.gif",alt:"Migrate from Legacy to Basis",width:"400"})]})}function m(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}}}]);