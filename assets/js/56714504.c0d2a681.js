"use strict";(self.webpackChunkdeveloper_playcanvas_com=self.webpackChunkdeveloper_playcanvas_com||[]).push([[41547],{22440:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"user-manual/scripting/fundamentals/esm-scripts","title":"ESM Scripts","description":"ESM Scripts use modern ES Module syntax and provide the recommended way to write PlayCanvas scripts. They offer better code organization, static imports, improved bundling, and a more familiar development experience for modern JavaScript developers.","source":"@site/docs/user-manual/scripting/fundamentals/esm-scripts.md","sourceDirName":"user-manual/scripting/fundamentals","slug":"/user-manual/scripting/fundamentals/esm-scripts","permalink":"/user-manual/scripting/fundamentals/esm-scripts","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/scripting/fundamentals/esm-scripts.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"ESM Scripts","sidebar_position":2},"sidebar":"userManualSidebar","previous":{"title":"Getting Started","permalink":"/user-manual/scripting/fundamentals/getting-started"},"next":{"title":"Script Lifecycle","permalink":"/user-manual/scripting/fundamentals/script-lifecycle"}}');var s=t(74848),i=t(28453);const a={title:"ESM Scripts",sidebar_position:2},o=void 0,l={},c=[{value:"Why Choose ESM Scripts?",id:"why-choose-esm-scripts",level:2},{value:"Creating ESM Scripts",id:"creating-esm-scripts",level:2},{value:"Module Imports and Exports",id:"module-imports-and-exports",level:2}];function d(e){const n={admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"ESM Scripts use modern ES Module syntax and provide the recommended way to write PlayCanvas scripts. They offer better code organization, static imports, improved bundling, and a more familiar development experience for modern JavaScript developers."}),"\n",(0,s.jsx)(n.h2,{id:"why-choose-esm-scripts",children:"Why Choose ESM Scripts?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Modern JavaScript:"})," Use ES6+ features like classes, arrow functions, and destructuring"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Better Tooling:"})," Enhanced IDE support with better autocomplete and error detection"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Modular Code:"})," Import and export functionality between scripts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Improved Performance:"})," Static imports enable better bundling and dead code elimination"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Future-Proof:"})," Built on web standards that continue to evolve"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"creating-esm-scripts",children:"Creating ESM Scripts"}),"\n",(0,s.jsxs)(n.p,{children:["ESM scripts must have the ",(0,s.jsx)(n.code,{children:".mjs"})," file extension:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"In the Asset Panel, create a new script"}),"\n",(0,s.jsxs)(n.li,{children:["Name it with ",(0,s.jsx)(n.code,{children:".mjs"})," extension (e.g., ",(0,s.jsx)(n.code,{children:"PlayerController.mjs"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"The editor will provide ESM boilerplate code"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"import { Script } from 'playcanvas';\n\nexport class PlayerController extends Script {\n    static scriptName = 'playerController';\n\n    initialize() {\n        // Setup code here\n    }\n\n    update(dt) {\n        // Frame update code here\n    }\n}\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Multiple Scripts Per File:"})," A single ",(0,s.jsx)(n.code,{children:".mjs"})," file can export multiple script classes, but each must be exported to be available in the editor."]})}),"\n",(0,s.jsx)(n.h2,{id:"module-imports-and-exports",children:"Module Imports and Exports"}),"\n",(0,s.jsx)(n.p,{children:"Share code between scripts using standard ES Module syntax:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// config.mjs - Shared configuration\nexport const GAME_SETTINGS = {\n    playerSpeed: 5,\n    jumpHeight: 10,\n    gravity: -9.8\n};\n\nexport function clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// PlayerController.mjs - Using shared code\nimport { Script } from 'playcanvas';\nimport { GAME_SETTINGS, clamp } from './config.mjs';\n\nexport class PlayerController extends Script {\n    static scriptName = 'playerController';\n\n    update(dt) {\n        const speed = GAME_SETTINGS.playerSpeed;\n        // Use clamp function...\n    }\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(96540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);