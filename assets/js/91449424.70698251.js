"use strict";(self.webpackChunkdeveloper_playcanvas_com=self.webpackChunkdeveloper_playcanvas_com||[]).push([[81092],{11470:(e,t,n)=>{n.d(t,{A:()=>k});var i=n(96540),s=n(34164),a=n(17559),o=n(23104),r=n(56347),l=n(205),c=n(57485),u=n(31682),h=n(70679);function d(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:t,children:n}=e;return(0,i.useMemo)(()=>{const e=t??function(e){return d(e).map(({props:{value:e,label:t,attributes:n,default:i}})=>({value:e,label:t,attributes:n,default:i}))}(n);return function(e){const t=(0,u.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function m({value:e,tabValues:t}){return t.some(t=>t.value===e)}function g({queryString:e=!1,groupId:t}){const n=(0,r.W6)(),s=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,c.aZ)(s),(0,i.useCallback)(e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})},[s,n])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,a=p(e),[o,r]=(0,i.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:a})),[c,u]=g({queryString:n,groupId:s}),[d,b]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,s]=(0,h.Dv)(t);return[n,(0,i.useCallback)(e=>{t&&s.set(e)},[t,s])]}({groupId:s}),f=(()=>{const e=c??d;return m({value:e,tabValues:a})?e:null})();(0,l.A)(()=>{f&&r(f)},[f]);return{selectedValue:o,selectValue:(0,i.useCallback)(e=>{if(!m({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);r(e),u(e),b(e)},[u,b,a]),tabValues:a}}var f=n(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=n(74848);function j({className:e,block:t,selectedValue:n,selectValue:i,tabValues:a}){const r=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),c=e=>{const t=e.currentTarget,s=r.indexOf(t),o=a[s].value;o!==n&&(l(t),i(o))},u=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=r.indexOf(e.currentTarget)+1;t=r[n]??r[0];break}case"ArrowLeft":{const n=r.indexOf(e.currentTarget)-1;t=r[n]??r[r.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},e),children:a.map(({value:e,label:t,attributes:i})=>(0,v.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{r.push(e)},onKeyDown:u,onClick:c,...i,className:(0,s.A)("tabs__item",x.tabItem,i?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function y({lazy:e,children:t,selectedValue:n}){const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===n);return e?(0,i.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:a.map((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function w(e){const t=b(e);return(0,v.jsxs)("div",{className:(0,s.A)(a.G.tabs.container,"tabs-container",x.tabList),children:[(0,v.jsx)(j,{...t,...e}),(0,v.jsx)(y,{...t,...e})]})}function k(e){const t=(0,f.A)();return(0,v.jsx)(w,{...e,children:d(e.children)},String(t))}},16840:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/screen-bfb2f2736fdea2f41fe087c43c753fce.png"},19365:(e,t,n)=>{n.d(t,{A:()=>o});n(96540);var i=n(34164);const s={tabItem:"tabItem_Ymn6"};var a=n(74848);function o({children:e,hidden:t,className:n}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,i.A)(s.tabItem,n),hidden:t,children:e})}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var i=n(96540);const s={},a=i.createContext(s);function o(e){const t=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:t},e.children)}},56283:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/hierarchy-4f30c3123565f8ead115fdd9f69c0fef.png"},82981:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"tutorials/ui-elements-buttons","title":"User Interface - Buttons","description":"Simple buttons using Element and Button components. See the full scene.","source":"@site/docs/tutorials/ui-elements-buttons.md","sourceDirName":"tutorials","slug":"/tutorials/ui-elements-buttons","permalink":"/tutorials/ui-elements-buttons","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/tutorials/ui-elements-buttons.md","tags":[{"inline":true,"label":"ui","permalink":"/tags/ui"}],"version":"current","frontMatter":{"title":"User Interface - Buttons","tags":["ui"],"thumb":"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/501973/ED1B35-image-75.jpg"},"sidebar":"tutorialsSidebar","previous":{"title":"Using the Tween library","permalink":"/tutorials/tweening"},"next":{"title":"User Interface - Leaderboard","permalink":"/tutorials/ui-elements-leaderboard"}}');var s=n(74848),a=n(28453),o=n(11470),r=n(19365);const l={title:"User Interface - Buttons",tags:["ui"],thumb:"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/501973/ED1B35-image-75.jpg"},c=void 0,u={},h=[{value:"Screen setup",id:"screen-setup",level:2},{value:"Adding a button to the UI",id:"adding-a-button-to-the-ui",level:2},{value:"Via the Hierarchy Panel",id:"via-the-hierarchy-panel",level:3},{value:"With an existing Element",id:"with-an-existing-element",level:3},{value:"Button setup",id:"button-setup",level:2},{value:"Changing how the button looks on interaction",id:"changing-how-the-button-looks-on-interaction",level:3},{value:"Tinting the color",id:"tinting-the-color",level:4},{value:"Changing the Sprite",id:"changing-the-sprite",level:4},{value:"Button events",id:"button-events",level:3}];function d(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"iframe-container",children:(0,s.jsx)("iframe",{src:"https://playcanv.as/p/jpRiV53D/",title:"User Interface - Buttons",allow:"camera; microphone; xr-spatial-tracking; fullscreen",allowfullscreen:!0})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.em,{children:["Simple buttons using Element and Button components. See the ",(0,s.jsx)(t.a,{href:"https://playcanvas.com/editor/scene/547900",children:"full scene"}),"."]})}),"\n",(0,s.jsxs)(t.p,{children:["When building a UI for your application you will almost certainly need to create buttons. This tutorial demonstrates how you can achieve that using the built-in ",(0,s.jsx)(t.a,{href:"/user-manual/user-interface/elements/",children:"Elements"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["In this ",(0,s.jsx)(t.a,{href:"https://playcanvas.com/editor/scene/547900",children:"scene"})," we have created a 2D ",(0,s.jsx)(t.a,{href:"/user-manual/user-interface/screens/",children:"Screen"})," that looks like this in the hierarchy:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Hierarchy",src:n(56283).A+"",width:"254",height:"244"})}),"\n",(0,s.jsx)(t.h2,{id:"screen-setup",children:"Screen setup"}),"\n",(0,s.jsx)(t.p,{children:"Our screen is set up like so:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Screen",src:n(16840).A+"",width:"318",height:"174"})}),"\n",(0,s.jsx)(t.p,{children:"Since it's a 2D screen we have ticked Screen Space. Our Reference Resolution is the resolution that we are targeting - in this case it's 1080 x 1920. We choose Blend for Scale Mode so that our Screen adapts to resolution changes and we set Scale Blend to 1 so that the Screen will adapt only to height changes."}),"\n",(0,s.jsx)(t.p,{children:"Our screen has various children like an Image Element for the logo that is displayed on the top, a Text Element for showing the 'SELECT QUALITY' text and 3 buttons."}),"\n",(0,s.jsx)(t.h2,{id:"adding-a-button-to-the-ui",children:"Adding a button to the UI"}),"\n",(0,s.jsx)(t.p,{children:"There are two ways to add a button to the scene."}),"\n",(0,s.jsx)(t.h3,{id:"via-the-hierarchy-panel",children:"Via the Hierarchy Panel"}),"\n",(0,s.jsx)(t.p,{children:"This is the easiest way to add a button to the scene as it creates the necessary entities, components and preconfigures the properties."}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/adding-button-via-hierarchy.gif"}),"\n",(0,s.jsx)(t.h3,{id:"with-an-existing-element",children:"With an existing Element"}),"\n",(0,s.jsx)(t.p,{children:"If there is an existing Element that we would like to turn into a button, we can add Button component to it in the Inspector panel and configure it ourselves."}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/adding-button-via-inspector.gif",width:"300"}),"\n",(0,s.jsx)(t.p,{children:"Remember to enable Use Input on the Element component so the user can interact with it:"}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/use-input-element.png",width:"300"}),"\n",(0,s.jsx)(t.p,{children:"And set the Image Entity property on the Button component to be same Entity that the Element component is on."}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/set-image-entity-button.png",width:"300"}),"\n",(0,s.jsx)(t.h2,{id:"button-setup",children:"Button setup"}),"\n",(0,s.jsx)(t.p,{children:"Let's take a closer look at the first button in the example project:"}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/button.png",width:"300"}),"\n",(0,s.jsx)(t.p,{children:"The button has 3 components:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Element component"})," - Positions the renders the button UI relative to it's parent Screen."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Button component"})," - Handles how the button looks when the user is interacting with it."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Script component"})," - Listens for events on the Button component and handles the logic on what to do when clicked."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The button Entity also has a Text Element as a child for showing text (this is optional depending on the style of your button)."}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/text-element.png",width:"300"}),"\n",(0,s.jsx)(t.p,{children:"The Element's type is Image and it's anchored to the bottom of the screen."}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/bottom-anchor-pivot.png",width:"300"}),"\n",(0,s.jsx)(t.p,{children:"After anchoring the button we give it an offset from the bottom by simply moving it up."}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/offset-position.png",width:"300"}),"\n",(0,s.jsx)(t.p,{children:"We also have Use Input enabled in order to interact with the button."}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/use-input-element.png",width:"300"}),"\n",(0,s.jsx)(t.h3,{id:"changing-how-the-button-looks-on-interaction",children:"Changing how the button looks on interaction"}),"\n",(0,s.jsx)(t.p,{children:"We can change how the button looks when the user interacts with the button for the following states:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Hover"})," - When the mouse cursor is over the button."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Pressed"})," - When the user presses on the button."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Inactive"})," - When the button is inactive."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"This can be done via two Transition Modes:"}),"\n",(0,s.jsx)(t.h4,{id:"tinting-the-color",children:"Tinting the color"}),"\n",(0,s.jsx)(t.p,{children:"Tinting the button color in each state is the easiest method to add some user feedback when they interact with it. In the project, the High Quality button has the following setup:"}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/high-quality-button-setup.png",width:"300"}),"\n",(0,s.jsx)(t.p,{children:"With the following effect:"}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/high-quality-button-effect.gif"}),"\n",(0,s.jsx)(t.h4,{id:"changing-the-sprite",children:"Changing the Sprite"}),"\n",(0,s.jsx)(t.p,{children:"We can also change the sprite image of the button in the different states for cases where you may want the button to change shape or want to give a look of the button being 'pressed' into the screen. The Low Quality button has the following setup:"}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/low-quality-button-setup.png",width:"300"}),"\n",(0,s.jsx)(t.p,{children:"With the following effect:"}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/low-quality-button-effect.gif"}),"\n",(0,s.jsx)(t.h3,{id:"button-events",children:"Button events"}),"\n",(0,s.jsx)(t.p,{children:"We have a script in the project that listens for when the user clicks on the button and updates the text in the UI to the quality setting that they've selected."}),"\n","\n",(0,s.jsxs)(o.A,{defaultValue:"classic",groupId:"script-code",children:[(0,s.jsx)(r.A,{value:"esm",label:"ESM",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"import { Script } from 'playcanvas';\n\nexport class ButtonLogic extends Script {\n    static scriptName = \"buttonLogic\";\n\n    /**\n     * The entity that we want to update when the button is clicked.\n     * \n     * @attribute\n     * @title Text Entity\n     * @type {Entity}\n     */\n    textEntity = null;\n\n    /**\n     * @attribute\n     * @title Description\n     * @type {string}\n     */\n    description = null;\n\n    initialize() {\n        this.entity.button.on('click', (event) => {\n            this.textEntity.element.text = this.description;\n        });\n    }\n}\n"})})}),(0,s.jsx)(r.A,{value:"classic",label:"Classic",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"var ButtonLogic = pc.createScript('buttonLogic');\nButtonLogic.attributes.add('textEntity', {\n    type: 'entity',\n    description: 'The entity that we want to update when the button is clicked'\n});\nButtonLogic.attributes.add('description', {type: 'string'});\n\n// initialize code called once per entity\nButtonLogic.prototype.initialize = function() {\n    this.entity.button.on('click', function(event) {\n        this.textEntity.element.text = this.description;\n    }, this);\n};\n"})})})]}),"\n",(0,s.jsx)(t.p,{children:"This script is attached to the button entities in the scene."}),"\n",(0,s.jsxs)(t.p,{children:["The Button component has a ",(0,s.jsxs)(t.a,{href:"https://api.playcanvas.com/engine/classes/ButtonComponent.html#event:click",children:[(0,s.jsx)(t.code,{children:"click"})," event"]})," against which a callback function can be registered that works for both mouse and touch input."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"this.entity.button.on('click', function(event) {\n    this.textEntity.element.text = this.description;\n}, this);\n"})}),"\n",(0,s.jsxs)(t.p,{children:["There are other events that can be listened to such as ",(0,s.jsx)(t.code,{children:"mouseenter"})," and ",(0,s.jsx)(t.code,{children:"mouseleave"}),". A full list can be found in the ",(0,s.jsx)(t.a,{href:"https://api.playcanvas.com/engine/classes/ButtonComponent.html#event:click",children:"API documentation"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"These events will only fire if Use Input is enabled on the Element component so make sure that has been ticked in the inspector."}),"\n",(0,s.jsx)("img",{loading:"lazy",src:"/img/tutorials/ui/buttons/use-input-element.png",width:"300"})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);