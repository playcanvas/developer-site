"use strict";(globalThis.webpackChunkdeveloper_playcanvas_com=globalThis.webpackChunkdeveloper_playcanvas_com||[]).push([[82139],{28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>c});var t=s(96540);const i={},a=t.createContext(i);function r(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(a.Provider,{value:n},e.children)}},58401:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"user-manual/scripting/fundamentals/engine-api","title":"Calling the Engine API","description":"When writing PlayCanvas scripts, you\'re working with the PlayCanvas Engine API. This page covers the essential classes and patterns you\'ll use most often in your scripts.","source":"@site/docs/user-manual/scripting/fundamentals/engine-api.md","sourceDirName":"user-manual/scripting/fundamentals","slug":"/user-manual/scripting/fundamentals/engine-api","permalink":"/user-manual/scripting/fundamentals/engine-api","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/scripting/fundamentals/engine-api.md","tags":[],"version":"current","frontMatter":{"title":"Calling the Engine API"},"sidebar":"userManualSidebar","previous":{"title":"ESM Reference","permalink":"/user-manual/scripting/fundamentals/script-attributes/esm"},"next":{"title":"Events","permalink":"/user-manual/scripting/fundamentals/events"}}');var i=s(74848),a=s(28453);const r={title:"Calling the Engine API"},c=void 0,l={},o=[{value:"Key Classes for Script Writers",id:"key-classes-for-script-writers",level:2},{value:"Your Script Context",id:"your-script-context",level:3},{value:"Essential Classes",id:"essential-classes",level:3},{value:"Math Classes",id:"math-classes",level:3},{value:"Common Script Patterns",id:"common-script-patterns",level:2},{value:"Finding Entities",id:"finding-entities",level:3},{value:"Working with Assets",id:"working-with-assets",level:3},{value:"Events and Communication",id:"events-and-communication",level:3},{value:"Learning More",id:"learning-more",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["When writing PlayCanvas scripts, you're working with the ",(0,i.jsx)(n.a,{href:"https://api.playcanvas.com/engine/",children:"PlayCanvas Engine API"}),". This page covers the essential classes and patterns you'll use most often in your scripts."]}),"\n",(0,i.jsx)(n.h2,{id:"key-classes-for-script-writers",children:"Key Classes for Script Writers"}),"\n",(0,i.jsx)(n.h3,{id:"your-script-context",children:"Your Script Context"}),"\n",(0,i.jsx)(n.p,{children:"Every script has access to these core objects:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"this.app        // The main application (AppBase)\nthis.entity     // The entity this script is attached to\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"important",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"this.app"})," and ",(0,i.jsx)(n.code,{children:"this.entity"})," are only valid within methods defined on your Script instance (",(0,i.jsx)(n.code,{children:"initialize"}),", ",(0,i.jsx)(n.code,{children:"update"}),", etc.). ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this",children:"Learn more"})," about JavaScript's ",(0,i.jsx)(n.code,{children:"this"})," keyword."]})}),"\n",(0,i.jsx)(n.h3,{id:"essential-classes",children:"Essential Classes"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://api.playcanvas.com/engine/classes/AppBase.html",children:(0,i.jsx)(n.code,{children:"AppBase"})})})," - Your application"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Common app operations\nthis.app.fire('game:start');\nconst player = this.app.root.findByName('Player');\nconst texture = this.app.assets.find('logo', 'texture');\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://api.playcanvas.com/engine/classes/Entity.html",children:(0,i.jsx)(n.code,{children:"Entity"})})})," - Objects in your scene"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Common entity operations\nthis.entity.setPosition(0, 5, 0);\nthis.entity.rotate(0, 90, 0);\nconst child = this.entity.findByName('Weapon');\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://api.playcanvas.com/engine/classes/Component.html",children:(0,i.jsx)(n.code,{children:"Component"})})})," - Add functionality to entities"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Accessing components\nconst camera = this.entity.camera;\nconst light = this.entity.light;\nconst rigidbody = this.entity.rigidbody;\nconst sound = this.entity.sound;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"math-classes",children:"Math Classes"}),"\n",(0,i.jsx)(n.p,{children:"Import these for calculations and transformations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"import { Vec3, Quat, Color } from 'playcanvas';\n\nconst position = new Vec3(0, 5, 0);\nconst rotation = new Quat();\nconst red = new Color(1, 0, 0);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"common-script-patterns",children:"Common Script Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"finding-entities",children:"Finding Entities"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// By name (searches entire hierarchy)\nconst player = this.app.root.findByName('Player');\n\n// By tag (returns array)\nconst enemies = this.app.root.findByTag('enemy');\n\n// Relative to current entity\nconst weapon = this.entity.findByPath('Arms/RightHand/Weapon');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"working-with-assets",children:"Working with Assets"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Find and load assets\nconst sound = this.app.assets.find('explosion', 'audio');\nsound.ready(() => {\n    this.entity.sound.play('explosion');\n});\nthis.app.assets.load(sound);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"events-and-communication",children:"Events and Communication"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Fire application events\nthis.app.fire('player:died', this.entity);\n\n// Listen for events\nthis.app.on('game:start', this.onGameStart, this);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"learning-more",children:"Learning More"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://api.playcanvas.com/engine/",children:"Full Engine API Reference"})})," - Complete documentation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/user-manual/engine/",children:"Engine Guide"})})," - In-depth guide to the PlayCanvas Engine runtime"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/user-manual/scripting/fundamentals/script-lifecycle",children:"Script Lifecycle"})})," - When your script methods are called"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/user-manual/scripting/fundamentals/events",children:"Events"})})," - Script communication patterns"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"IDE Support:"})," Use the ",(0,i.jsx)(n.a,{href:"/user-manual/scripting/editor-users/vscode-extension",children:"VS Code Extension"})," for autocomplete and inline documentation while writing scripts."]})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);