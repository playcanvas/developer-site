"use strict";(globalThis.webpackChunkdeveloper_playcanvas_com=globalThis.webpackChunkdeveloper_playcanvas_com||[]).push([[25032],{28453:(e,i,s)=>{s.d(i,{R:()=>a,x:()=>l});var n=s(96540);const t={},r=n.createContext(t);function a(e){const i=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(r.Provider,{value:i},e.children)}},81316:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"user-manual/optimization/mini-stats","title":"MiniStats","description":"MiniStats is a lightweight graphical overlay that displays real-time performance metrics for your PlayCanvas application. It provides essential statistics including draw call count, frame time, CPU load, and GPU load, helping you identify performance bottlenecks during development.","source":"@site/docs/user-manual/optimization/mini-stats.md","sourceDirName":"user-manual/optimization","slug":"/user-manual/optimization/mini-stats","permalink":"/user-manual/optimization/mini-stats","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/optimization/mini-stats.md","tags":[],"version":"current","frontMatter":{"title":"MiniStats"},"sidebar":"userManualSidebar","previous":{"title":"Profiler","permalink":"/user-manual/optimization/profiler"},"next":{"title":"Device Pixel Ratio","permalink":"/user-manual/optimization/runtime-devicepixelratio"}}');var t=s(74848),r=s(28453);const a={title:"MiniStats"},l=void 0,d={},o=[{value:"Enabling MiniStats",id:"enabling-ministats",level:2},{value:"Display Sizes",id:"display-sizes",level:2},{value:"Basic Statistics",id:"basic-statistics",level:2},{value:"Detailed Timing Mode",id:"detailed-timing-mode",level:2},{value:"CPU Sub-Timings",id:"cpu-sub-timings",level:3},{value:"GPU Pass Timings",id:"gpu-pass-timings",level:3},{value:"GPU Timing Requirements",id:"gpu-timing-requirements",level:2},{value:"Using MiniStats Outside of the Editor",id:"using-ministats-outside-of-the-editor",level:2},{value:"See It In Action",id:"see-it-in-action",level:2}];function c(e){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:"MiniStats is a lightweight graphical overlay that displays real-time performance metrics for your PlayCanvas application. It provides essential statistics including draw call count, frame time, CPU load, and GPU load, helping you identify performance bottlenecks during development."}),"\n",(0,t.jsx)(i.h2,{id:"enabling-ministats",children:"Enabling MiniStats"}),"\n",(0,t.jsx)(i.p,{children:"Editor users can enable the MiniStats panel via the Launch button menu:"}),"\n",(0,t.jsx)("img",{loading:"lazy",alt:"Launch Menu",width:"600",src:"/img/user-manual/optimization/mini-stats/launch-menu-mini-stats.png"}),"\n",(0,t.jsx)(i.h2,{id:"display-sizes",children:"Display Sizes"}),"\n",(0,t.jsx)(i.p,{children:"Clicking on the MiniStats overlay cycles through three display sizes: small (compact numeric values), medium, and large. The medium and large sizes add graphical timelines and detailed sub-timing breakdowns for both CPU and GPU."}),"\n",(0,t.jsx)("img",{loading:"lazy",alt:"Mini Stats",width:"411",src:"/img/user-manual/optimization/mini-stats/mini-stats.gif"}),"\n",(0,t.jsx)(i.h2,{id:"basic-statistics",children:"Basic Statistics"}),"\n",(0,t.jsx)(i.p,{children:"The following metrics are always displayed:"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Metric"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"DrawCalls"})}),(0,t.jsx)(i.td,{children:"The number of draw calls dispatched each frame. Each draw call has overhead on both CPU and GPU, so minimizing this number improves performance."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"Frame"})}),(0,t.jsx)(i.td,{children:"Total time in milliseconds for the browser to process each frame. Target 16.67ms for 60 FPS or 33.33ms for 30 FPS."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"GPU"})}),(0,t.jsxs)(i.td,{children:["Time in milliseconds for the GPU to render each frame. See ",(0,t.jsx)(i.a,{href:"#gpu-timing-requirements",children:"GPU Timing Requirements"})," below."]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"CPU"})}),(0,t.jsx)(i.td,{children:"Time in milliseconds for CPU-side frame processing, split into update (red) and render (green) portions."})]})]})]}),"\n",(0,t.jsx)(i.h2,{id:"detailed-timing-mode",children:"Detailed Timing Mode"}),"\n",(0,t.jsx)(i.p,{children:"When using medium or large display sizes, MiniStats shows additional timing breakdowns for both CPU and GPU that help identify specific performance bottlenecks."}),"\n",(0,t.jsx)(i.h3,{id:"cpu-sub-timings",children:"CPU Sub-Timings"}),"\n",(0,t.jsx)(i.p,{children:"In detailed mode, the CPU graph expands to show individual timing components:"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Stat"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"scriptUpdate"})}),(0,t.jsxs)(i.td,{children:["Time spent executing script ",(0,t.jsx)(i.code,{children:"update"})," methods"]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"scriptPostUpdate"})}),(0,t.jsxs)(i.td,{children:["Time spent executing script ",(0,t.jsx)(i.code,{children:"postUpdate"})," methods"]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"render"})}),(0,t.jsx)(i.td,{children:"CPU time spent preparing rendering commands and managing GPU resources"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"physics"})}),(0,t.jsx)(i.td,{children:"Time spent in physics simulation"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"anim"})}),(0,t.jsx)(i.td,{children:"Time spent updating the animation system"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"gsplatSort"})}),(0,t.jsx)(i.td,{children:"Time spent sorting Gaussian splats for rendering. This runs in a Web Worker thread and is non-blocking, so it does not impact main thread performance."})]})]})]}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsxs)(i.p,{children:["Some CPU stats only appear once they have non-zero values. For example, ",(0,t.jsx)(i.code,{children:"physics"})," only appears if your scene uses physics simulation."]})}),"\n",(0,t.jsx)(i.h3,{id:"gpu-pass-timings",children:"GPU Pass Timings"}),"\n",(0,t.jsx)(i.p,{children:"In detailed mode, individual GPU render pass and compute pass timings are displayed, showing how long each stage takes. Passes with the same name are aggregated into a single timing value. Common passes include:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Forward"})," - Main scene rendering"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Downsample"})," - Post-processing downsampling stages"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Upsample"})," - Post-processing upsampling stages"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Compose"})," - Final frame composition"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Compute"})," passes - GPU compute shader dispatches"]}),"\n"]}),"\n",(0,t.jsxs)(i.admonition,{title:"WebGPU Only",type:"important",children:[(0,t.jsxs)(i.p,{children:["Detailed GPU pass timing is only available when using the ",(0,t.jsx)(i.strong,{children:"WebGPU"})," graphics backend."]}),(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"WebGL2 does not support detailed GPU profiling"})," - only the overall GPU frame time is shown. This limitation exists because WebGL's timer query extension only supports measuring elapsed time for the entire frame. Browser security restrictions (Spectre mitigations) prevent the fine-grained timestamp queries needed for per-pass measurements."]})]}),"\n",(0,t.jsx)(i.h2,{id:"gpu-timing-requirements",children:"GPU Timing Requirements"}),"\n",(0,t.jsx)(i.p,{children:"GPU timing requires specific browser/API support:"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Backend"}),(0,t.jsx)(i.th,{children:"Requirement"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"WebGL 2"})}),(0,t.jsxs)(i.td,{children:["The ",(0,t.jsx)(i.a,{href:"https://web3dsurvey.com/webgl2/extensions/EXT_disjoint_timer_query_webgl2",children:(0,t.jsx)(i.code,{children:"EXT_disjoint_timer_query_webgl2"})})," extension must be supported. Check ",(0,t.jsx)(i.a,{href:"https://webglreport.com/?v=2",children:"WebGL Report"})," to verify browser support."]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.strong,{children:"WebGPU"})}),(0,t.jsxs)(i.td,{children:["The ",(0,t.jsx)(i.a,{href:"https://web3dsurvey.com/webgpu/features/timestamp-query",children:(0,t.jsx)(i.code,{children:"timestamp-query"})})," adapter feature must be available. This is enabled automatically when supported."]})]})]})]}),"\n",(0,t.jsx)(i.h2,{id:"using-ministats-outside-of-the-editor",children:"Using MiniStats Outside of the Editor"}),"\n",(0,t.jsx)(i.p,{children:"While the MiniStats panel is incorporated into the Editor's Launch page, you can also use it independently. To add MiniStats to your application:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"const miniStats = new pc.MiniStats(app);\n"})}),"\n",(0,t.jsx)(i.p,{children:"You can customize the display with options:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"const miniStats = new pc.MiniStats(app, {\n    startSizeIndex: 1,  // Start with medium size\n    cpu: {\n        enabled: true,\n        watermark: 33   // Show 33ms budget line\n    },\n    gpu: {\n        enabled: true,\n        watermark: 33\n    }\n});\n"})}),"\n",(0,t.jsxs)(i.p,{children:["For the complete API, refer to the ",(0,t.jsx)(i.a,{href:"https://api.playcanvas.com/engine/classes/MiniStats.html",children:"MiniStats API reference"}),". See the ",(0,t.jsx)(i.a,{href:"https://playcanvas.github.io/#/misc/mini-stats",children:"MiniStats example"})," for a demonstration of customization options."]}),"\n",(0,t.jsx)(i.h2,{id:"see-it-in-action",children:"See It In Action"}),"\n",(0,t.jsxs)(i.p,{children:["Visit the ",(0,t.jsx)(i.a,{href:"https://playcanvas.github.io/",children:"Engine Examples Browser"})," to see MiniStats in action. Try clicking on the overlay to cycle through the different display sizes and observe the detailed timing breakdowns."]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);