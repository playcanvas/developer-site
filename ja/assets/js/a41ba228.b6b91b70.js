"use strict";(globalThis.webpackChunkdeveloper_playcanvas_com=globalThis.webpackChunkdeveloper_playcanvas_com||[]).push([[19786],{6181:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>U,contentTitle:()=>z,default:()=>Z,frontMatter:()=>_,metadata:()=>s,toc:()=>q});const s=JSON.parse('{"id":"user-manual/playcanvas-react/building-a-scene","title":"Building a Scene","description":"This guide will walk you through the process of setting up a new @playcanvas/react project and creating a simple 3D scene. By the end of this guide, you\'ll have a basic understanding of the core concepts of PlayCanvas React.","source":"@site/docs/user-manual/playcanvas-react/building-a-scene.mdx","sourceDirName":"user-manual/playcanvas-react","slug":"/user-manual/playcanvas-react/building-a-scene","permalink":"/ja/user-manual/playcanvas-react/building-a-scene","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/playcanvas-react/building-a-scene.mdx","tags":[],"version":"current","frontMatter":{"title":"Building a Scene"},"sidebar":"userManualSidebar","previous":{"title":"Installation","permalink":"/ja/user-manual/playcanvas-react/getting-started/installation"},"next":{"title":"Concepts","permalink":"/ja/user-manual/playcanvas-react/guide/"}}');var a=t(74848),i=t(28453),o=(t(11470),t(19365),t(96540),t(65195));const r={tableOfContentsInline:"tableOfContentsInline_prmo"};function l({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return(0,a.jsx)("div",{className:r.tableOfContentsInline,children:(0,a.jsx)(o.A,{toc:e,minHeadingLevel:n,maxHeadingLevel:t,className:"table-of-contents",linkClassName:null})})}var c=t(78264),d=t(18676),h=t(83395),p=t(43025),m=t(58817),u=t(16230),g=t(7306),x=t(68869),v=t(40050),y=t(49801),j=t(85593),f=t(24421);const w=({zoomRange:e=[1,10],pitchRange:n=[-90,-5],...t})=>(0,a.jsx)(h.e,{script:x.a,enableFly:!1,zoomRange:new v.Z(e[0],e[1]),pitchRange:new v.Z(n[0],n[1]),...t}),b=()=>{const{asset:e}=(0,g.yj)("/assets/environment.png"),{asset:n}=(0,g.fn)("/assets/lambo.glb");return n&&e?(0,a.jsxs)(d.w,{children:[(0,a.jsx)(p.O,{envAtlas:e,showSkybox:!1}),(0,a.jsx)(y.A,{}),(0,a.jsx)(f.A,{width:5,depth:5}),(0,a.jsxs)(d.w,{name:"camera",position:[4,1,4],children:[(0,a.jsx)(m.i,{clearColor:"#090707",fov:28,renderSceneColorMap:!0}),(0,a.jsx)(w,{inertiaFactor:.07,zoomRange:[6,10],pitchRange:[-90,-5]}),(0,a.jsx)(j.A,{})]}),(0,a.jsx)(d.w,{children:(0,a.jsx)(u.d,{type:"asset",asset:n})})]}):null},A=()=>(0,a.jsx)("div",{className:"example",children:(0,a.jsx)(c.l,{children:(0,a.jsx)(b,{})})});var C=t(7184);const S=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(d.w,{name:"box",children:(0,a.jsx)(u.d,{type:"box"})})}),E=()=>(0,a.jsxs)(c.l,{children:[(0,a.jsx)(d.w,{name:"camera",position:[0,0,5],children:(0,a.jsx)(m.i,{})}),(0,a.jsx)(S,{})]}),L="import { Application, Entity } from '@playcanvas/react'\nimport { Render, Camera } from '@playcanvas/react/components'\n\nconst Scene = () => {\n  return (<>\n    <Entity name='box'>\n      <Render type='box'/>\n    </Entity>\n  </>)\n}\n\nexport const App = () => (\n  <Application>\n    <Entity name='camera' position={[0, 0, 5]}>\n      <Camera />\n    </Entity>\n    <Scene />\n  </Application>\n)\n";var k=t(19748);const R=()=>{const{asset:e}=(0,g.yj)("/assets/environment.png");return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.O,{envAtlas:e,showSkybox:!1}),(0,a.jsx)(d.w,{name:"directional-light",position:[0,.001,0],children:(0,a.jsx)(k.v,{type:"directional",color:"orange"})}),(0,a.jsx)(u.d,{type:"box"})]}):null},H=()=>(0,a.jsxs)(c.l,{children:[(0,a.jsx)(d.w,{position:[0,0,5],children:(0,a.jsx)(m.i,{clearColor:"#090707",fov:28})}),(0,a.jsx)(R,{})]}),D="import { Application, Entity } from '@playcanvas/react'\nimport { Render, Camera, Light, Environment } from '@playcanvas/react/components'\nimport { useEnvAtlas } from '@playcanvas/react/hooks'\n\nconst Scene = () => {\n  // load the assets\n  const { asset: envAtlas } = useEnvAtlas('/assets/environment.png');\n\n  // if the asset hasn't loaded, don't render anything\n  if (!envAtlas) return null;\n\n  return (<>\n    <Environment envAtlas={envAtlas} showSkybox={false} />\n    <Entity name='directional-light' position={[0, .001, 0]}>\n      <Light type='directional' color=\"orange\" />\n    </Entity>\n    <Render type='box'/>\n  </>)\n}\n\nexport const App = () => (\n  <Application>\n    <Entity position={[0, 0, 5]}>\n      <Camera clearColor=\"#090707\" fov={28} />\n    </Entity>\n    <Scene />\n  </Application>\n)\n",N=()=>{const{asset:e}=(0,g.yj)("/assets/environment.png");return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.O,{envAtlas:e}),(0,a.jsx)(d.w,{name:"directional-light",position:[0,.001,0],children:(0,a.jsx)(k.v,{type:"directional"})}),(0,a.jsx)(u.d,{type:"box"})]}):null},M=()=>(0,a.jsxs)(c.l,{children:[(0,a.jsxs)(d.w,{name:"camera",position:[4,1,4],children:[(0,a.jsx)(m.i,{clearColor:"#090707",fov:28}),"// highlight-next-line",(0,a.jsx)(h.e,{script:x.a})]}),(0,a.jsx)(N,{})]}),T="import { Application, Entity } from '@playcanvas/react'\nimport { Render, Camera, Light, Environment } from '@playcanvas/react/components'\nimport { useEnvAtlas } from '@playcanvas/react/hooks'\nimport { Script } from '@playcanvas/react/components'\nimport { CameraControls } from 'playcanvas/scripts/esm/camera-controls.mjs'\n\nconst Scene = () => {\n  // load the assets\n  const { asset: envAtlas } = useEnvAtlas('/assets/environment.png');\n\n  // if the asset hasn't loaded, don't render anything\n  if (!envAtlas) return null;\n\n  return (<>\n    <Environment envAtlas={envAtlas} />\n    <Entity name='directional-light' position={[0, .001, 0]}>\n      <Light type='directional' />\n    </Entity>\n    <Render type='box'/>\n  </>)\n}\n\nexport const App = () => (\n  <Application>\n    <Entity name='camera' position={[4, 1, 4]}>\n      <Camera clearColor='#090707' fov={28} />\n      // highlight-next-line\n      <Script script={CameraControls}/>\n    </Entity>\n    <Scene />\n  </Application>\n)\n",I=()=>{const{asset:e}=(0,g.yj)("/assets/environment.png"),{asset:n}=(0,g.fn)("/assets/lambo.glb");return n&&e?(0,a.jsxs)(a.Fragment,{children:["// highlight-next-line",(0,a.jsx)(u.d,{type:"asset",asset:n}),(0,a.jsx)(d.w,{name:"directional-light",position:[0,.001,0],children:(0,a.jsx)(k.v,{type:"directional"})}),(0,a.jsx)(p.O,{envAtlas:e,showSkybox:!1})]}):null},O=()=>(0,a.jsxs)(c.l,{children:[(0,a.jsxs)(d.w,{name:"camera",position:[4,1,4],children:[(0,a.jsx)(m.i,{clearColor:"#090707",fov:28}),(0,a.jsx)(h.e,{script:x.a})]}),(0,a.jsx)(I,{})]}),F="import { Application, Entity } from '@playcanvas/react'\nimport { CameraControls } from 'playcanvas/scripts/esm/camera-controls.mjs'\nimport { Render, Environment, Script, Light, Camera } from '@playcanvas/react/components'\nimport { useModel, useEnvAtlas } from '@playcanvas/react/hooks'\n\nconst Scene = () => {\n  // load the assets\n  const { asset: envAtlas } = useEnvAtlas('/assets/environment.png');\n  // highlight-next-line\n  const { asset: lambo } = useModel('/assets/lambo.glb');\n\n  // if the assets haven't loaded, don't render anything\n  if (!lambo || !envAtlas) return null;\n\n  return <>\n    // highlight-next-line\n    <Render type='asset' asset={lambo} />\n    <Entity name='directional-light' position={[0, .001, 0]}>\n      <Light type='directional' />\n    </Entity>\n    <Environment envAtlas={envAtlas} showSkybox={false}/>\n  </>\n}\n\nexport const App = () => (\n  <Application>\n    <Entity name='camera' position={[4, 1, 4]}>\n      <Camera clearColor='#090707' fov={28} />\n      <Script script={CameraControls}/>\n    </Entity>\n    <Scene />\n  </Application>\n)\n";var W=t(8939),B=t(78692);const G=()=>{const{asset:e}=(0,g.yj)("/assets/environment.png"),{asset:n}=(0,g.fn)("/assets/lambo.glb");return n&&e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.O,{envAtlas:e,showSkybox:!1}),(0,a.jsx)(d.w,{name:"directional-light",position:[0,.001,0],children:(0,a.jsx)(k.v,{type:"directional"})}),(0,a.jsx)(u.d,{type:"asset",asset:n})]}):null},P=()=>(0,a.jsxs)(c.l,{children:["// highlight-start",(0,a.jsx)(h.e,{script:W.X}),(0,a.jsx)(d.w,{name:"grid",scale:[1e3,1,1e3],children:(0,a.jsx)(h.e,{script:B.x})}),"// highlight-end",(0,a.jsxs)(d.w,{name:"camera",position:[4,1,4],children:[(0,a.jsx)(m.i,{clearColor:"#090707",fov:28}),(0,a.jsx)(h.e,{script:x.a,enableFly:!1})]}),(0,a.jsx)(G,{})]}),Y="import { Application, Entity } from '@playcanvas/react'\nimport { Environment, Light, Render, Camera } from '@playcanvas/react/components'\nimport { useEnvAtlas, useModel } from '@playcanvas/react/hooks'\nimport { CameraControls } from 'playcanvas/scripts/esm/camera-controls.mjs'\n\n// \u2191 previous imports\nimport { Script } from '@playcanvas/react/components'\nimport { ShadowCatcher as ShadowCatcherScript } from 'playcanvas/scripts/esm/shadow-catcher.mjs'\nimport { Grid as GridScript } from 'playcanvas/scripts/esm/grid.mjs'\n\nconst Scene = () => {\n  // load the assets\n  const { asset: envAtlas } = useEnvAtlas('/assets/environment.png');\n  const { asset: lambo } = useModel('/assets/lambo.glb');\n\n  // if the assets haven't loaded, don't render anything\n  if (!lambo || !envAtlas) return null;\n\n  return <>\n    <Environment envAtlas={envAtlas} showSkybox={false} />\n    <Entity name='directional-light' position={[0, .001, 0]}>\n      <Light type='directional' />\n    </Entity>\n    <Render type='asset' asset={lambo} />\n  </>\n}\n\nexport const App = () => (\n  <Application>\n    // highlight-start\n    <Script script={ShadowCatcherScript}/>\n    <Entity name='grid' scale={[1000, 1, 1000]}>\n      <Script script={GridScript} />\n    </Entity>\n    // highlight-end\n    <Entity name='camera' position={[4, 1, 4]}>\n      <Camera clearColor='#090707' fov={28} />\n      <Script script={CameraControls} enableFly={false} />\n    </Entity>\n    <Scene />\n  </Application>\n)\n",_={title:"Building a Scene"},z=void 0,U={},q=[{value:"Your first scene",id:"your-first-scene",level:2},{value:"What&#39;s happening here?",id:"whats-happening-here",level:3},{value:"Adding lights",id:"adding-lights",level:2},{value:"Loading assets",id:"loading-assets",level:3},{value:"Adding components",id:"adding-components",level:3},{value:"Adding interactivity",id:"adding-interactivity",level:2},{value:"Using the <code>Script</code> component",id:"using-the-script-component",level:3},{value:"Adding 3D models",id:"adding-3d-models",level:2},{value:"Staging the scene",id:"staging-the-scene",level:2},{value:"Live example",id:"live-example",level:2},{value:"Your next steps",id:"your-next-steps",level:2}];function X(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["This guide will walk you through the process of setting up a new ",(0,a.jsx)(n.code,{children:"@playcanvas/react"})," project and creating a simple 3D scene. By the end of this guide, you'll have a basic understanding of the core concepts of PlayCanvas React."]}),"\n",(0,a.jsx)(n.p,{children:"At the end you'll have something like the following."}),"\n",(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)(A,{}),(0,a.jsxs)("div",{style:{textAlign:"center",position:"absolute",bottom:0,right:0,margin:"1rem 2rem",fontSize:"0.9rem"},children:["An interactive 3D scene built with ",(0,a.jsx)("b",{children:"@playcanvas/react"}),"."]})]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["This guide assumes you have some familiarity with React. If you're new to React, it's worth taking a look at the ",(0,a.jsx)(n.a,{href:"https://react.dev/learn",children:"React documentation"})," to get up to speed."]})}),"\n",(0,a.jsx)(n.p,{children:"We'll build the scene step by step, and you'll see the code and live examples at each step."}),"\n",(0,a.jsx)(l,{toc:q,minHeadingLevel:2,maxHeadingLevel:4}),"\n",(0,a.jsx)(n.h2,{id:"your-first-scene",children:"Your first scene"}),"\n",(0,a.jsxs)(n.p,{children:["If you've not already done so, ",(0,a.jsxs)(n.strong,{children:["follow the ",(0,a.jsx)(n.a,{href:"../getting-started/installation",children:"Installation Guide"})]}),", and\ncreate a new PlayCanvas React project."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm create playcanvas@latest my-first-3d-app -t react-ts\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Before we get to anything more complex, let's create a simple example that displays a box. Any PlayCanvas scene starts with an ",(0,a.jsx)(n.strong,{children:"Application"}),", a ",(0,a.jsx)(n.strong,{children:"Scene"})," and a ",(0,a.jsx)(n.strong,{children:"Camera"})," so we can see something."]}),"\n",(0,a.jsxs)(n.p,{children:["In your ",(0,a.jsx)(n.code,{children:"/src/App.jsx"})," file, you can delete everything and replace it with the following code."]}),"\n",(0,a.jsx)(C.G,{label:"Rendering a simple box",filename:"/src/App.jsx",code:L,children:(0,a.jsx)(E,{})}),"\n",(0,a.jsx)(n.p,{children:"When you run this or click the Demo tab, you'll see a square in the center of the screen."}),"\n",(0,a.jsx)(n.h3,{id:"whats-happening-here",children:"What's happening here?"}),"\n",(0,a.jsxs)(n.p,{children:["We've created a PlayCanvas ",(0,a.jsx)(n.code,{children:"Application"})," and a separate ",(0,a.jsx)(n.code,{children:"Scene"})," that contains an ",(0,a.jsx)(n.code,{children:"Entity"})," with a ",(0,a.jsx)(n.code,{children:"Render"})," component. The ",(0,a.jsx)(n.code,{children:"Application"})," is the root of every PlayCanvas application. It sets up an HTML ",(0,a.jsx)(n.code,{children:"canvas"})," element and defines a rendering context."]}),"\n",(0,a.jsxs)(n.p,{children:["We've abstracted out a ",(0,a.jsx)(n.code,{children:"Scene"})," that contains everything we want to render. It's not strictly necessary, but it's a clean and logical way to organize your code. Inside the ",(0,a.jsx)(n.code,{children:"Scene"}),", we've added an ",(0,a.jsx)(n.code,{children:"Entity"})," component with a ",(0,a.jsx)(n.code,{children:"Render"})," component. The ",(0,a.jsx)(n.code,{children:"Entity"})," component is simply a container. It can be positioned, rotated and scaled, but on its own, it doesn't do anything. The ",(0,a.jsx)(n.code,{children:"Render"})," component gives the ",(0,a.jsx)(n.code,{children:"Entity"})," the ability to render 3D assets."]}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["PlayCanvas uses an ",(0,a.jsx)(n.strong,{children:"ECS architecture"}),". You add ",(0,a.jsx)(n.strong,{children:"'components'"})," to an ",(0,a.jsx)(n.code,{children:"Entity"})," to give it functionality."]})}),"\n",(0,a.jsxs)(n.p,{children:["Finally we've added a ",(0,a.jsx)(n.code,{children:"Camera"})," component to the ",(0,a.jsx)(n.code,{children:"Entity"}),". When you attach a ",(0,a.jsx)(n.code,{children:"Camera"})," component to an ",(0,a.jsx)(n.code,{children:"Entity"}),", it will render the scene from that entity's position down the entity's negative Z axis. We've set the camera's position to ",(0,a.jsx)(n.code,{children:"[0, 0, 5]"})," so that it's a bit away from the box. If you play with those values, you'll see how it changes the rendered scene."]}),"\n",(0,a.jsx)(n.h2,{id:"adding-lights",children:"Adding lights"}),"\n",(0,a.jsxs)(n.p,{children:["This is a great start, but we don't have any lights in the scene. You can add lighting to the scene by either adding an ",(0,a.jsx)(n.code,{children:"Environment"})," or ",(0,a.jsx)(n.code,{children:"Light"})," component. There are various types of lights in PlayCanvas, so check the ",(0,a.jsx)(n.a,{href:"/user-manual/graphics/lighting/lights",children:"docs"})," for a broader overview. For now, we'll use environmental lighting (which provides a more naturally lit scene) and a simple directional light which we'll use later to help ground the scene."]}),"\n",(0,a.jsx)(C.G,{label:"Adding lights to the scene",filename:"/src/App.jsx",code:D,showDemo:!0,children:(0,a.jsx)(H,{})}),"\n",(0,a.jsx)(n.p,{children:"If you run this or click the Demo tab, you'll see the box with a bit of lighting. There are a few new concepts here, so let's break them down."}),"\n",(0,a.jsx)(n.h3,{id:"loading-assets",children:"Loading assets"}),"\n",(0,a.jsxs)(n.p,{children:["We've loaded an environment atlas using the ",(0,a.jsx)(n.code,{children:"useEnvAtlas"})," hook. This is a hook that allows us to load an environment atlas from a URL which we pass to the ",(0,a.jsx)(n.code,{children:"Environment"})," component. The library provides a number of powerful hooks for loading different types of assets that let you manage loading states and errors."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"../guide/loading-assets",children:"Learn more"})," about loading assets."]}),"\n",(0,a.jsx)(n.h3,{id:"adding-components",children:"Adding components"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"Environment"})," - This component adds environmental lighting to the scene."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"Light"})," - This component adds a light to the scene."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"Render"})," - This component renders the box."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["We do this by loading an environment atlas and passing it to the ",(0,a.jsx)(n.code,{children:"Environment"})," component, and adding a ",(0,a.jsx)(n.code,{children:"Light"})," component."]}),"\n",(0,a.jsx)(n.h2,{id:"adding-interactivity",children:"Adding interactivity"}),"\n",(0,a.jsxs)(n.p,{children:["Ok, so we have some lighting. Let's add some interactivity by adding a ",(0,a.jsx)(n.code,{children:"Script"})," component so you can rotate the cube with the mouse. We'll use the ",(0,a.jsx)(n.code,{children:"CameraControls"})," script to allow the camera to be rotated with the mouse. We've also added a ",(0,a.jsx)(n.code,{children:"Camera"})," component to the ",(0,a.jsx)(n.code,{children:"Entity"})," to set the clear color and field of view."]}),"\n",(0,a.jsx)(C.G,{label:"Adding interactivity to the scene",filename:"/src/App.jsx",code:T,showDemo:!0,children:(0,a.jsx)(M,{})}),"\n",(0,a.jsxs)(n.p,{children:["There are a number of ways to add interactivity to your scene. You can attach event listeners directly to entities, or use the ",(0,a.jsx)(n.code,{children:"Script"})," component to add custom behavior."]}),"\n",(0,a.jsxs)(n.h3,{id:"using-the-script-component",children:["Using the ",(0,a.jsx)(n.code,{children:"Script"})," component"]}),"\n",(0,a.jsxs)(n.p,{children:["In the above example, we're using the ",(0,a.jsx)(n.code,{children:"Script"})," component together with the ",(0,a.jsx)(n.code,{children:"CameraControls"})," script. A ",(0,a.jsx)(n.code,{children:"Script"})," component is a handy way to attach custom behavior to an ",(0,a.jsx)(n.code,{children:"Entity"}),". It hooks into the engine's update loop and allows you to run code on every frame outside the React render loop. This is great for interactivity where you want to respond to user input for example, or do animations."]}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["Using a ",(0,a.jsx)(n.code,{children:"<Script>"})," component is more performant than re-rendering the React tree. However, a Script can override Entity props, so it's important to be aware of this."]})}),"\n",(0,a.jsxs)(n.p,{children:["Now when you run it, you should be able to rotate the cube with the mouse. You can learn more in the ",(0,a.jsx)(n.a,{href:"/user-manual/scripting/",children:"Scripting section"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"adding-3d-models",children:"Adding 3D models"}),"\n",(0,a.jsxs)(n.p,{children:["Ok, so we have a camera and a rotating box. Let's make it more interesting by adding a 3D model to the scene. You can use any 3D model format that PlayCanvas supports. ",(0,a.jsx)(n.a,{href:"https://www.fab.com/",children:"Fab"})," is a great resource for free 3D models."]}),"\n",(0,a.jsx)(C.G,{label:"Adding a 3D model to the scene",filename:"/src/App.jsx",code:F,showDemo:!0,children:(0,a.jsx)(O,{})}),"\n",(0,a.jsxs)(n.p,{children:["You should now see the Lamborghini model in the scene. We've removed the box primitive by switching the ",(0,a.jsx)(n.code,{children:"Render"})," to render assets. The asset is loaded using the ",(0,a.jsx)(n.code,{children:"useModel"})," hook which is passed directly to the ",(0,a.jsx)(n.code,{children:"Render"})," component. While the asset loads, we're returning ",(0,a.jsx)(n.code,{children:"null"})," so nothing is rendered until the asset is loaded. You could optionally use a loading spinner here instead. Check out the ",(0,a.jsx)(n.a,{href:"../guide/loading-assets",children:"loading assets guide"})," to learn more about loading assets."]}),"\n",(0,a.jsx)(n.h2,{id:"staging-the-scene",children:"Staging the scene"}),"\n",(0,a.jsxs)(n.p,{children:["We've now got a basic 3D scene with a camera, a rotating model, and some environment lighting. Let's add a ground plane and some shadows to stage the scene a little better. We can use the ",(0,a.jsx)(n.code,{children:"ShadowCatcher"})," and ",(0,a.jsx)(n.code,{children:"Grid"})," components to help with this."]}),"\n",(0,a.jsx)(C.G,{label:"Staging the scene",filename:"/src/App.jsx",code:Y,showDemo:!0,children:(0,a.jsx)(P,{})}),"\n",(0,a.jsx)(n.h2,{id:"live-example",children:"Live example"}),"\n",(0,a.jsxs)(n.p,{children:["We now have a complete 3D scene with a camera, a rotating model, and some environment lighting. You can now start adding your own assets and creating your own scenes. Check out the ",(0,a.jsx)(n.a,{href:"../guide/loading-assets",children:"loading assets guide"})," to learn how to load your own assets and add interactivity with scripts."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",metastring:'title="src/App.jsx" live noInline',live:!0,children:"const Scene = () => {\n  // load the assets\n  const { asset: envAtlas } = useEnvAtlas('/assets/environment.png');\n  const { asset: lambo } = useModel('/assets/lambo.glb');\n\n  // if the assets haven't loaded, don't render anything\n  if (!lambo || !envAtlas) return null;\n\n  return <Entity name='model' >\n    <Render type='asset' asset={lambo} />\n    <Entity name='directional-light' position={[0, .001, 0]}>\n      <Light type='directional' />\n    </Entity>\n    <Environment envAtlas={envAtlas} showSkybox={false} />\n  </Entity>\n}\n\nconst App = () => {\n  return <Application>\n    <ShadowCatcher width={5} depth={5} />\n    <Entity name='grid' scale={[1000, 1, 1000]}>\n      <Script script={GridScript}/>\n    </Entity>\n    <Entity name='camera' position={[4, 1, 4]}>\n      <Camera clearColor='#090707' fov={28} renderSceneColorMap={true} />\n      <Script script={CameraControls} enableFly={false}/>\n    </Entity>\n    <Scene />\n  </Application>\n}\n\nrender(<App />)\n"})}),"\n",(0,a.jsx)(n.h2,{id:"your-next-steps",children:"Your next steps"}),"\n",(0,a.jsxs)(n.p,{children:["Now you've got a basic understanding of the core concepts of PlayCanvas React, you're ready to start building your own scenes. Check out the ",(0,a.jsx)(n.a,{href:"../guide/loading-assets",children:"loading assets guide"})," to learn how to load your own assets and add interactivity with scripts."]}),"\n",(0,a.jsxs)(n.p,{children:["You can also check out the ",(0,a.jsx)(n.a,{href:"../guide/",children:"guide"})," to learn about the different concepts and techniques you can use to build your scenes."]})]})}function Z(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(X,{...e})}):X(e)}},7184:(e,n,t)=>{t.d(n,{C:()=>E,G:()=>C});var s=t(11470),a=t(19365),i=t(59849),o=t(96540),r=t(95293),l=t(9764),c=t(18676),d=t(58817),h=t(19748),p=t(83395),m=t(43025),u=t(10977),g=t(7306),x=t(68869),v=t(78692),y=t(8939),j=t(40050),f=t(93953),w=t(27351),b=t(74848);const A="// \u2191 imports hidden",C=({code:e,label:n,filename:t,language:r="jsx",showDemo:c=!1,showViewSourceButton:d=!0,showControls:h=!0,children:p})=>{const[m,u]=(0,o.useState)(0);if(!p||!e)return console.error("CodeExample: code and children are required"),null;return(0,b.jsxs)(s.A,{defaultValue:m>0?"Code":c?"Demo":"Code",children:[(0,b.jsx)(a.A,{value:"Demo",children:(0,b.jsxs)("div",{className:"code-example-demo",children:[p,d&&(0,b.jsxs)("div",{className:"code-example-demo-footer",children:[n," - ",(0,b.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),u(e=>e+1)},children:"View Code"})]}),(0,b.jsx)("div",{className:"code-example-controls",children:(0,b.jsx)(l.XA,{fill:!0,hidden:!1===h})})]})}),(0,b.jsx)(a.A,{value:"Code",children:(0,b.jsx)(i.A,{language:r,title:t,children:e.includes(A)?A+e.split(A)[1]:e})})]},m)},S=e=>{const{width:n=8,depth:t=8,intensity:s=.75}=e,a=(0,o.useMemo)(()=>new f.e(n,1,t),[n,t]);return(0,b.jsxs)(c.w,{children:[(0,b.jsx)(h.v,{type:"directional",castShadows:!0,normalOffsetBias:0,shadowBias:0,shadowDistance:16,shadowResolution:1024,shadowType:w.au1,shadowUpdateMode:w.M5l,vsmBlurSize:8,shadowIntensity:s,intensity:0}),(0,b.jsx)(p.e,{script:y.X,intensity:s,scale:a})]})},E=({children:e,useLight:n=!0,useControls:t=!1,useGrid:s=!1,useShadow:a=!1,camera:i=[0,0,10],sceneOffset:l=[0,-.501,0],exposure:h=1})=>{const{colorMode:y}=(0,r.G)(),f=(0,u.n)(),{asset:w}=(0,g.yj)("/assets/helipad.png"),A="dark"===y?"#2a2a2a":"#e4e0e0",[C,E]=(0,o.useState)(!1),[L,k]=(0,o.useState)(!1),R=(0,o.useCallback)(()=>E(!0),[]),H=(0,o.useCallback)(()=>E(!1),[]),D=(0,o.useCallback)(()=>k(!0),[]),N=(0,o.useCallback)(()=>k(!1),[]);return(0,o.useEffect)(()=>{const e=f.graphicsDevice.canvas;e.style.cursor=C?"grabbing":L?"grab":"default"},[C,L,f]),(0,o.useEffect)(()=>{const e=()=>E(!1);return f.graphicsDevice.canvas.addEventListener("pointerup",e),()=>f.graphicsDevice?.canvas.removeEventListener("pointerup",e)},[f]),(0,b.jsxs)(c.w,{children:[(0,b.jsxs)(c.w,{name:"camera",position:i,children:[(0,b.jsx)(d.i,{clearColor:A,renderSceneColorMap:!0}),t&&(0,b.jsx)(p.e,{script:x.a,enableFly:!1,pitchRange:new j.Z(-90,-5)})]}),n&&(0,b.jsx)(m.O,{envAtlas:w,showSkybox:!1,exposure:h}),s&&(0,b.jsx)(c.w,{name:"grid",scale:[1e3,1,1e3],position:[0,-.5,0],children:(0,b.jsx)(p.e,{script:v.x})}),a&&(0,b.jsx)(c.w,{position:l,children:(0,b.jsx)(S,{})}),(0,b.jsx)(c.w,{onPointerOver:D,onPointerOut:N,onPointerDown:R,onPointerUp:H,children:e})]})}},24421:(e,n,t)=>{t.d(n,{A:()=>h});var s=t(18676),a=t(19748),i=t(83395),o=t(93953),r=t(27351),l=t(8939),c=t(96540),d=t(74848);const h=e=>{const{width:n=2,depth:t=2,intensity:h=.75}=e,p=(0,c.useMemo)(()=>new o.e(n,1,t),[n,t]);return(0,d.jsxs)(s.w,{position:[0,.001,0],children:[(0,d.jsx)(a.v,{type:"directional",castShadows:!0,normalOffsetBias:0,shadowBias:0,shadowDistance:16,shadowResolution:1024,shadowType:r.au1,shadowUpdateMode:r.M5l,vsmBlurSize:8,shadowIntensity:h,intensity:0}),(0,d.jsx)(i.e,{script:l.X,intensity:h,scale:p})]})}},49801:(e,n,t)=>{t.d(n,{A:()=>r});var s=t(18676),a=t(83395),i=t(78692),o=t(74848);const r=({...e})=>(0,o.jsx)(s.w,{scale:[1e3,1,1e3],children:(0,o.jsx)(a.e,{script:i.x,...e})})},53558:(e,n,t)=>{t.d(n,{A:()=>y});var s=t(96540),a=t(68869),i=t(8939),o=t(78692),r=t(14007),l=t(25303),c=t(34363),d=t(53512),h=t(49801),p=t(24421),m=t(85593),u=t(83395),g=t(83171),x=t(74848);const v=e=>(0,x.jsx)(u.e,{script:g.d,...e}),y={React:s,...s,...r,...l,...c,...d,Grid:h.A,ShadowCatcher:p.A,GridScript:o.x,ShadowCatcherScript:i.X,StaticPostEffects:m.A,AutoRotate:v,CameraControls:a.a}},65195:(e,n,t)=>{t.d(n,{A:()=>g});var s=t(96540),a=t(6342);function i(e){const n=e.map(e=>({...e,parentIndex:-1,children:[]})),t=Array(7).fill(-1);n.forEach((e,n)=>{const s=t.slice(2,e.level);e.parentIndex=Math.max(...s),t[e.level]=n});const s=[];return n.forEach(e=>{const{parentIndex:t,...a}=e;t>=0?n[t].children.push(a):s.push(a)}),s}function o({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return e.flatMap(e=>{const s=o({toc:e.children,minHeadingLevel:n,maxHeadingLevel:t});return function(e){return e.level>=n&&e.level<=t}(e)?[{...e,children:s}]:s})}function r(e){const n=e.getBoundingClientRect();return n.top===n.bottom?r(e.parentNode):n}function l(e,{anchorTopOffset:n}){const t=e.find(e=>r(e).top>=n);if(t){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(r(t))?t:e[e.indexOf(t)-1]??null}return e[e.length-1]??null}function c(){const e=(0,s.useRef)(0),{navbar:{hideOnScroll:n}}=(0,a.p)();return(0,s.useEffect)(()=>{e.current=n?0:document.querySelector(".navbar").clientHeight},[n]),e}function d(e){const n=(0,s.useRef)(void 0),t=c();(0,s.useEffect)(()=>{if(!e)return()=>{};const{linkClassName:s,linkActiveClassName:a,minHeadingLevel:i,maxHeadingLevel:o}=e;function r(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(s),r=function({minHeadingLevel:e,maxHeadingLevel:n}){const t=[];for(let s=e;s<=n;s+=1)t.push(`h${s}.anchor`);return Array.from(document.querySelectorAll(t.join()))}({minHeadingLevel:i,maxHeadingLevel:o}),c=l(r,{anchorTopOffset:t.current}),d=e.find(e=>c&&c.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e));e.forEach(e=>{!function(e,t){t?(n.current&&n.current!==e&&n.current.classList.remove(a),e.classList.add(a),n.current=e):e.classList.remove(a)}(e,e===d)})}return document.addEventListener("scroll",r),document.addEventListener("resize",r),r(),()=>{document.removeEventListener("scroll",r),document.removeEventListener("resize",r)}},[e,t])}var h=t(28774),p=t(74848);function m({toc:e,className:n,linkClassName:t,isChild:s}){return e.length?(0,p.jsx)("ul",{className:s?void 0:n,children:e.map(e=>(0,p.jsxs)("li",{children:[(0,p.jsx)(h.A,{to:`#${e.id}`,className:t??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,p.jsx)(m,{isChild:!0,toc:e.children,className:n,linkClassName:t})]},e.id))}):null}const u=s.memo(m);function g({toc:e,className:n="table-of-contents table-of-contents__left-border",linkClassName:t="table-of-contents__link",linkActiveClassName:r,minHeadingLevel:l,maxHeadingLevel:c,...h}){const m=(0,a.p)(),g=l??m.tableOfContents.minHeadingLevel,x=c??m.tableOfContents.maxHeadingLevel,v=function({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return(0,s.useMemo)(()=>o({toc:i(e),minHeadingLevel:n,maxHeadingLevel:t}),[e,n,t])}({toc:e,minHeadingLevel:g,maxHeadingLevel:x});return d((0,s.useMemo)(()=>{if(t&&r)return{linkClassName:t,linkActiveClassName:r,minHeadingLevel:g,maxHeadingLevel:x}},[t,r,g,x])),(0,p.jsx)(u,{toc:v,className:n,linkClassName:t,...h})}},85593:(e,n,t)=>{t.d(n,{A:()=>o});var s=t(83395),a=t(15817),i=t(74848);const o=e=>{const n={lighting:{exposure:1.21,skyBoxIntensity:1.02},rendering:{renderFormat:18,renderTargetScale:1,sharpness:0,samples:4,toneMapping:4,fog:"none",fogColor:{r:0,g:0,b:0,a:1},fogRange:[0,100],fogDensity:.01,renderFormatFallback0:12,renderFormatFallback1:14,sceneColorMap:!1,sceneDepthMap:!1,fogStart:0,fogEnd:100},bloom:{enabled:!0,intensity:.1,lastMipLevel:1},grading:{enabled:!0,brightness:.83,contrast:1.1,saturation:1.2,tint:{r:1,g:.9333333333333333,b:.8666666666666667,a:1}},vignette:{enabled:!0,intensity:1,inner:.25,outer:1.52,curvature:.78},fringing:{enabled:!0,intensity:10},...e};return(0,i.jsx)(s.e,{script:a.P,...n})}}}]);