"use strict";(globalThis.webpackChunkdeveloper_playcanvas_com=globalThis.webpackChunkdeveloper_playcanvas_com||[]).push([[25674],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var a=t(96540);const i={},r=a.createContext(i);function s(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(r.Provider,{value:n},e.children)}},82519:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"tutorials/custom-shaders","title":"\u30ab\u30b9\u30bf\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc","description":"\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3001ShaderMaterial API \u3092\u4f7f\u7528\u3057\u3066\u3001WebGL \u3068 WebGPU \u306e\u4e21\u65b9\u3067\u52d5\u4f5c\u3059\u308b\u3001\u71c3\u3048\u308b\u3088\u3046\u306a\u7e01\u3092\u6301\u3064\u30c7\u30a3\u30be\u30eb\u30d6\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u5b8c\u5168\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3053\u3061\u3089\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/tutorials/custom-shaders.md","sourceDirName":"tutorials","slug":"/tutorials/custom-shaders","permalink":"/ja/tutorials/custom-shaders","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/tutorials/custom-shaders.md","tags":[{"inline":true,"label":"\u30b7\u30a7\u30fc\u30c0\u30fc","permalink":"/ja/tags/\u30b7\u30a7\u30fc\u30c0\u30fc"},{"inline":true,"label":"\u30de\u30c6\u30ea\u30a2\u30eb","permalink":"/ja/tags/\u30de\u30c6\u30ea\u30a2\u30eb"}],"version":"current","frontMatter":{"title":"\u30ab\u30b9\u30bf\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc","tags":["\u30b7\u30a7\u30fc\u30c0\u30fc","\u30de\u30c6\u30ea\u30a2\u30eb"],"thumb":"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/406044/4J2JX2-image-75.jpg"},"sidebar":"tutorialsSidebar","previous":{"title":"\u30ab\u30b9\u30bf\u30e0\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8","permalink":"/ja/tutorials/custom-posteffect"},"next":{"title":"\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u306e\u691c\u51fa","permalink":"/ja/tutorials/detecting-a-double-click"}}');var i=t(74848),r=t(28453);const s={title:"\u30ab\u30b9\u30bf\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc",tags:["\u30b7\u30a7\u30fc\u30c0\u30fc","\u30de\u30c6\u30ea\u30a2\u30eb"],thumb:"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/406044/4J2JX2-image-75.jpg"},l=void 0,c={},h=[{value:"ShaderMaterial API",id:"shadermaterial-api",level:2},{value:"\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc\u306e\u30b5\u30dd\u30fc\u30c8",id:"\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc\u306e\u30b5\u30dd\u30fc\u30c8",level:2},{value:"\u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc",id:"\u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc",level:2},{value:"GLSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc",id:"glsl-\u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc",level:3},{value:"WGSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc",id:"wgsl-\u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc",level:3},{value:"\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc",id:"\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc",level:2},{value:"GLSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc",id:"glsl-\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc",level:3},{value:"WGSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc",id:"wgsl-\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc",level:3},{value:"ShaderMaterial \u306e\u4f5c\u6210",id:"shadermaterial-\u306e\u4f5c\u6210",level:2},{value:"\u30b7\u30a7\u30fc\u30c0\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a2d\u5b9a",id:"\u30b7\u30a7\u30fc\u30c0\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a2d\u5b9a",level:2},{value:"\u30b7\u30a7\u30fc\u30c0\u30fc\u30a2\u30bb\u30c3\u30c8\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u5c5e\u6027",id:"\u30b7\u30a7\u30fc\u30c0\u30fc\u30a2\u30bb\u30c3\u30c8\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u5c5e\u6027",level:2},{value:"Uniform \u306e\u66f4\u65b0",id:"uniform-\u306e\u66f4\u65b0",level:2},{value:"\u5b8c\u5168\u306a\u30b9\u30af\u30ea\u30d7\u30c8",id:"\u5b8c\u5168\u306a\u30b9\u30af\u30ea\u30d7\u30c8",level:2},{value:"GLSL \u3068 WGSL \u306e\u9055\u3044",id:"glsl-\u3068-wgsl-\u306e\u9055\u3044",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"iframe-container",children:(0,i.jsx)("iframe",{src:"https://playcanv.as/p/zwvhLoS9/",title:"\u30ab\u30b9\u30bf\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc",allow:"camera; microphone; xr-spatial-tracking; fullscreen",allowfullscreen:!0})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3001",(0,i.jsx)(n.a,{href:"https://api.playcanvas.com/engine/classes/ShaderMaterial.html",children:"ShaderMaterial"})," API \u3092\u4f7f\u7528\u3057\u3066\u3001WebGL \u3068 WebGPU \u306e\u4e21\u65b9\u3067\u52d5\u4f5c\u3059\u308b\u3001\u71c3\u3048\u308b\u3088\u3046\u306a\u7e01\u3092\u6301\u3064\u30c7\u30a3\u30be\u30eb\u30d6\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u5b8c\u5168\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f",(0,i.jsx)(n.a,{href:"https://playcanvas.com/project/406044/overview/tutorial-custom-shaders",children:"\u3053\u3061\u3089"}),"\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002"]})}),"\n",(0,i.jsxs)(n.p,{children:["PlayCanvas \u306b 3D \u30e2\u30c7\u30eb\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f",(0,i.jsx)(n.a,{href:"/user-manual/graphics/physical-rendering/physical-materials/",children:"Physical Material"}),"\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u591a\u304f\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u8981\u4ef6\u3092\u30ab\u30d0\u30fc\u3067\u304d\u308b\u6c4e\u7528\u6027\u306e\u9ad8\u3044\u30de\u30c6\u30ea\u30a2\u30eb\u30bf\u30a4\u30d7\u3067\u3059\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u3057\u304b\u3057\u3001\u30de\u30c6\u30ea\u30a2\u30eb\u306b\u7279\u6b8a\u306a\u30a8\u30d5\u30a7\u30af\u30c8\u3084\u7279\u6b8a\u306a\u30b1\u30fc\u30b9\u3092\u9069\u7528\u3057\u305f\u3044\u3068\u601d\u3046\u3053\u3068\u304c\u3088\u304f\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001\u30ab\u30b9\u30bf\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc\u3092\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"shadermaterial-api",children:"ShaderMaterial API"}),"\n",(0,i.jsxs)(n.p,{children:["PlayCanvas \u306f\u3001\u30ab\u30b9\u30bf\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc\u306e\u4f5c\u6210\u3092\u7c21\u7d20\u5316\u3057\u3001WebGL (GLSL) \u3068 WebGPU (WGSL) \u306e\u4e21\u65b9\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b",(0,i.jsx)(n.a,{href:"https://api.playcanvas.com/engine/classes/ShaderMaterial.html",children:"ShaderMaterial"})," API \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3053\u306e API \u306f\u3001\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9 API \u9593\u306e\u9055\u3044\u3092\u81ea\u52d5\u7684\u306b\u51e6\u7406\u3057\u3001\u30b7\u30a7\u30fc\u30c0\u30fc\u958b\u767a\u306e\u305f\u3081\u306e\u3088\u308a\u30af\u30ea\u30fc\u30f3\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc\u306e\u30b5\u30dd\u30fc\u30c8",children:"\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc\u306e\u30b5\u30dd\u30fc\u30c8"}),"\n",(0,i.jsxs)(n.p,{children:["\u30ab\u30b9\u30bf\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc\u304c\u3059\u3079\u3066\u306e\u30c7\u30d0\u30a4\u30b9\u3068\u30d6\u30e9\u30a6\u30b6\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u306b\u306f\u3001\u30b7\u30a7\u30fc\u30c0\u30fc\u306e ",(0,i.jsx)(n.a,{href:"/user-manual/graphics/shaders/glsl-specifics/",children:"GLSL"})," \u3068 ",(0,i.jsx)(n.a,{href:"/user-manual/graphics/shaders/wgsl-specifics/",children:"WGSL"})," \u306e\u4e21\u65b9\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u63d0\u4f9b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"GLSL"})," (OpenGL Shading Language): WebGL \u3067\u4f7f\u7528\u3055\u308c\u307e\u3059"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"WGSL"})," (WebGPU Shading Language): WebGPU \u3067\u4f7f\u7528\u3055\u308c\u307e\u3059"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc",children:"\u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc"}),"\n",(0,i.jsx)(n.h3,{id:"glsl-\u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc",children:"GLSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-glsl",children:"attribute vec3 aPosition;\nattribute vec2 aUv0;\n\nuniform mat4 matrix_model;\nuniform mat4 matrix_viewProjection;\n\nvarying vec2 vUv0;\n\nvoid main(void)\n{\n    vUv0 = aUv0;\n    gl_Position = matrix_viewProjection * matrix_model * vec4(aPosition, 1.0);\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"wgsl-\u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc",children:"WGSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-wgsl",children:"attribute aPosition: vec3f;\nattribute aUv0: vec2f;\n\nuniform matrix_viewProjection: mat4x4f;\nuniform matrix_model: mat4x4f;\n\nvarying vUv0: vec2f;\n\n@vertex\nfn vertexMain(input: VertexInput) -> VertexOutput {\n    var output: VertexOutput;\n\n    output.vUv0 = aUv0;\n    output.position = uniform.matrix_viewProjection * uniform.matrix_model * vec4<f32>(aPosition, 1.0);\n\n    return output;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc",children:"\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc"}),"\n",(0,i.jsx)(n.h3,{id:"glsl-\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc",children:"GLSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-glsl",children:"varying vec2 vUv0;\n\nuniform sampler2D uDiffuseMap;\nuniform sampler2D uHeightMap;\nuniform float uTime;\n\nvoid main(void)\n{\n    float height = texture2D(uHeightMap, vUv0).r;\n    vec4 color = texture2D(uDiffuseMap, vUv0);\n\n    if (height < uTime) {\n        discard;\n    }\n\n    // \u71c3\u713c\u5e2f\u306e\u5e45\n    float edgeWidth = 0.05;\n\n    if (height < (uTime + edgeWidth)) {\n        // \u5185\u5074\u306e\u7e01\u30670 \u2192 \u5916\u5074\u306e\u7e01\u30671\n        float t = (height - uTime) / edgeWidth;\n\n        // \u708e\u306e\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\uff1a\u9ec4\u8272\u304b\u3089\u6697\u3044\u30aa\u30ec\u30f3\u30b8\u3078\n        vec3 burnColor = mix(\n            vec3(1.0, 0.7, 0.2),\n            vec3(0.6, 0.1, 0.0),\n            t\n        );\n\n        // \u71c3\u713c\u8272\u3092\u5143\u306e\u30c6\u30af\u30b9\u30c1\u30e3\u3068\u30d6\u30ec\u30f3\u30c9\u3059\u308b\n        color = vec4(mix(burnColor, color.rgb, t), 1.0);\n    }\n\n    gl_FragColor = color;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"wgsl-\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc",children:"WGSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-wgsl",children:"varying vUv0: vec2f;\n\nuniform uTime: f32;\n\nvar uDiffuseMap: texture_2d<f32>;\nvar uDiffuseMapSampler: sampler;\nvar uHeightMap: texture_2d<f32>;\nvar uHeightMapSampler: sampler;\n\n@fragment\nfn fragmentMain(input: FragmentInput) -> FragmentOutput {\n    var output: FragmentOutput;\n\n    let height = textureSample(uHeightMap, uHeightMapSampler, vUv0).r;\n    var color = textureSample(uDiffuseMap, uDiffuseMapSampler, vUv0);\n\n    if (height < uniform.uTime) {\n        discard;\n    }\n\n    // \u71c3\u713c\u5e2f\u306e\u5e45\n    let edgeWidth = 0.05;\n\n    if (height < (uniform.uTime + edgeWidth)) {\n        // t\u306f0\uff08\u5185\u5074\u306e\u7e01\u306e\u3059\u3050\u5185\u5074\uff09\u304b\u30891\uff08\u5916\u5074\u306e\u7e01\uff09\u307e\u3067\u5909\u5316\n        let t = (height - uniform.uTime) / edgeWidth;\n\n        // \u708e\u306e\u8272\uff1a\u660e\u308b\u3044\u9ec4\u8272\u304b\u3089\u6697\u3044\u30aa\u30ec\u30f3\u30b8\u306b\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\n        let burnColor = mix(\n            vec3f(1.0, 0.7, 0.2),\n            vec3f(0.6, 0.1, 0.0),\n            t\n        );\n\n        // \u71c3\u713c\u8272\u3092\u5143\u306e\u30c6\u30af\u30b9\u30c1\u30e3\u3068\u30d6\u30ec\u30f3\u30c9\u3059\u308b\uff08\u5916\u5074\u306e\u7e01\u307b\u3069\u71c3\u713c\u8272\u304c\u6fc3\u304f\u306a\u308b\uff09\n        color = vec4f(mix(burnColor, color.rgb, t), 1.0);\n    }\n\n    output.color = color;\n    return output;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u4e0a\u8a18\u306e\u30b7\u30a7\u30fc\u30c0\u30fc\u306f\u3001\u708e\u306e\u3088\u3046\u306a\u71c3\u713c\u3059\u308b\u7e01\u3092\u6301\u3064\u30c7\u30a3\u30be\u30eb\u30d6\u52b9\u679c\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc\u306f\u30e1\u30c3\u30b7\u30e5\u306e\u9802\u70b9\u3092\u30b9\u30af\u30ea\u30fc\u30f3\u7a7a\u9593\u306b\u5909\u63db\u3057\u3001\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc\u306f\u30cf\u30a4\u30c8\u30de\u30c3\u30d7\u30c6\u30af\u30b9\u30c1\u30e3\u306b\u57fa\u3065\u3044\u3066\u30c7\u30a3\u30be\u30eb\u30d6\u52b9\u679c\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30d4\u30af\u30bb\u30eb\u3067\u306e",(0,i.jsx)(n.code,{children:"uTime"}),"\u306e\u5024\u304c\u30cf\u30a4\u30c8\u30de\u30c3\u30d7\u306e\u5024\u3088\u308a\u3082\u5927\u304d\u3044\u5834\u5408\u3001\u305d\u306e\u30d4\u30af\u30bb\u30eb\u306f\u7834\u68c4\u3055\u308c\u307e\u3059\uff08\u30e2\u30c7\u30eb\u304c\u900f\u660e\u306b\u306a\u308a\u307e\u3059\uff09\u3002\u30c7\u30a3\u30be\u30eb\u30d6\u306e\u7e01\u306e\u8fd1\u304f\u3067\u306f\u3001\u30ea\u30a2\u30eb\u306a\u71c3\u713c\u52b9\u679c\u306e\u305f\u3081\u306b\u708e\u8272\u306e\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u3092\u30d6\u30ec\u30f3\u30c9\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"shadermaterial-\u306e\u4f5c\u6210",children:"ShaderMaterial \u306e\u4f5c\u6210"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Create a new ShaderMaterial with both GLSL and WGSL versions\nthis.material = new ShaderMaterial({\n    uniqueName: 'Dissolve',\n    vertexGLSL: this.vertexGLSL.resource,\n    fragmentGLSL: this.fragmentGLSL.resource,\n    vertexWGSL: this.vertexWGSL.resource,\n    fragmentWGSL: this.fragmentWGSL.resource,\n    attributes: {\n        aPosition: SEMANTIC_POSITION,\n        aUv0: SEMANTIC_TEXCOORD0\n    }\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://api.playcanvas.com/engine/classes/ShaderMaterial.html#constructor",children:"ShaderMaterial \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u30fc"}),"\u306f\u3001GLSL \u3068 WGSL \u306e\u4e21\u65b9\u306e\u30b7\u30a7\u30fc\u30c0\u30fc\u30b3\u30fc\u30c9\u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002PlayCanvas \u306f\u3001\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9 API \u306b\u57fa\u3065\u3044\u3066\u9069\u5207\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u81ea\u52d5\u7684\u306b\u9078\u629e\u3057\u307e\u3059\u3002",(0,i.jsx)(n.code,{children:"attributes"})," \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001\u30b7\u30a7\u30fc\u30c0\u30fc\u304c\u671f\u5f85\u3059\u308b\u9802\u70b9\u5c5e\u6027\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u30b7\u30a7\u30fc\u30c0\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a2d\u5b9a",children:"\u30b7\u30a7\u30fc\u30c0\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a2d\u5b9a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Set the initial time parameter\nthis.material.setParameter('uTime', 0);\n\n// Set the diffuse texture\nconst diffuseTexture = this.diffuseMap.resource;\nthis.material.setParameter('uDiffuseMap', diffuseTexture);\n\n// Set the height map texture\nconst heightTexture = this.heightMap.resource;\nthis.material.setParameter('uHeightMap', heightTexture);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Uniform \u306f\u3001\u901a\u5e38\u306e Materials \u3068\u540c\u3058\u3088\u3046\u306b\u52d5\u4f5c\u3059\u308b",(0,i.jsx)(n.a,{href:"https://api.playcanvas.com/engine/classes/Material.html#setparameter",children:(0,i.jsx)(n.code,{children:"setParameter()"})}),"\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002ShaderMaterial \u306f\u3001GLSL \u3068 WGSL \u306e uniform \u69cb\u6587\u306e\u9055\u3044\u3092\u81ea\u52d5\u7684\u306b\u51e6\u7406\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u30b7\u30a7\u30fc\u30c0\u30fc\u30a2\u30bb\u30c3\u30c8\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u5c5e\u6027",children:"\u30b7\u30a7\u30fc\u30c0\u30fc\u30a2\u30bb\u30c3\u30c8\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u5c5e\u6027"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"/**\n * GLSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc\u3002\n * \n * @attribute\n * @title GLSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc\n * @type {pc.Asset}\n */\nvertexGLSL;\n\n/**\n * GLSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc\u3002\n * \n * @attribute\n * @title GLSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc\n * @type {pc.Asset}\n */\nfragmentGLSL;\n\n/**\n * WGSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc\u3002\n * \n * @attribute\n * @title WGSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc\n * @type {pc.Asset}\n */\nvertexWGSL;\n\n/**\n * WGSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc\u3002\n * \n * @attribute\n * @title WGSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc\n * @type {pc.Asset}\n */\nfragmentWGSL;\n\n/**\n * \u30c7\u30a3\u30d5\u30e5\u30fc\u30ba\u30de\u30c3\u30d7\n * \n * @attribute\n * @title \u30c7\u30a3\u30d5\u30e5\u30fc\u30ba\u30de\u30c3\u30d7\n * @type {pc.Asset}\n */\ndiffuseMap;\n\n/**\n * \u30cf\u30a4\u30c8\u30de\u30c3\u30d7\n * \n * @attribute\n * @title \u30cf\u30a4\u30c8\u30de\u30c3\u30d7\n * @type {pc.Asset}\n */\nheightMap;\n"})}),"\n",(0,i.jsx)(n.p,{children:"PlayCanvas Editor \u3067\u30014 \u3064\u306e\u30b7\u30a7\u30fc\u30c0\u30fc\u30a2\u30bb\u30c3\u30c8\uff08GLSL \u304c 2 \u3064\u3001WGSL \u304c 2 \u3064\uff09\u3092\u4f5c\u6210\u3057\u3001\u3053\u308c\u3089\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u5c5e\u6027\u306b\u5272\u308a\u5f53\u3066\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"uniform-\u306e\u66f4\u65b0",children:"Uniform \u306e\u66f4\u65b0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"update(dt) {\n    this.time += dt;\n\n    // \u6b63\u5f26\u6ce2\u3092\u4f7f\u7528\u3057\u3066\u6ed1\u3089\u304b\u306a\u632f\u52d5\u3092\u4f5c\u6210\u3059\u308b\n    const t = (Math.sin(this.time) + 1) / 2;\n\n    // \u30de\u30c6\u30ea\u30a2\u30eb\u306e\u30bf\u30a4\u30e0\u5024\u3092\u66f4\u65b0\u3059\u308b\n    this.material.setParameter('uTime', t);\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u30c7\u30a3\u30be\u30eb\u30d6\u52b9\u679c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306b\u3001\u6642\u9593\u3068\u3068\u3082\u306b\u5909\u5316\u3059\u308b\u95be\u5024\u3068\u3057\u3066\u30cf\u30a4\u30c8\u30de\u30c3\u30d7\u306e\u5024\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f\u3001\u6b63\u5f26\u6ce2\u3092\u4f7f\u7528\u3057\u3066 0 \u304b\u3089 1 \u306e\u9593\u3067\u6ed1\u3089\u304b\u306a\u632f\u52d5\u3092\u4f5c\u6210\u3057\u3001\u3088\u308a\u81ea\u7136\u306a\u30c7\u30a3\u30be\u30eb\u30d6\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u5b8c\u5168\u306a\u30b9\u30af\u30ea\u30d7\u30c8",children:"\u5b8c\u5168\u306a\u30b9\u30af\u30ea\u30d7\u30c8"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"import { Script, ShaderMaterial, SEMANTIC_POSITION, SEMANTIC_TEXCOORD0 } from 'playcanvas';\n\n/**\n * \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u30ec\u30f3\u30c0\u30fc\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u30c7\u30a3\u30be\u30eb\u30d6\u30b7\u30a7\u30fc\u30c0\u30fc\u30de\u30c6\u30ea\u30a2\u30eb\u3092\u9069\u7528\u3057\u307e\u3059\u3002\n */\nexport class CustomShader extends Script {\n    scriptName = 'dissolveShader';\n\n    /**\n     * GLSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc\u3002\n     * \n     * @attribute\n     * @title GLSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc\n     * @type {pc.Asset}\n     */\n    vertexGLSL;\n\n    /**\n     * GLSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc\u3002\n     * \n     * @attribute\n     * @title GLSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc\n     * @type {pc.Asset}\n     */\n    fragmentGLSL;\n\n    /**\n     * WGSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc\u3002\n     * \n     * @attribute\n     * @title WGSL \u9802\u70b9\u30b7\u30a7\u30fc\u30c0\u30fc\n     * @type {pc.Asset}\n     */\n    vertexWGSL;\n\n    /**\n     * WGSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc\u3002\n     * \n     * @attribute\n     * @title WGSL \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u30b7\u30a7\u30fc\u30c0\u30fc\n     * @type {pc.Asset}\n     */\n    fragmentWGSL;\n\n    /**\n     * \u30c7\u30a3\u30d5\u30e5\u30fc\u30ba\u30de\u30c3\u30d7\n     * \n     * @attribute\n     * @title \u30c7\u30a3\u30d5\u30e5\u30fc\u30ba\u30de\u30c3\u30d7\n     * @type {pc.Asset}\n     */\n    diffuseMap;\n\n    /**\n     * \u30cf\u30a4\u30c8\u30de\u30c3\u30d7\n     * \n     * @attribute\n     * @title \u30cf\u30a4\u30c8\u30de\u30c3\u30d7\n     * @type {pc.Asset}\n     */\n    heightMap;\n\n    time = 0;\n\n    // \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3054\u3068\u306b\u4e00\u5ea6\u547c\u3073\u51fa\u3055\u308c\u308b\u521d\u671f\u5316\u30b3\u30fc\u30c9\n    initialize() {\n        // \u65b0\u3057\u3044\u30de\u30c6\u30ea\u30a2\u30eb\u3092\u4f5c\u6210\u3057\u3001\u30b7\u30a7\u30fc\u30c0\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\n        this.material = new ShaderMaterial({\n            uniqueName: 'Dissolve',\n            vertexGLSL: this.vertexGLSL.resource,\n            fragmentGLSL: this.fragmentGLSL.resource,\n            vertexWGSL: this.vertexWGSL.resource,\n            fragmentWGSL: this.fragmentWGSL.resource,\n            attributes: {\n                aPosition: SEMANTIC_POSITION,\n                aUv0: SEMANTIC_TEXCOORD0\n            }\n        });\n\n        // \u521d\u671f\u6642\u9593\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\n        this.material.setParameter('uTime', 0);\n\n        // \u30c7\u30a3\u30d5\u30e5\u30fc\u30ba\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u8a2d\u5b9a\u3059\u308b\n        const diffuseTexture = this.diffuseMap.resource;\n        this.material.setParameter('uDiffuseMap', diffuseTexture);\n\n        // \u30cf\u30a4\u30c8\u30de\u30c3\u30d7\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u8a2d\u5b9a\u3059\u308b\n        const heightTexture = this.heightMap.resource;\n        this.material.setParameter('uHeightMap', heightTexture);\n\n        // \u3059\u3079\u3066\u306e\u30ec\u30f3\u30c0\u30fc\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30de\u30c6\u30ea\u30a2\u30eb\u3092\u7f6e\u304d\u63db\u3048\u308b\n        const renders = this.entity.findComponents('render');\n        for (let i = 0; i < renders.length; ++i) {\n            const meshInstances = renders[i].meshInstances;\n            for (let j = 0; j < meshInstances.length; j++) {\n                meshInstances[j].material = this.material;\n            }\n        }\n    }\n\n    // \u30d5\u30ec\u30fc\u30e0\u3054\u3068\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u66f4\u65b0\u30b3\u30fc\u30c9\n    update(dt) {\n        this.time += dt;\n\n        // \u6b63\u5f26\u6ce2\u3092\u4f7f\u7528\u3057\u3066\u6ed1\u3089\u304b\u306a\u632f\u52d5\u3092\u4f5c\u6210\u3059\u308b\n        const t = (Math.sin(this.time) + 1) / 2;\n\n        // \u30de\u30c6\u30ea\u30a2\u30eb\u306e\u30bf\u30a4\u30e0\u5024\u3092\u66f4\u65b0\u3059\u308b\n        this.material.setParameter('uTime', t);\n    }\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001ShaderMaterial API \u3092\u4f7f\u7528\u3057\u3066\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306e\u30ab\u30b9\u30bf\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u30c7\u30a3\u30be\u30eb\u30d6\u52b9\u679c\u306f\u3001\u30cf\u30a4\u30c8\u30de\u30c3\u30d7\u3092\u4f7f\u7528\u3057\u3066\u3069\u306e\u30d4\u30af\u30bb\u30eb\u3092\u7834\u68c4\u3059\u308b\u304b\u3092\u6c7a\u5b9a\u3057\u3001\u6eb6\u89e3\u306e\u9032\u884c\u3068\u3068\u3082\u306b\u71c3\u3048\u308b\u3088\u3046\u306a\u7e01\u306e\u52b9\u679c\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"glsl-\u3068-wgsl-\u306e\u9055\u3044",children:"GLSL \u3068 WGSL \u306e\u9055\u3044"}),"\n",(0,i.jsx)(n.p,{children:"\u4e21\u65b9\u306e API \u7528\u306b\u30b7\u30a7\u30fc\u30c0\u30fc\u3092\u8a18\u8ff0\u3059\u308b\u969b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u91cd\u8981\u306a\u9055\u3044\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u69cb\u6587"}),": WGSL \u306f\u3088\u308a\u660e\u793a\u7684\u306a\u578b\u6307\u5b9a\uff08",(0,i.jsx)(n.code,{children:"vec3f"}),"\u3001",(0,i.jsx)(n.code,{children:"f32"}),"\uff09\u3092\u4f7f\u7528\u3057\u307e\u3059\u304c\u3001GLSL \u306f\u578b\u3092\u63a8\u8ad6\u3057\u307e\u3059"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5c5e\u6027/Varyings"}),": WGSL \u306f\u69cb\u9020\u5316\u3055\u308c\u305f\u5165\u51fa\u529b\u3092\u4f7f\u7528\u3057\u307e\u3059\u304c\u3001GLSL \u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u3092\u4f7f\u7528\u3057\u307e\u3059"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u30c6\u30af\u30b9\u30c1\u30e3"}),": WGSL \u306f\u30c6\u30af\u30b9\u30c1\u30e3\u3068\u30b5\u30f3\u30d7\u30e9\u30fc\u3092\u5206\u96e2\u3057\u307e\u3059\u304c\u3001GLSL \u306f\u305d\u308c\u3089\u3092\u7d50\u5408\u3057\u307e\u3059"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8"}),": WGSL \u306f ",(0,i.jsx)(n.code,{children:"@vertex"})," \u304a\u3088\u3073 ",(0,i.jsx)(n.code,{children:"@fragment"})," \u30c7\u30b3\u30ec\u30fc\u30bf\u30fc\u3092\u4f7f\u7528\u3057\u307e\u3059\u304c\u3001GLSL \u306f ",(0,i.jsx)(n.code,{children:"main()"})," \u3092\u4f7f\u7528\u3057\u307e\u3059"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"ShaderMaterial API \u306f\u3053\u308c\u3089\u306e\u9055\u3044\u3092\u81ea\u52d5\u7684\u306b\u51e6\u7406\u3059\u308b\u305f\u3081\u3001API \u56fa\u6709\u306e\u8a73\u7d30\u3067\u306f\u306a\u304f\u30b7\u30a7\u30fc\u30c0\u30fc\u30ed\u30b8\u30c3\u30af\u306b\u96c6\u4e2d\u3067\u304d\u307e\u3059\u3002"})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);