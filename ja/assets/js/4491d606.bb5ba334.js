"use strict";(globalThis.webpackChunkdeveloper_playcanvas_com=globalThis.webpackChunkdeveloper_playcanvas_com||[]).push([[881],{7184:(e,t,n)=>{n.d(t,{C:()=>A,G:()=>C});var s=n(11470),a=n(19365),i=n(59849),r=n(96540),o=n(95293),l=n(58640),c=n(18676),p=n(58817),d=n(19748),h=n(83395),m=n(43025),u=n(10977),x=n(7306),v=n(55937),f=n(78692),y=n(8939),g=n(40050),j=n(93953),R=n(27351),b=n(74848);const w="// \u2191 imports hidden",C=({code:e,label:t,filename:n,language:o="jsx",showDemo:c=!1,showViewSourceButton:p=!0,showControls:d=!0,children:h})=>{const[m,u]=(0,r.useState)(0);if(!h||!e)return console.error("CodeExample: code and children are required"),null;return(0,b.jsxs)(s.A,{defaultValue:m>0?"Code":c?"Demo":"Code",children:[(0,b.jsx)(a.A,{value:"Demo",children:(0,b.jsxs)("div",{className:"code-example-demo",children:[h,p&&(0,b.jsxs)("div",{className:"code-example-demo-footer",children:[t," - ",(0,b.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),u(e=>e+1)},children:"View Code"})]}),(0,b.jsx)("div",{className:"code-example-controls",children:(0,b.jsx)(l.XA,{fill:!0,hidden:!1===d})})]})}),(0,b.jsx)(a.A,{value:"Code",children:(0,b.jsx)(i.A,{language:o,title:n,children:e.includes(w)?w+e.split(w)[1]:e})})]},m)},S=e=>{const{width:t=8,depth:n=8,intensity:s=.75}=e,a=(0,r.useMemo)(()=>new j.e(t,1,n),[t,n]);return(0,b.jsxs)(c.w,{children:[(0,b.jsx)(d.v,{type:"directional",castShadows:!0,normalOffsetBias:0,shadowBias:0,shadowDistance:16,shadowResolution:1024,shadowType:R.au1,shadowUpdateMode:R.M5l,vsmBlurSize:8,shadowIntensity:s,intensity:0}),(0,b.jsx)(h.e,{script:y.X,intensity:s,scale:a})]})},A=({children:e,useLight:t=!0,useControls:n=!1,useGrid:s=!1,useShadow:a=!1,camera:i=[0,0,10],sceneOffset:l=[0,-.501,0],exposure:d=1})=>{const{colorMode:y}=(0,o.G)(),j=(0,u.n)(),{asset:R}=(0,x.yj)("/assets/helipad.png"),w="dark"===y?"#2a2a2a":"#e4e0e0",[C,A]=(0,r.useState)(!1),[X,E]=(0,r.useState)(!1),V=(0,r.useCallback)(()=>A(!0),[]),M=(0,r.useCallback)(()=>A(!1),[]),P=(0,r.useCallback)(()=>E(!0),[]),T=(0,r.useCallback)(()=>E(!1),[]);return(0,r.useEffect)(()=>{const e=j.graphicsDevice.canvas;e.style.cursor=C?"grabbing":X?"grab":"default"},[C,X,j]),(0,r.useEffect)(()=>{const e=()=>A(!1);return j.graphicsDevice.canvas.addEventListener("pointerup",e),()=>j.graphicsDevice?.canvas.removeEventListener("pointerup",e)},[j]),(0,b.jsxs)(c.w,{children:[(0,b.jsxs)(c.w,{name:"camera",position:i,children:[(0,b.jsx)(p.i,{clearColor:w,renderSceneColorMap:!0}),n&&(0,b.jsx)(h.e,{script:v.a,enableFly:!1,pitchRange:new g.Z(-90,-5)})]}),t&&(0,b.jsx)(m.O,{envAtlas:R,showSkybox:!1,exposure:d}),s&&(0,b.jsx)(c.w,{name:"grid",scale:[1e3,1,1e3],position:[0,-.5,0],children:(0,b.jsx)(h.e,{script:f.x})}),a&&(0,b.jsx)(c.w,{position:l,children:(0,b.jsx)(S,{})}),(0,b.jsx)(c.w,{onPointerOver:P,onPointerOut:T,onPointerDown:V,onPointerUp:M,children:e})]})}},24421:(e,t,n)=>{n.d(t,{A:()=>d});var s=n(18676),a=n(19748),i=n(83395),r=n(93953),o=n(27351),l=n(8939),c=n(96540),p=n(74848);const d=e=>{const{width:t=2,depth:n=2,intensity:d=.75}=e,h=(0,c.useMemo)(()=>new r.e(t,1,n),[t,n]);return(0,p.jsxs)(s.w,{position:[0,.001,0],children:[(0,p.jsx)(a.v,{type:"directional",castShadows:!0,normalOffsetBias:0,shadowBias:0,shadowDistance:16,shadowResolution:1024,shadowType:o.au1,shadowUpdateMode:o.M5l,vsmBlurSize:8,shadowIntensity:d,intensity:0}),(0,p.jsx)(i.e,{script:l.X,intensity:d,scale:h})]})}},49801:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(18676),a=n(83395),i=n(78692),r=n(74848);const o=({...e})=>(0,r.jsx)(s.w,{scale:[1e3,1,1e3],children:(0,r.jsx)(a.e,{script:i.x,...e})})},51187:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>S,contentTitle:()=>C,default:()=>E,frontMatter:()=>w,metadata:()=>s,toc:()=>A});const s=JSON.parse('{"id":"user-manual/react/guide/xr","title":"XR","description":"PlayCanvas React makes it easy to add Virtual Reality (VR) and Augmented Reality (AR) support to your applications using the WebXR API.","source":"@site/docs/user-manual/react/guide/xr.mdx","sourceDirName":"user-manual/react/guide","slug":"/user-manual/react/guide/xr","permalink":"/ja/user-manual/react/guide/xr","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/react/guide/xr.mdx","tags":[],"version":"current","frontMatter":{"title":"XR"}}');var a=n(74848),i=n(28453),r=n(7184),o=n(58769),l=n(96540),c=n(18676),p=n(58817),d=n(83395),h=n(16230),m=n(10977),u=n(85169);class x extends u.e{static scriptName="xrControllers";basePath="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets/dist/profiles";controllers=new Map;initialize(){this.app.xr?(this.app.xr.input.on("add",async e=>{if(!e.profiles?.length)return void console.warn("No profiles available for input source");const t=e.profiles.map(async t=>{const n=`${this.basePath}/${t}/profile.json`;try{const s=await fetch(n);if(!s.ok)return null;const a=await s.json(),i=a.layouts[e.handedness]?.assetPath||"",r=`${this.basePath}/${a.profileId}/${e.handedness}${i.replace(/^\/?(left|right)/,"")}`;return{profileId:t,asset:await new Promise((e,t)=>{this.app.assets.loadFromUrl(r,"container",(n,s)=>{n?t(n):e(s)})})}}catch(s){return console.warn(`Failed to process profile ${t}`),null}}),n=(await Promise.all(t)).find(e=>null!==e);if(n){const{asset:t}=n,s=t.resource.instantiateRenderEntity();this.app.root.addChild(s);const a=new Map;if(e.hand)for(const n of e.hand.joints){const e=s.findByName(n.id);e&&a.set(n,e)}this.controllers.set(e,{entity:s,jointMap:a})}else console.warn("No compatible profiles found")}),this.app.xr.input.on("remove",e=>{const t=this.controllers.get(e);t&&(t.entity.destroy(),this.controllers.delete(e))})):console.error("XrControllers script requires XR to be enabled on the application")}update(e){if(this.app.xr?.active)for(const[t,{entity:n,jointMap:s}]of this.controllers)if(t.hand)for(const[e,a]of s)a.setPosition(e.getPosition()),a.setRotation(e.getRotation());else n.setPosition(t.getPosition()),n.setRotation(t.getRotation())}}var v=n(48355),f=n(40050),y=n(93953);class g extends u.e{static scriptName="xrNavigation";enableTeleport=!0;enableMove=!0;movementSpeed=1.5;rotateSpeed=45;movementThreshold=.1;rotateThreshold=.5;rotateResetThreshold=.25;maxTeleportDistance=10;teleportIndicatorRadius=.2;teleportIndicatorSegments=16;validTeleportColor=new v.Q(0,1,0);invalidTeleportColor=new v.Q(1,0,0);controllerRayColor=new v.Q(1,1,1);inputSources=new Set;activePointers=new Map;inputHandlers=new Map;lastRotateValue=0;tmpVec2A=new f.Z;tmpVec2B=new f.Z;tmpVec3A=new y.e;tmpVec3B=new y.e;validColor=new v.Q;invalidColor=new v.Q;rayColor=new v.Q;cameraEntity=null;initialize(){if(!this.app.xr)return void console.error("XrNavigation script requires XR to be enabled on the application");const e=[];this.enableTeleport&&e.push("teleportation"),this.enableMove&&e.push("smooth movement"),console.log(`XrNavigation: Enabled methods - ${e.join(", ")}`),this.enableTeleport||this.enableMove||console.warn("XrNavigation: Both teleportation and movement are disabled. Navigation will not work."),this.validColor.copy(this.validTeleportColor),this.invalidColor.copy(this.invalidTeleportColor),this.rayColor.copy(this.controllerRayColor);const t=this.entity.findComponent("camera");if(this.cameraEntity=t?t.entity:null,!this.cameraEntity){console.warn("XrNavigation: Camera entity not found. Looking for camera in children...");const e=this.entity.findByName("camera");if(this.cameraEntity=e,!this.cameraEntity)for(const t of this.entity.children){const e=t;if(e.camera){this.cameraEntity=e;break}}this.cameraEntity||console.error("XrNavigation: No camera entity found. Movement calculations may not work correctly.")}this.app.xr.input.on("add",e=>{const t=()=>{this.activePointers.set(e,!0)},n=()=>{this.activePointers.set(e,!1),this.tryTeleport(e)};e.on("selectstart",t),e.on("selectend",n),this.inputHandlers.set(e,{handleSelectStart:t,handleSelectEnd:n}),this.inputSources.add(e)}),this.app.xr.input.on("remove",e=>{const t=this.inputHandlers.get(e);t&&(e.off("selectstart",t.handleSelectStart),e.off("selectend",t.handleSelectEnd),this.inputHandlers.delete(e)),this.activePointers.delete(e),this.inputSources.delete(e)})}findPlaneIntersection(e,t){if(Math.abs(t.y)<1e-5)return null;const n=-e.y/t.y;return n<0?null:new y.e(e.x+t.x*n,0,e.z+t.z*n)}tryTeleport(e){const t=e.getOrigin(),n=e.getDirection(),s=this.findPlaneIntersection(t,n);if(s){const e=this.entity.getPosition().y;s.y=e,this.entity.setPosition(s)}}update(e){this.enableMove&&this.handleSmoothLocomotion(e),this.enableTeleport&&this.handleTeleportation(),this.renderControllerRays()}handleSmoothLocomotion(e){if(this.cameraEntity)for(const t of this.inputSources)if(t.gamepad)if("left"===t.handedness){if(this.tmpVec2A.set(t.gamepad.axes[2],t.gamepad.axes[3]),this.tmpVec2A.length()>this.movementThreshold){this.tmpVec2A.normalize();const t=this.cameraEntity.forward;this.tmpVec2B.x=t.x,this.tmpVec2B.y=t.z,this.tmpVec2B.normalize();const n=Math.atan2(this.tmpVec2B.x,this.tmpVec2B.y)-Math.PI/2,s=this.tmpVec2A.x*Math.sin(n)-this.tmpVec2A.y*Math.cos(n);this.tmpVec2A.y=this.tmpVec2A.y*Math.sin(n)+this.tmpVec2A.x*Math.cos(n),this.tmpVec2A.x=s,this.tmpVec2A.mulScalar(this.movementSpeed*e),this.entity.translate(this.tmpVec2A.x,0,this.tmpVec2A.y)}}else"right"===t.handedness&&this.handleSnapTurning(t)}handleSnapTurning(e){const t=-e.gamepad.axes[2];(this.lastRotateValue>0&&t<this.rotateResetThreshold||this.lastRotateValue<0&&t>-this.rotateResetThreshold)&&(this.lastRotateValue=0),0===this.lastRotateValue&&Math.abs(t)>this.rotateThreshold&&(this.lastRotateValue=Math.sign(t),this.cameraEntity&&(this.tmpVec3A.copy(this.cameraEntity.getLocalPosition()),this.entity.translateLocal(this.tmpVec3A),this.entity.rotateLocal(0,Math.sign(t)*this.rotateSpeed,0),this.entity.translateLocal(this.tmpVec3A.mulScalar(-1))))}handleTeleportation(){for(const e of this.inputSources){if(!this.activePointers.get(e))continue;const t=e.getOrigin(),n=e.getDirection(),s=this.findPlaneIntersection(t,n);s&&this.isValidTeleportDistance(s)?(this.app.drawLine(t,s,this.validColor),this.drawTeleportIndicator(s)):(this.tmpVec3B.copy(n).mulScalar(this.maxTeleportDistance).add(t),this.app.drawLine(t,this.tmpVec3B,this.invalidColor))}}renderControllerRays(){if(this.enableMove)for(const e of this.inputSources){if(this.activePointers.get(e))continue;const t=e.getOrigin();this.tmpVec3B.copy(e.getDirection()).mulScalar(2).add(t),this.app.drawLine(t,this.tmpVec3B,this.rayColor)}}isValidTeleportDistance(e){return e.distance(this.entity.getPosition())<=this.maxTeleportDistance}drawTeleportIndicator(e){const t=this.teleportIndicatorSegments,n=this.teleportIndicatorRadius;for(let s=0;s<t;s++){const a=s/t*Math.PI*2,i=(s+1)/t*Math.PI*2,r=e.x+Math.cos(a)*n,o=e.z+Math.sin(a)*n,l=e.x+Math.cos(i)*n,c=e.z+Math.sin(i)*n;this.tmpVec3A.set(r,.01,o),this.tmpVec3B.set(l,.01,c),this.app.drawLine(this.tmpVec3A,this.tmpVec3B,this.validColor)}}}var j=n(55937);const R=()=>{const e=(0,m.n)(),[t,n]=(0,l.useState)(!1),s=(0,l.useMemo)(()=>e?.xr?.isAvailable("immersive-ar"),[e.xr]),i=(0,l.useMemo)(()=>e?.xr?.isAvailable("immersive-vr"),[e.xr]);(0,l.useEffect)(()=>{const t=()=>n(!0),s=()=>n(!1);return e.xr?.on("start",t),e.xr?.on("end",s),()=>{e.xr?.off("start",t),e.xr?.off("end",s)}},[e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"overlay",children:[!t&&s&&(0,a.jsx)("button",{onClick:()=>{const t=e.root.findComponent("camera");t&&e.xr.start(t,"immersive-ar","local-floor")},children:"Enter AR"}),!t&&i&&(0,a.jsx)("button",{onClick:()=>{const t=e.root.findComponent("camera");t&&e.xr.start(t,"immersive-vr","local-floor")},children:"Enter VR"}),t&&(0,a.jsx)("button",{"data-selected":!0,onClick:()=>e.xr.end(),children:"Exit XR"})]}),(0,a.jsxs)(c.w,{name:"camera-root",children:[(0,a.jsxs)(c.w,{name:"camera",position:[4,1,4],rotation:[0,45,0],children:[(0,a.jsx)(p.i,{clearColor:"#1e1e1e"}),!t&&(0,a.jsx)(d.e,{script:j.a,enableFly:!1,pitchRange:new f.Z(-90,-5)})]}),(0,a.jsx)(d.e,{script:x}),(0,a.jsx)(d.e,{script:g})]}),(0,a.jsx)(c.w,{name:"cube-1",position:[-2,0,0],children:(0,a.jsx)(h.dw,{type:"box"})}),(0,a.jsx)(c.w,{name:"cube-2",position:[0,0,0],children:(0,a.jsx)(h.dw,{type:"box"})}),(0,a.jsx)(c.w,{name:"cube-3",position:[2,0,-2],children:(0,a.jsx)(h.dw,{type:"box"})})]})},b="import { useState, useEffect, useMemo } from 'react'\nimport { Entity } from '@playcanvas/react'\nimport { Camera, Render, Script } from '@playcanvas/react/components'\nimport { useApp } from '@playcanvas/react/hooks'\nimport { XrControllers } from 'playcanvas/scripts/esm/xr-controllers.mjs'\nimport { XrNavigation } from 'playcanvas/scripts/esm/xr-navigation.mjs'\nimport { CameraControls } from 'playcanvas/scripts/esm/camera-controls.mjs'\nimport { Vec2 } from 'playcanvas'\n\n// \u2191 imports hidden\nexport const XrExample = () => {\n  const app = useApp()\n  const [xrActive, setXrActive] = useState(false)\n  const arAvailable = useMemo(() => app?.xr?.isAvailable('immersive-ar'), [app.xr])\n  const vrAvailable = useMemo(() => app?.xr?.isAvailable('immersive-vr'), [app.xr])\n\n  // Listen for XR session start/end\n  useEffect(() => {\n    const onStart = () => setXrActive(true)\n    const onEnd = () => setXrActive(false)\n    \n    app.xr?.on('start', onStart)\n    app.xr?.on('end', onEnd)\n    \n    return () => {\n      app.xr?.off('start', onStart)\n      app.xr?.off('end', onEnd)\n    }\n  }, [app])\n\n  const startAR = () => {\n    const camera = app.root.findComponent('camera')\n    if (camera) {\n      app.xr.start(camera, 'immersive-ar', 'local-floor')\n    }\n  }\n\n  const startVR = () => {\n    const camera = app.root.findComponent('camera')\n    if (camera) {\n      app.xr.start(camera, 'immersive-vr', 'local-floor')\n    }\n  }\n\n  const endXR = () => app.xr.end()\n\n  return (\n    <>\n      {/* XR UI Controls */}\n      <div className=\"overlay\">\n        { !xrActive && arAvailable && <button onClick={startAR}>Enter AR</button> }\n        { !xrActive && vrAvailable && <button onClick={startVR}>Enter VR</button> }\n        { xrActive && <button data-selected onClick={endXR}>Exit XR</button> }\n      </div>\n\n      {/* Camera with XR support */}\n      <Entity name=\"camera-root\">\n        <Entity name=\"camera\" position={[4, 1, 4]} rotation={[0, 45, 0]}>\n          <Camera clearColor=\"#1e1e1e\" />\n          { !xrActive && <Script script={CameraControls} enableFly={false} pitchRange={new Vec2(-90, -5)} /> }\n        </Entity>\n        <Script script={XrControllers} />\n        <Script script={XrNavigation} />\n      </Entity>\n\n      {/* Scene content - a grid of cubes */}\n      <Entity name=\"cube-1\" position={[-2, 0, 0]}>\n        <Render type=\"box\" />\n      </Entity>\n      <Entity name=\"cube-2\" position={[0, 0, 0]}>\n        <Render type=\"box\" />\n      </Entity>\n      <Entity name=\"cube-3\" position={[2, 0, -2]}>\n        <Render type=\"box\" />\n      </Entity>\n    </>\n  )\n}\n\n",w={title:"XR"},C=void 0,S={},A=[{value:"Basic Setup",id:"basic-setup",level:2},{value:"XR Scripts",id:"xr-scripts",level:2},{value:"Camera Configuration",id:"camera-configuration",level:2},{value:"Starting XR Sessions",id:"starting-xr-sessions",level:2},{value:"Complete Example",id:"complete-example",level:2},{value:"Checking XR Availability",id:"checking-xr-availability",level:2},{value:"XR Events",id:"xr-events",level:2},{value:"Next Steps",id:"next-steps",level:2}];function X(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"PlayCanvas React makes it easy to add Virtual Reality (VR) and Augmented Reality (AR) support to your applications using the WebXR API."}),"\n",(0,a.jsx)(t.h2,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,a.jsx)(t.p,{children:"To enable XR support in your React application, you'll need:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"XR Scripts"})," - Import the XR controller and navigation scripts from the PlayCanvas engine package"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Camera Setup"})," - Configure your camera entity with XR scripts attached"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"XR Controls"})," - Add UI buttons to enter and exit XR sessions (WebXR requires user interaction)"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Secure Context"})," - Serve your app over HTTPS (or ",(0,a.jsx)(t.code,{children:"localhost"})," during development)"]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"xr-scripts",children:"XR Scripts"}),"\n",(0,a.jsx)(t.p,{children:"The PlayCanvas engine provides two essential XR scripts:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.code,{children:"XrControllers"})})," - Automatically downloads and renders XR controller models for detected controllers (including hand tracking)"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.code,{children:"XrNavigation"})})," - Implements teleportation-based navigation using point-and-select actions"]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Import them from the PlayCanvas scripts package:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:"import { XrControllers } from 'playcanvas/scripts/esm/xr-controllers.mjs'\nimport { XrNavigation } from 'playcanvas/scripts/esm/xr-navigation.mjs'\n"})}),"\n",(0,a.jsx)(t.h2,{id:"camera-configuration",children:"Camera Configuration"}),"\n",(0,a.jsx)(t.p,{children:"For XR to work properly, you need a camera entity with the XR scripts attached. The recommended structure is:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:'<Entity name="camera-root">\n  <Entity name="camera" position={[0, 1.6, 0]}>\n    <Camera clearColor="#1e1e1e" />\n  </Entity>\n  <Script script={XrControllers} />\n  <Script script={XrNavigation} />\n</Entity>\n'})}),"\n",(0,a.jsx)(t.p,{children:"The camera is positioned at approximately eye-level (1.6 meters) and the scripts are attached to the parent entity."}),"\n",(0,a.jsx)(t.h2,{id:"starting-xr-sessions",children:"Starting XR Sessions"}),"\n",(0,a.jsxs)(t.p,{children:["WebXR requires a user gesture to start a session. Use the ",(0,a.jsx)(t.code,{children:"app.xr"})," API to start and manage XR sessions:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:"const app = useApp()\n\nconst startVR = () => {\n  const camera = app.root.findComponent('camera')\n  if (camera) {\n    app.xr.start(camera, 'immersive-vr', 'local-floor')\n  }\n}\n\nconst startAR = () => {\n  const camera = app.root.findComponent('camera')\n  if (camera) {\n    app.xr.start(camera, 'immersive-ar', 'local-floor')\n  }\n}\n"})}),"\n",(0,a.jsx)(t.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,a.jsx)(t.p,{children:"Here's a complete example with XR support, including buttons to enter AR/VR mode and a simple scene with cubes you can navigate around in XR:"}),"\n",(0,a.jsx)(r.G,{label:"XR Support with AR and VR",filename:"xr-example.jsx",code:b,showDemo:!0,showControls:!1,children:(0,a.jsx)(o.l,{children:(0,a.jsx)(r.C,{useGrid:!0,useLight:!0,camera:[3,2,3],children:(0,a.jsx)(R,{})})})}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Press ",(0,a.jsx)(t.strong,{children:"Escape"})," to exit an active XR session"]}),"\n",(0,a.jsx)(t.li,{children:"XR availability depends on your device and browser support"}),"\n",(0,a.jsx)(t.li,{children:"Use a VR headset or AR-capable mobile device to test the full experience"}),"\n",(0,a.jsx)(t.li,{children:"During development, Chrome and Edge support WebXR emulation via DevTools"}),"\n"]})}),"\n",(0,a.jsx)(t.h2,{id:"checking-xr-availability",children:"Checking XR Availability"}),"\n",(0,a.jsx)(t.p,{children:"You can check if AR or VR is available on the current device:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:"const app = useApp()\nconst arAvailable = app.xr.isAvailable('immersive-ar')\nconst vrAvailable = app.xr.isAvailable('immersive-vr')\n"})}),"\n",(0,a.jsx)(t.h2,{id:"xr-events",children:"XR Events"}),"\n",(0,a.jsx)(t.p,{children:"Listen to XR session events to update your UI:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:"useEffect(() => {\n  const onStart = () => console.log('XR session started')\n  const onEnd = () => console.log('XR session ended')\n  \n  app.xr.on('start', onStart)\n  app.xr.on('end', onEnd)\n  \n  return () => {\n    app.xr.off('start', onStart)\n    app.xr.off('end', onEnd)\n  }\n}, [app])\n"})}),"\n",(0,a.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsx)(t.p,{children:"The PlayCanvas Engine has comprehensive XR support with many advanced features. For more information, check out:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"/user-manual/xr",children:"XR User Manual"})," - Comprehensive XR documentation"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"https://api.playcanvas.com/engine/classes/XrManager.html",children:"WebXR API Reference"})," - Full API documentation"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"https://github.com/playcanvas/engine/tree/main/scripts/esm",children:"XR Scripts Source"})," - View the XR scripts source code"]}),"\n"]})]})}function E(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(X,{...e})}):X(e)}},53558:(e,t,n)=>{n.d(t,{A:()=>y});var s=n(96540),a=n(55937),i=n(8939),r=n(78692),o=n(54256),l=n(25303),c=n(34363),p=n(53512),d=n(49801),h=n(24421),m=n(85593),u=n(83395),x=n(83171),v=n(74848);const f=e=>(0,v.jsx)(u.e,{script:x.d,...e}),y={React:s,...s,...o,...l,...c,...p,Grid:d.A,ShadowCatcher:h.A,GridScript:r.x,ShadowCatcherScript:i.X,StaticPostEffects:m.A,AutoRotate:f,CameraControls:a.a}},85593:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(83395),a=n(15817),i=n(74848);const r=e=>{const t={lighting:{exposure:1.21,skyBoxIntensity:1.02},rendering:{renderFormat:18,renderTargetScale:1,sharpness:0,samples:4,toneMapping:4,fog:"none",fogColor:{r:0,g:0,b:0,a:1},fogRange:[0,100],fogDensity:.01,renderFormatFallback0:12,renderFormatFallback1:14,sceneColorMap:!1,sceneDepthMap:!1,fogStart:0,fogEnd:100},bloom:{enabled:!0,intensity:.1,lastMipLevel:1},grading:{enabled:!0,brightness:.83,contrast:1.1,saturation:1.2,tint:{r:1,g:.9333333333333333,b:.8666666666666667,a:1}},vignette:{enabled:!0,intensity:1,inner:.25,outer:1.52,curvature:.78},fringing:{enabled:!0,intensity:10},...e};return(0,i.jsx)(s.e,{script:a.P,...t})}}}]);