"use strict";(globalThis.webpackChunkdeveloper_playcanvas_com=globalThis.webpackChunkdeveloper_playcanvas_com||[]).push([[17741],{28453:(e,s,a)=>{a.d(s,{R:()=>i,x:()=>o});var n=a(96540);const r={},t=n.createContext(r);function i(e){const s=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(t.Provider,{value:s},e.children)}},63699:(e,s,a)=>{a.r(s),a.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"user-manual/graphics/posteffects/cameraframe/extending-class","title":"Extending RenderPassCameraFrame Class","description":"For more advanced customization, you can extend the RenderPassCameraFrame class to add custom render passes or modify the rendering pipeline. This approach gives you full control over the pass creation and ordering while still leveraging the built-in CameraFrame effects.","source":"@site/docs/user-manual/graphics/posteffects/cameraframe/extending-class.md","sourceDirName":"user-manual/graphics/posteffects/cameraframe","slug":"/user-manual/graphics/posteffects/cameraframe/extending-class","permalink":"/ja/user-manual/graphics/posteffects/cameraframe/extending-class","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/graphics/posteffects/cameraframe/extending-class.md","tags":[],"version":"current","frontMatter":{"title":"Extending RenderPassCameraFrame Class"},"sidebar":"userManualSidebar","previous":{"title":"Customizing the Compose Shader","permalink":"/ja/user-manual/graphics/posteffects/cameraframe/compose-shader"},"next":{"title":"Custom Render Passes","permalink":"/ja/user-manual/graphics/posteffects/cameraframe/custom-passes"}}');var r=a(74848),t=a(28453);const i={title:"Extending RenderPassCameraFrame Class"},o=void 0,c={},d=[{value:"Overview",id:"overview",level:2},{value:"Example: Adding a Custom Render Pass",id:"example-adding-a-custom-render-pass",level:2},{value:"Use Cases",id:"use-cases",level:2}];function l(e){const s={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["For more advanced customization, you can extend the ",(0,r.jsx)(s.code,{children:"RenderPassCameraFrame"})," class to add custom render passes or modify the rendering pipeline. This approach gives you full control over the pass creation and ordering while still leveraging the built-in CameraFrame effects."]}),"\n",(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(s.p,{children:["By extending ",(0,r.jsx)(s.code,{children:"RenderPassCameraFrame"}),", you can:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Add custom render passes to the pipeline"}),"\n",(0,r.jsx)(s.li,{children:"Modify or replace existing passes"}),"\n",(0,r.jsx)(s.li,{children:"Control the order of pass execution"}),"\n",(0,r.jsx)(s.li,{children:"Access intermediate textures from the rendering pipeline"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"example-adding-a-custom-render-pass",children:"Example: Adding a Custom Render Pass"}),"\n",(0,r.jsxs)(s.p,{children:["This example demonstrates how to extend the ",(0,r.jsx)(s.code,{children:"RenderPassCameraFrame"})," class to insert a custom render pass into the rendering pipeline. By overriding the ",(0,r.jsx)(s.code,{children:"createPasses()"})," method, you can add your own processing step that operates on the scene texture. The ",(0,r.jsx)(s.code,{children:"collectPasses()"})," method then controls where in the pipeline your custom pass executes\u2014in this case, right before the final compose pass. This is useful when you need to apply custom effects that require their own render pass, such as edge detection, custom blur effects, or any processing that needs intermediate render targets."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-javascript",children:"import * as pc from 'playcanvas';\n\nclass CustomRenderPassCameraFrame extends pc.RenderPassCameraFrame {\n    createPasses(options) {\n        // Call the base implementation to create standard passes\n        super.createPasses(options);\n        \n        // Add your custom render pass\n        this.customPass = new MyCustomRenderPass(this.device, this.sceneTexture);\n        \n        // You can also modify or replace existing passes here\n    }\n    \n    collectPasses() {\n        // Override to control pass ordering\n        const passes = super.collectPasses();\n        \n        // Insert your custom pass at the desired position\n        // This example inserts it before the compose pass\n        passes.splice(passes.indexOf(this.composePass), 0, this.customPass);\n        \n        return passes;\n    }\n}\n\n// Use your custom class by extending CameraFrame\nclass MyCameraFrame extends pc.CameraFrame {\n    createRenderPass() {\n        return new CustomRenderPassCameraFrame(this.app, this, this.cameraComponent, this.options);\n    }\n}\n\n// Create an instance of your custom CameraFrame\nconst cameraFrame = new MyCameraFrame(app, cameraEntity.camera);\ncameraFrame.update();\n"})}),"\n",(0,r.jsx)(s.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(s.p,{children:"This approach is suitable for:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Adding render passes that require their own render targets"}),"\n",(0,r.jsx)(s.li,{children:"Implementing complex multi-pass effects"}),"\n",(0,r.jsx)(s.li,{children:"Integrating third-party rendering techniques"}),"\n",(0,r.jsx)(s.li,{children:"Advanced users who need fine-grained control over the pipeline"}),"\n",(0,r.jsx)(s.li,{children:"Effects that need to process intermediate results from other passes"}),"\n"]})]})}function m(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);