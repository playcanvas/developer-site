"use strict";(globalThis.webpackChunkdeveloper_playcanvas_com=globalThis.webpackChunkdeveloper_playcanvas_com||[]).push([[15708],{7184:(e,n,t)=>{t.d(n,{C:()=>G,G:()=>S});var s=t(11470),a=t(19365),r=t(59849),o=t(96540),l=t(95293),i=t(58640),d=t(18676),c=t(58817),u=t(19748),p=t(83395),h=t(43025),m=t(10977),f=t(7306),y=t(68869),x=t(78692),g=t(8939),v=t(40050),j=t(93953),w=t(27351),b=t(74848);const M="// \u2191 imports hidden",S=({code:e,label:n,filename:t,language:l="jsx",showDemo:d=!1,showViewSourceButton:c=!0,showControls:u=!0,children:p})=>{const[h,m]=(0,o.useState)(0);if(!p||!e)return console.error("CodeExample: code and children are required"),null;return(0,b.jsxs)(s.A,{defaultValue:h>0?"Code":d?"Demo":"Code",children:[(0,b.jsx)(a.A,{value:"Demo",children:(0,b.jsxs)("div",{className:"code-example-demo",children:[p,c&&(0,b.jsxs)("div",{className:"code-example-demo-footer",children:[n," - ",(0,b.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),m(e=>e+1)},children:"View Code"})]}),(0,b.jsx)("div",{className:"code-example-controls",children:(0,b.jsx)(i.XA,{fill:!0,hidden:!1===u})})]})}),(0,b.jsx)(a.A,{value:"Code",children:(0,b.jsx)(r.A,{language:l,title:t,children:e.includes(M)?M+e.split(M)[1]:e})})]},h)},C=e=>{const{width:n=8,depth:t=8,intensity:s=.75}=e,a=(0,o.useMemo)(()=>new j.e(n,1,t),[n,t]);return(0,b.jsxs)(d.w,{children:[(0,b.jsx)(u.v,{type:"directional",castShadows:!0,normalOffsetBias:0,shadowBias:0,shadowDistance:16,shadowResolution:1024,shadowType:w.au1,shadowUpdateMode:w.M5l,vsmBlurSize:8,shadowIntensity:s,intensity:0}),(0,b.jsx)(p.e,{script:g.X,intensity:s,scale:a})]})},G=({children:e,useLight:n=!0,useControls:t=!1,useGrid:s=!1,useShadow:a=!1,camera:r=[0,0,10],sceneOffset:i=[0,-.501,0],exposure:u=1})=>{const{colorMode:g}=(0,l.G)(),j=(0,m.n)(),{asset:w}=(0,f.yj)("/assets/helipad.png"),M="dark"===g?"#2a2a2a":"#e4e0e0",[S,G]=(0,o.useState)(!1),[k,A]=(0,o.useState)(!1),D=(0,o.useCallback)(()=>G(!0),[]),L=(0,o.useCallback)(()=>G(!1),[]),N=(0,o.useCallback)(()=>A(!0),[]),E=(0,o.useCallback)(()=>A(!1),[]);return(0,o.useEffect)(()=>{const e=j.graphicsDevice.canvas;e.style.cursor=S?"grabbing":k?"grab":"default"},[S,k,j]),(0,o.useEffect)(()=>{const e=()=>G(!1);return j.graphicsDevice.canvas.addEventListener("pointerup",e),()=>j.graphicsDevice?.canvas.removeEventListener("pointerup",e)},[j]),(0,b.jsxs)(d.w,{children:[(0,b.jsxs)(d.w,{name:"camera",position:r,children:[(0,b.jsx)(c.i,{clearColor:M,renderSceneColorMap:!0}),t&&(0,b.jsx)(p.e,{script:y.a,enableFly:!1,pitchRange:new v.Z(-90,-5)})]}),n&&(0,b.jsx)(h.O,{envAtlas:w,showSkybox:!1,exposure:u}),s&&(0,b.jsx)(d.w,{name:"grid",scale:[1e3,1,1e3],position:[0,-.5,0],children:(0,b.jsx)(p.e,{script:x.x})}),a&&(0,b.jsx)(d.w,{position:i,children:(0,b.jsx)(C,{})}),(0,b.jsx)(d.w,{onPointerOver:N,onPointerOut:E,onPointerDown:D,onPointerUp:L,children:e})]})}},24421:(e,n,t)=>{t.d(n,{A:()=>u});var s=t(18676),a=t(19748),r=t(83395),o=t(93953),l=t(27351),i=t(8939),d=t(96540),c=t(74848);const u=e=>{const{width:n=2,depth:t=2,intensity:u=.75}=e,p=(0,d.useMemo)(()=>new o.e(n,1,t),[n,t]);return(0,c.jsxs)(s.w,{position:[0,.001,0],children:[(0,c.jsx)(a.v,{type:"directional",castShadows:!0,normalOffsetBias:0,shadowBias:0,shadowDistance:16,shadowResolution:1024,shadowType:l.au1,shadowUpdateMode:l.M5l,vsmBlurSize:8,shadowIntensity:u,intensity:0}),(0,c.jsx)(r.e,{script:i.X,intensity:u,scale:p})]})}},49801:(e,n,t)=>{t.d(n,{A:()=>l});var s=t(18676),a=t(83395),r=t(78692),o=t(74848);const l=({...e})=>(0,o.jsx)(s.w,{scale:[1e3,1,1e3],children:(0,o.jsx)(a.e,{script:r.x,...e})})},53558:(e,n,t)=>{t.d(n,{A:()=>g});var s=t(96540),a=t(68869),r=t(8939),o=t(78692),l=t(54256),i=t(25303),d=t(34363),c=t(53512),u=t(49801),p=t(24421),h=t(85593),m=t(83395),f=t(83171),y=t(74848);const x=e=>(0,y.jsx)(m.e,{script:f.d,...e}),g={React:s,...s,...l,...i,...d,...c,Grid:u.A,ShadowCatcher:p.A,GridScript:o.x,ShadowCatcherScript:r.X,StaticPostEffects:h.A,AutoRotate:x,CameraControls:a.a}},85593:(e,n,t)=>{t.d(n,{A:()=>o});var s=t(83395),a=t(15817),r=t(74848);const o=e=>{const n={lighting:{exposure:1.21,skyBoxIntensity:1.02},rendering:{renderFormat:18,renderTargetScale:1,sharpness:0,samples:4,toneMapping:4,fog:"none",fogColor:{r:0,g:0,b:0,a:1},fogRange:[0,100],fogDensity:.01,renderFormatFallback0:12,renderFormatFallback1:14,sceneColorMap:!1,sceneDepthMap:!1,fogStart:0,fogEnd:100},bloom:{enabled:!0,intensity:.1,lastMipLevel:1},grading:{enabled:!0,brightness:.83,contrast:1.1,saturation:1.2,tint:{r:1,g:.9333333333333333,b:.8666666666666667,a:1}},vignette:{enabled:!0,intensity:1,inner:.25,outer:1.52,curvature:.78},fringing:{enabled:!0,intensity:10},...e};return(0,r.jsx)(s.e,{script:a.P,...n})}},87822:(e,n,t)=>{t.d(n,{s:()=>d});t(96540);var s=t(33257),a=t(19276),r=t(7306),o=t(58640),l=t(74848);const i={renderStyle:{options:{Wireframe:1,Shaded:0},value:1}},d=()=>{const{asset:e}=(0,r.fn)("/assets/statue.glb"),{renderStyle:n}=(0,o._5)(i);return e?(0,l.jsx)(s.A,{asset:e,children:(0,l.jsx)(a.B.Node,{path:"**[render]",children:(0,l.jsx)(a.B.Render,{renderStyle:n})})}):null}},91571:(e,n,t)=>{t.d(n,{A:()=>s});const s="import { useState } from 'react';\nimport { Entity, Gltf, Modify } from '@playcanvas/react';\nimport { useModel, useMaterial } from '@playcanvas/react/hooks';\nimport { useControls as useLevaControls } from 'leva';\n\nconst vars = {\n  renderStyle: {\n    options: {\n      Wireframe: 1, \n      Shaded: 0\n    },\n    value: 1\n  }\n}\n\nconst useControls = () => useLevaControls(vars);\n// \u2191 imports hidden\n\nexport const GltfModifyExample = () => {\n  const { asset } = useModel('/assets/statue.glb');\n  const { renderStyle } = useControls()\n\n  if (!asset) return null;\n\n  return (\n    <Gltf asset={asset} >\n      <Modify.Node path=\"**[render]\" >\n        <Modify.Render renderStyle={renderStyle} />\n      </Modify.Node>\n    </Gltf>\n  );\n};\n\n\n"},95270:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>p,default:()=>y,frontMatter:()=>u,metadata:()=>s,toc:()=>m});const s=JSON.parse('{"id":"user-manual/playcanvas-react/api/gltf","title":"<Gltf/>","description":"Documentation for the Gltf component","source":"@site/docs/user-manual/playcanvas-react/api/gltf.mdx","sourceDirName":"user-manual/playcanvas-react/api","slug":"/user-manual/playcanvas-react/api/gltf","permalink":"/ja/user-manual/playcanvas-react/api/gltf","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/playcanvas-react/api/gltf.mdx","tags":[],"version":"current","frontMatter":{"description":"Documentation for the Gltf component"},"sidebar":"userManualSidebar","previous":{"title":"<Entity/>","permalink":"/ja/user-manual/playcanvas-react/api/entity"},"next":{"title":"<Modify.*>","permalink":"/ja/user-manual/playcanvas-react/api/modify"}}');var a=t(74848),r=t(28453),o=t(7184),l=t(78264),i=t(18676),d=t(87822),c=t(91571);const u={description:"Documentation for the Gltf component"},p="<Gltf/>",h={},m=[{value:"Usage",id:"usage",level:2},{value:"Live example",id:"live-example",level:3},{value:"Data-only instantiation",id:"data-only-instantiation",level:3},{value:"Properties",id:"properties",level:2}];function f(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components},{RenderApiDocs:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("RenderApiDocs",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"gltf",children:(0,a.jsx)(n.code,{children:"<Gltf/>"})})}),"\n","\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"<Gltf/>"})," component loads and instantiates a GLB scene so you can work with its hierarchy from React. It renders the model by default, builds a cache of every entity in the file, and coordinates ",(0,a.jsx)(n.code,{children:"<Modify.*>"})," rules so you can declaratively adjust the imported content."]}),"\n",(0,a.jsxs)(n.p,{children:["Learn the bigger picture in the ",(0,a.jsx)(n.a,{href:"../../guide/modifying-glb-models",children:"Modifying GLB Models guide"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsxs)(n.p,{children:["Load a GLB with ",(0,a.jsx)(n.a,{href:"../hooks/use-asset",children:(0,a.jsx)(n.code,{children:"useModel"})})," and pass the asset into ",(0,a.jsx)(n.code,{children:"<Gltf/>"}),". The component handles instantiation for you:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",metastring:"copy",children:"import { useModel } from '@playcanvas/react/hooks';\nimport { Entity, Gltf } from '@playcanvas/react';\n\nexport function Statue() {\n  const { asset } = useModel('/assets/statue.glb');\n  if (!asset) return null;\n\n  return (\n    <Entity name=\"Statue\">\n      <Gltf asset={asset} key={asset.id} />\n    </Entity>\n  );\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"live-example",children:"Live example"}),"\n",(0,a.jsx)(n.p,{children:"This demo adds a control to change the render style of the model. It targets all nodes with a render component and changes the render style reactively."}),"\n",(0,a.jsx)(o.G,{label:"Control GLB rendering and render components",filename:"gltf-modify-example.jsx",code:c.A,showDemo:!0,children:(0,a.jsx)(l.l,{children:(0,a.jsx)(o.C,{useLight:!0,useShadow:!0,useGrid:!0,camera:[2,1,2],useControls:!0,exposure:3,children:(0,a.jsx)(i.w,{name:"Statue",scale:[.1,.1,.1],position:[0,-.5,0],children:(0,a.jsx)(d.s,{})})})})}),"\n",(0,a.jsx)(n.h3,{id:"data-only-instantiation",children:"Data-only instantiation"}),"\n",(0,a.jsxs)(n.p,{children:["Set ",(0,a.jsx)(n.code,{children:"render={false}"})," when you only need the scene hierarchy\u2014for example when generating colliders or running queries. ",(0,a.jsx)(n.code,{children:"<Gltf/>"})," still instantiates the GLB as long as you include at least one ",(0,a.jsx)(n.code,{children:"<Modify.Node>"})," child."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",metastring:"copy",children:'<Gltf asset={asset} key={asset.id} render={false}>\n  <Modify.Node path="**">\n    <Collision type="mesh" />\n  </Modify.Node>\n</Gltf>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,a.jsx)(t,{data:'[{"name":"default","description":"","entries":[{"name":"asset","description":"The GLTF asset loaded via useModel","optional":false,"type":{"displayName":"Asset","types":[{"name":"Asset","url":"https://api.playcanvas.com/engine/classes/Asset.html"}]}},{"name":"render","description":"Whether to render the GLTF scene visuals","optional":true,"defaultValue":"true","type":{"displayName":"boolean","types":[{"name":"false","url":null},{"name":"true","url":null}]}},{"name":"children","description":"Children should contain <Modify.Node> components","optional":true,"type":{"displayName":"ReactNode","types":[{"name":"string","url":null},{"name":"number","url":null},{"name":"bigint","url":null},{"name":"false","url":null},{"name":"true","url":null},{"name":"ReactElement","url":null},{"name":"Iterable","url":null},{"name":"ReactPortal","url":null},{"name":"Promise","url":null}]}}]}]'})]})}function y(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(f,{...e})}):f(e)}}}]);