"use strict";(globalThis.webpackChunkdeveloper_playcanvas_com=globalThis.webpackChunkdeveloper_playcanvas_com||[]).push([[82008],{28453:(n,e,a)=>{a.d(e,{R:()=>l,x:()=>t});var s=a(96540);const o={},i=s.createContext(o);function l(n){const e=s.useContext(i);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:l(n.components),s.createElement(i.Provider,{value:e},n.children)}},43316:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>r});const s=JSON.parse('{"id":"user-manual/engine/running-in-node","title":"Node.js\u3067\u30a8\u30f3\u30b8\u30f3\u3092\u5b9f\u884c\u3059\u308b","description":"Node.js\u306f\u3001Windows\u3001Linux\u3001macOS\u306a\u3069\u3067\u52d5\u4f5c\u3059\u308b\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306e\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9JavaScript\u30e9\u30f3\u30bf\u30a4\u30e0\u74b0\u5883\u3067\u3059\u3002\u3053\u308c\u306fV8 JavaScript\u30a8\u30f3\u30b8\u30f3\u4e0a\u3067\u52d5\u4f5c\u3057\u3001\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u306e\u5916\u90e8\u3067JavaScript\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002Node.js\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u958b\u767a\u8005\u306fJavaScript\u3067\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3084\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30b9\u30af\u30ea\u30d7\u30c6\u30a3\u30f3\u30b0\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/user-manual/engine/running-in-node.md","sourceDirName":"user-manual/engine","slug":"/user-manual/engine/running-in-node","permalink":"/ja/user-manual/engine/running-in-node","draft":false,"unlisted":false,"editUrl":"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/user-manual/engine/running-in-node.md","tags":[],"version":"current","frontMatter":{"title":"Node.js\u3067\u30a8\u30f3\u30b8\u30f3\u3092\u5b9f\u884c\u3059\u308b"},"sidebar":"userManualSidebar","previous":{"title":"Engine\u3092\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u3067\u4f7f\u7528\u3059\u308b","permalink":"/ja/user-manual/engine/standalone"},"next":{"title":"\u30a8\u30f3\u30b8\u30f3\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3","permalink":"/ja/user-manual/engine/migrations"}}');var o=a(74848),i=a(28453);const l={title:"Node.js\u3067\u30a8\u30f3\u30b8\u30f3\u3092\u5b9f\u884c\u3059\u308b"},t=void 0,d={},r=[{value:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",id:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",level:2},{value:"jsdom\u306e\u8a2d\u5b9a",id:"jsdom\u306e\u8a2d\u5b9a",level:2},{value:"PlayCanvas\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210",id:"playcanvas\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210",level:2}];function c(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.a,{href:"https://nodejs.org/",children:"Node.js"}),"\u306f\u3001Windows\u3001Linux\u3001macOS\u306a\u3069\u3067\u52d5\u4f5c\u3059\u308b\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306e\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9JavaScript\u30e9\u30f3\u30bf\u30a4\u30e0\u74b0\u5883\u3067\u3059\u3002\u3053\u308c\u306fV8 JavaScript\u30a8\u30f3\u30b8\u30f3\u4e0a\u3067\u52d5\u4f5c\u3057\u3001\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u306e\u5916\u90e8\u3067JavaScript\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002Node.js\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u958b\u767a\u8005\u306fJavaScript\u3067\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3084\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30b9\u30af\u30ea\u30d7\u30c6\u30a3\u30f3\u30b0\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,o.jsx)(e.p,{children:"PlayCanvas Engine\u306fNode.js\u3067\u306e\u5b9f\u884c\u3092\u5b8c\u5168\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u6b21\u306e\u3088\u3046\u306a\u5834\u5408\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc\u30b5\u30fc\u30d0\u30fc\u306e\u4f5c\u6210"}),"\n",(0,o.jsx)(e.li,{children:"\u30a2\u30bb\u30c3\u30c8\u30c7\u30fc\u30bf\u51e6\u7406\u30c4\u30fc\u30eb\u306e\u4f5c\u6210"}),"\n",(0,o.jsx)(e.li,{children:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5358\u4f53\u30c6\u30b9\u30c8\u306e\u8a18\u8ff0"}),"\n"]}),"\n",(0,o.jsx)(e.admonition,{type:"note",children:(0,o.jsxs)(e.p,{children:["PlayCanvas Engine\u306fNode.js\u3092\u4f7f\u7528\u3057\u3066\u72ec\u81ea\u306e",(0,o.jsx)(e.a,{href:"https://github.com/playcanvas/engine/blob/main/test/README.md",children:"\u5358\u4f53\u30c6\u30b9\u30c8"}),"\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002"]})}),"\n",(0,o.jsx)(e.h2,{id:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",children:"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"}),"\n",(0,o.jsxs)(e.p,{children:["\u958b\u59cb\u3059\u308b\u524d\u306b\u3001Node.js 18\u4ee5\u964d\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u306e\u5f8c\u3001npm\u3092\u4f7f\u7528\u3057\u3066PlayCanvas Engine\u3068",(0,o.jsx)(e.code,{children:"jsdom"}),"\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"npm install jsdom playcanvas --save-dev\n"})}),"\n",(0,o.jsx)(e.admonition,{type:"info",children:(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"jsdom"}),"\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3001Node.js\u3067DOM\u74b0\u5883\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u3001PlayCanvas Engine\u304c\u8907\u6570\u306e\u5834\u6240\u3067DOM API\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u5fc5\u8981\u3067\u3059\u3002"]})}),"\n",(0,o.jsx)(e.h2,{id:"jsdom\u306e\u8a2d\u5b9a",children:"jsdom\u306e\u8a2d\u5b9a"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"jsdom"}),"\u3092\u4f7f\u7528\u3057\u3066DOM\u74b0\u5883\u3092\u8a2d\u5b9a\u3057\u3001PlayCanvas Engine\u304c\u6b63\u5e38\u306b\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:"import { JSDOM } from 'jsdom';\nimport * => pc from 'playcanvas';\n\nlet jsdom;\n\nexport function jsdomSetup() {\n    const html = '<!DOCTYPE html><html><head></head><body></body></html>';\n\n    jsdom = new JSDOM(html, {\n        resources: 'usable',         // \u30a8\u30f3\u30b8\u30f3\u304c\u30a2\u30bb\u30c3\u30c8\u3092\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n        runScripts: 'dangerously',   // \u30a8\u30f3\u30b8\u30f3\u304c\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n        url: 'http://localhost:3000' // \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306eURL\u3092\u8a2d\u5b9a\u3059\u308b\n    });\n\n    // window\u3068document\u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u30b9\u30b3\u30fc\u30d7\u306b\u30b3\u30d4\u30fc\u3059\u308b\n    global.window = jsdom.window;\n    global.document = jsdom.window.document;\n\n    // \u30a8\u30f3\u30b8\u30f3\u3067\u4f7f\u7528\u3055\u308c\u308bDOM API\u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u30b9\u30b3\u30fc\u30d7\u306b\u30b3\u30d4\u30fc\u3059\u308b\n    global.ArrayBuffer = jsdom.window.ArrayBuffer;\n    global.Audio = jsdom.window.Audio;\n    global.DataView = jsdom.window.DataView;\n    global.Image = jsdom.window.Image;\n    global.KeyboardEvent = jsdom.window.KeyboardEvent;\n    global.MouseEvent = jsdom.window.MouseEvent;\n    global.XMLHttpRequest = jsdom.window.XMLHttpRequest;\n\n    // PlayCanvas API\u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u30b9\u30b3\u30fc\u30d7\u306b\u30b3\u30d4\u30fc\u3059\u308b\uff08\u300cclassic\u300d\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306e\u307f\u5fc5\u8981\uff09\n    jsdom.window.pc = pc;\n}\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"jsdomSetup()"}),"\u3092\u547c\u3073\u51fa\u3057\u305f\u5f8c\u3001\u901a\u5e38\u901a\u308aPlayCanvas\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,o.jsx)(e.h2,{id:"playcanvas\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210",children:"PlayCanvas\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210"}),"\n",(0,o.jsx)(e.p,{children:"Node.js\u3067PlayCanvas\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u3001\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306f\u5fc5\u8981\u306a\u3044\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3067\u3059\u3002\u3053\u306e\u5834\u5408\u3001\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u3092\u51fa\u529b\u3057\u306a\u3044Null\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30c7\u30d0\u30a4\u30b9\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:"import { Application, NullGraphicsDevice } from 'playcanvas';\n\nexport function createApp() {\n    const canvas = document.createElement('canvas');\n    const graphicsDevice = new NullGraphicsDevice(canvas);\n    return new Application(canvas, { graphicsDevice });\n}\n"})})]})}function u(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(c,{...n})}):c(n)}}}]);