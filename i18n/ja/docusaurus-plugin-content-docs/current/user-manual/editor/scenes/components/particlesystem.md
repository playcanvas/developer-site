---
title: Particle System
---

Particle Systemコンポーネントは、3D空間内でパーティクルエミッターを指定します。

![Particle System Component](/img/user-manual/editor/scenes/components/component-particlesystem.png)

## プロパティ

### 基本設定

| プロパティ名 | 説明 |
|-----------------|-------------|
| Auto Play       | チェックを入れると、パーティクルシステムは生成時にすぐに再生されます。このオプションをオフにした場合、スクリプトからParticle Systemコンポーネントの再生関数を呼び出す必要があります。 |
| Particle Count  | このパーティクルシステムで管理されるパーティクルの最大数。 |
| Lifetime        | パーティクルの誕生から消滅までの時間（秒単位）。 |
| Emission Rate   | パーティクル誕生間隔を定義する時間範囲の下限。次のパーティクル放出の時間は、Emission RateとEmission Rate 2の間でランダムに選択されます。 |
| Emission Rate 2 | パーティクル誕生間隔を定義する時間範囲の上限。次のパーティクル放出の時間は、Emission RateとEmission Rate 2の間でランダムに選択されます。 |
| Start Angle     | 初期パーティクル回転角度の下限（度単位）。各パーティクルについて、この角度はStart AngleとStart Angle 2の間でランダムに選択されます。 |
| Start Angle 2   | 初期パーティクル回転角度の上限（度単位）。各パーティクルについて、この角度はStart AngleとStart Angle 2の間でランダムに選択されます。 |
| Loop            | チェックされている場合、パーティクルシステムは無限に放出されます。それ以外の場合は、Particle Countで指定された数のパーティクルが放出された後に停止します。 |
| Pre Warm        | 有効にすると、パーティクルシステムはすでに完全なサイクルを完了したものとして初期化されます。このオプションはループするパーティクルシステムでのみ使用できます。 |

### ライティング

| プロパティ名 | 説明 |
|-----------------|-------------|
| Lighting        | チェックすると、パーティクルがシーン内の方向光および環境光によって照らされます。照明をより現実的にするには、パーティクルシステムに法線マップを設定することが推奨されます。 |
| Half Lambert    | Half Lambertライティングを有効にすると、ライトがパーティクルの裏側に向かって照射されているように見えるときに、パーティクルが平らに見えすぎるのを防ぎます。これは完全に非物理的なライティングモデルですが、より美しいビジュアル結果を得られます。このオプションはLightingが有効になっている場合にのみ使用できます。 |
| Intensity       | パーティクルの色をスケールして任意の明るさに設定できるようにします。 |

### レンダリング

| プロパティ名 | 説明 |
|-----------------|-------------|
| Depth Write     | チェックされている場合、パーティクルは深度情報を深度バッファに書き込みます。チェックを外すと、深度バッファは変更されず、パーティクルはレンダリングされる順序で互いに上書きされることが保証されます。 |
| Depth Softening | パーティクルが別の表面に近づくにつれてどの程度フェードアウトするかを決定します。これにより、パーティクルが表面に切り込んでいるように見える状況を回避できます。この値をゼロに設定すると、深度ソフテニングは無効になります。ゼロより大きな値を設定すると、深度比較を行うためにシーンを深度ターゲットにレンダリングする必要があります。 |
| Sort            | パーティクルのレンダリング順序を制御するソートモード。オプション: None（GPUでシミュレート、最高のパフォーマンス）、Camera Distance（奥から手前）、Newest First、Oldest First。 |
| Blend Type      | パーティクルがフレームバッファに書き込まれる際のブレンディングモード。オプション: Alpha、Additive、Multiply。 |
| Stretch         | 世界単位の値で、パーティクルがその速度に基づいてどれだけ伸びるかを制御します。パーティクルは中心から前回の位置に向かって伸びます。 |
| Align To Motion | パーティクルを移動方向に向けます。 |

### エミッター形状

| プロパティ名 | 説明 |
|-----------------|-------------|
| Emitter Shape   | エミッターボリュームの形状。オプション: Box、Sphere。 |
| Emitter Extents | Boxのみ。パーティクルがランダムな位置で発生するローカル空間内のボックス形状エミッターボリュームのハーフエクステント。 |
| Inner Extents   | Boxのみ。ボックス形状エミッターボリュームの内側のハーフエクステント。パーティクルは内側と外側のエクステントの間で発生します。 |
| Emitter Radius  | Sphereのみ。パーティクルがランダムな位置で発生する球形エミッターボリュームの半径。 |
| Inner Radius    | Sphereのみ。球形エミッターボリュームの内側の半径。パーティクルは内側と外側の半径の間で発生します。 |

### 空間とレイヤー

| プロパティ名 | 説明 |
|-----------------|-------------|
| Wrap            | ラップ境界を有効にします。 |
| Wrap Bounds     | オーナーエンティティの位置を中心にしたワールド空間のAABBボリューム。パーティクルがボリュームの一方の側の境界を越えた場合、逆側にテレポートされます。ラップされたエミッターのオーナーエンティティを移動することで、雨のような環境効果を作成できます。 |
| Local Space     | 有効にすると、パーティクルはワールド空間ではなくローカル空間でシミュレートされます。これにより、パーティクルはエミッターエンティティと一緒に移動します。 |
| Screen Space    | 有効にすると、パーティクルはスクリーン空間でレンダリングされます。2D UI効果に便利です。 |
| Layers          | このパーティクルシステムをレンダリングするレイヤー。 |

### 向き

| プロパティ名 | 説明 |
|-----------------|-------------|
| Orientation     | パーティクルの向きを制御します。オプション: Screen（カメラに向ける）、World Normal（固定のワールド方向に向ける）、Emitter Normal（エミッターの法線方向に向ける）。 |
| Particle Normal | Orientationが World Normal または Emitter Normal に設定されている場合のパーティクルの向きに使用される法線ベクトル。 |

### テクスチャ

| プロパティ名 | 説明 |
|-----------------|-------------|
| Color Map       | システム内のすべてのパーティクルに適用するカラーマップテクスチャ。テクスチャアセットが割り当てられていない場合、デフォルトのスポットテクスチャが使用されます。 |
| Normal Map      | システム内のすべてのパーティクルに適用する法線マップテクスチャ。法線マップを適用すると、ビルボードパーティクルをシーンの照明とより一致して表示させることができます。 |

### スプライトシートアニメーション

これらのプロパティは、Color MapまたはNormal Mapが設定されている場合に表示されます。

| プロパティ名 | 説明 |
|------------------|-------------|
| Horizontal Tiles | スプライトシートの水平タイル（列）の数。 |
| Vertical Tiles   | スプライトシートの垂直タイル（行）の数。 |
| Animation Count  | スプライトシート内の異なるアニメーションの数。 |
| Animation Index  | 再生するアニメーションのインデックス。Randomize Indexが有効な場合は無効になります。 |
| Randomize Index  | 有効にすると、各パーティクルがランダムにアニメーションインデックスを選択します。 |
| Frame Count      | アニメーション内のフレーム数。 |
| Start Frame      | アニメーションを開始するフレームインデックス。 |
| Animation Speed  | アニメーションの再生速度。 |
| Animation Loop   | 有効にすると、アニメーションがループします。 |

### メッシュ

| プロパティ名 | 説明 |
|-----------------|-------------|
| Model Asset     | モデルアセット。モデルの最初のメッシュが、平らなビルボードの代わりにすべてのパーティクルを表現するために使用されます。 |
| Render Asset    | レンダーアセット。メッシュが平らなビルボードの代わりにすべてのパーティクルを表現するために使用されます。Model AssetまたはRender Assetのどちらか一方のみ設定できます。 |

### カーブ

| プロパティ名 | 説明 |
|-----------------|-------------|
| Local Velocity  | パーティクルシステムのローカル座標系に対する各パーティクルの速度が時間とともにどのように変化するかを定義するカーブ。カーブエディタで2つのカーブが指定されている場合、ローカル速度は両方のカーブの間のランダムな補間になります。 |
| Velocity        | ワールド座標系に対する各パーティクルの速度が時間とともにどのように変化するかを定義するカーブ。カーブエディタで2つのカーブが指定されている場合、速度は両方のカーブの間のランダムな補間になります。 |
| Radial Speed    | 各パーティクルの放射方向の速度（エミッター中心から離れる方向）が時間とともにどのように変化するかを定義するカーブ。2つのカーブが指定されている場合、放射速度は両方のカーブの間のランダムな補間になります。 |
| Rotation Speed  | 各パーティクルの角速度が時間とともにどのように変化するかを定義するカーブ。カーブエディタで2つのカーブが指定されている場合、角速度は両方のカーブの間のランダムな補間になります。 |
| Scale           | 各パーティクルのスケールが時間とともにどのように変化するかを定義するカーブ。デフォルトでは、パーティクルの幅と高さは1単位です。カーブエディタで2つのカーブが指定されている場合、スケールは両方のカーブの間のランダムな補間になります。 |
| Color           | 各パーティクルの色が時間とともにどのように変化するかを定義するカーブ。 |
| Opacity         | 各パーティクルの不透明度が時間とともにどのように変化するかを定義するカーブ。カーブエディタで2つのカーブが指定されている場合、不透明度は両方のカーブの間のランダムな補間になります。 |

## 関連項目

- [パーティクルシステム](/user-manual/graphics/particles) - パーティクルシステムについて詳しく学ぶ

## スクリプトインターフェース

[Scriptコンポーネント](script.md)を使用してParticle Systemコンポーネントのプロパティを制御できます。Particle Systemコンポーネントのスクリプトインターフェースは[こちら](https://api.playcanvas.com/engine/classes/ParticleSystemComponent.html)です。
